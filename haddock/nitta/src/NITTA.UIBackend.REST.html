<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE DataKinds #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DeriveGeneric #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE OverloadedStrings #-}</span><span>
</span><span id="line-9"></span><span class="hs-pragma">{-# LANGUAGE ScopedTypeVariables #-}</span><span>
</span><span id="line-10"></span><span class="hs-pragma">{-# LANGUAGE TypeFamilies #-}</span><span>
</span><span id="line-11"></span><span class="hs-pragma">{-# LANGUAGE TypeOperators #-}</span><span>
</span><span id="line-12"></span><span>
</span><span id="line-13"></span><span class="hs-pragma">{-# OPTIONS -fno-warn-orphans #-}</span><span>
</span><span id="line-14"></span><span>
</span><span id="line-15"></span><span class="hs-comment">{- |
Module      : NITTA.UIBackend.REST
Description : REST API description for NITTA backend
Copyright   : (c) Aleksandr Penskoi, 2021
License     : BSD3
Maintainer  : aleksandr.penskoi@gmail.com
Stability   : experimental
-}</span><span>
</span><span id="line-23"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">NITTA.UIBackend.REST</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-24"></span><span>    </span><span class="annot"><a href="NITTA.UIBackend.REST.html#SynthesisAPI"><span class="hs-identifier">SynthesisAPI</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-25"></span><span>    </span><span class="annot"><a href="NITTA.UIBackend.REST.html#synthesisServer"><span class="hs-identifier">synthesisServer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier">BackendCtx</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier">UnitEndpoints</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-29"></span><span>
</span><span id="line-30"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Control.Monad.Except</span></span><span>
</span><span id="line-31"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Aeson</span></span><span>
</span><span id="line-32"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bifunctor</span></span><span>
</span><span id="line-33"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Default</span></span><span>
</span><span id="line-34"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Map.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">M</span></span><span>
</span><span id="line-35"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">S</span></span><span>
</span><span id="line-36"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Text</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">T</span></span><span>
</span><span id="line-37"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">GHC.Generics</span></span><span>
</span><span id="line-38"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Simulation.html"><span class="hs-identifier">NITTA.Intermediate.Simulation</span></a></span><span>
</span><span id="line-39"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html"><span class="hs-identifier">NITTA.Intermediate.Types</span></a></span><span>
</span><span id="line-40"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Microarchitecture.Builder.html"><span class="hs-identifier">NITTA.Model.Microarchitecture.Builder</span></a></span><span>
</span><span id="line-41"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Networks.Bus.html"><span class="hs-identifier">NITTA.Model.Networks.Bus</span></a></span><span>
</span><span id="line-42"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Networks.Types.html"><span class="hs-identifier">NITTA.Model.Networks.Types</span></a></span><span>
</span><span id="line-43"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.Problems.html"><span class="hs-identifier">NITTA.Model.Problems</span></a></span><span>
</span><span id="line-44"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Model.ProcessorUnits.html"><span class="hs-identifier">NITTA.Model.ProcessorUnits</span></a></span><span>
</span><span id="line-45"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Project.html"><span class="hs-identifier">NITTA.Project</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Project.Types.html#Project"><span class="hs-identifier">Project</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Project.Template.html#collectNittaPath"><span class="hs-identifier">collectNittaPath</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Project.Types.html#defProjectTemplates"><span class="hs-identifier">defProjectTemplates</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Project.html#runTestbench"><span class="hs-identifier">runTestbench</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Project.html#writeProject"><span class="hs-identifier">writeProject</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-46"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Project.TestBench.html"><span class="hs-identifier">NITTA.Project.TestBench</span></a></span><span>
</span><span id="line-47"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Synthesis.html"><span class="hs-identifier">NITTA.Synthesis</span></a></span><span>
</span><span id="line-48"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Analysis.html"><span class="hs-identifier">NITTA.Synthesis.Analysis</span></a></span><span>
</span><span id="line-49"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.UIBackend.Timeline.html"><span class="hs-identifier">NITTA.UIBackend.Timeline</span></a></span><span>
</span><span id="line-50"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html"><span class="hs-identifier">NITTA.UIBackend.ViewHelper</span></a></span><span>
</span><span id="line-51"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.UIBackend.VisJS.html"><span class="hs-identifier">NITTA.UIBackend.VisJS</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.VisJS.html#VisJS"><span class="hs-identifier">VisJS</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.UIBackend.VisJS.html#algToVizJS"><span class="hs-identifier">algToVizJS</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-52"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Utils.html"><span class="hs-identifier">NITTA.Utils</span></a></span><span>
</span><span id="line-53"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Numeric.Interval.NonEmpty</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-operator">(...)</span></span><span class="hs-special">)</span><span>
</span><span id="line-54"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Servant</span></span><span>
</span><span id="line-55"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Servant.Docs</span></span><span>
</span><span id="line-56"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.Directory</span></span><span>
</span><span id="line-57"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">System.FilePath</span></span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span class="hs-keyword">data</span><span> </span><span id="BackendCtx"><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-var">BackendCtx</span></a></span></span><span> </span><span id="local-6989586621680048688"><span class="annot"><a href="#local-6989586621680048688"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048687"><span class="annot"><a href="#local-6989586621680048687"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048686"><span class="annot"><a href="#local-6989586621680048686"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680048685"><span class="annot"><a href="#local-6989586621680048685"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BackendCtx"><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-var">BackendCtx</span></a></span></span><span>
</span><span id="line-60"></span><span>    </span><span class="hs-special">{</span><span> </span><span class="hs-comment">-- |root synthesis node</span><span>
</span><span id="line-61"></span><span>      </span><span id="%24sel%3Aroot%3ABackendCtx"><span class="annot"><span class="annottext">BackendCtx tag v x t -&gt; DefTree tag v x t
</span><a href="NITTA.UIBackend.REST.html#%24sel%3Aroot%3ABackendCtx"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#DefTree"><span class="hs-identifier hs-type">DefTree</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048688"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048687"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048686"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048685"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-62"></span><span>    </span><span class="hs-special">,</span><span> </span><span class="hs-comment">-- |lists of received by IO values</span><span>
</span><span id="line-63"></span><span>      </span><span id="%24sel%3AreceivedValues%3ABackendCtx"><span class="annot"><span class="annottext">BackendCtx tag v x t -&gt; [(v, [x])]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AreceivedValues%3ABackendCtx"><span class="hs-identifier hs-var hs-var">receivedValues</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680048687"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680048686"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-64"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AoutputPath%3ABackendCtx"><span class="annot"><span class="annottext">BackendCtx tag v x t -&gt; String
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AoutputPath%3ABackendCtx"><span class="hs-identifier hs-var hs-var">outputPath</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-65"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-66"></span><span>
</span><span id="line-67"></span><span class="hs-keyword">type</span><span> </span><span id="SynthesisAPI"><span class="annot"><a href="NITTA.UIBackend.REST.html#SynthesisAPI"><span class="hs-identifier hs-var">SynthesisAPI</span></a></span></span><span> </span><span id="local-6989586621680048277"><span class="annot"><a href="#local-6989586621680048277"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048276"><span class="annot"><a href="#local-6989586621680048276"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048275"><span class="annot"><a href="#local-6989586621680048275"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680048274"><span class="annot"><a href="#local-6989586621680048274"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-68"></span><span>    </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Get whole synthesis tree&quot;</span></span><span>
</span><span id="line-69"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;synthesisTree&quot;</span></span><span>
</span><span id="line-70"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#TreeView"><span class="hs-identifier hs-type">TreeView</span></a></span><span> </span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#ShortNodeView"><span class="hs-identifier hs-type">ShortNodeView</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-71"></span><span>    </span><span class="hs-special">)</span><span>
</span><span id="line-72"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Get synthesis tree info&quot;</span></span><span>
</span><span id="line-73"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;treeInfo&quot;</span></span><span>
</span><span id="line-74"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Analysis.html#TreeInfo"><span class="hs-identifier hs-type">TreeInfo</span></a></span><span>
</span><span id="line-75"></span><span>             </span><span class="hs-special">)</span><span>
</span><span id="line-76"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-string">&quot;node&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Capture</span></span><span> </span><span class="annot"><span class="hs-string">&quot;sid&quot;</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-77"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#SynthesisTreeNavigationAPI"><span class="hs-identifier hs-type">SynthesisTreeNavigationAPI</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048277"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048276"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048275"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048274"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-78"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#NodeInspectionAPI"><span class="hs-identifier hs-type">NodeInspectionAPI</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048277"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048276"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048275"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048274"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-79"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#TestBenchAPI"><span class="hs-identifier hs-type">TestBenchAPI</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048276"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048275"><span class="hs-identifier hs-type">x</span></a></span><span>
</span><span id="line-80"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#SynthesisMethodsAPI"><span class="hs-identifier hs-type">SynthesisMethodsAPI</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048277"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048276"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048275"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048274"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-81"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#SynthesisPracticesAPI"><span class="hs-identifier hs-type">SynthesisPracticesAPI</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048277"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048276"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048275"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048274"><span class="hs-identifier hs-type">t</span></a></span><span>
</span><span id="line-82"></span><span>                   </span><span class="hs-special">)</span><span>
</span><span id="line-83"></span><span>             </span><span class="hs-special">)</span><span>
</span><span id="line-84"></span><span>
</span><span id="line-85"></span><span id="synthesisServer"><span class="annot"><span class="annottext">synthesisServer :: BackendCtx tag v x a
-&gt; m (TreeView ShortNodeView)
   :&lt;|&gt; (m TreeInfo
         :&lt;|&gt; (SID
               -&gt; (m [NodeView tag v x a]
                   :&lt;|&gt; (m (Maybe (NodeView tag v x a)) :&lt;|&gt; m [NodeView tag v x a]))
                  :&lt;|&gt; ((m (NodeView tag v x a)
                         :&lt;|&gt; (m (GraphStructure GraphEdge)
                               :&lt;|&gt; (m (ProcessTimelines a)
                                     :&lt;|&gt; (m (Process a StepInfoView)
                                           :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                                                 :&lt;|&gt; (m [UnitEndpoints tag v a]
                                                       :&lt;|&gt; (m (MicroarchitectureDesc tag)
                                                             :&lt;|&gt; m (Debug tag v a))))))))
                        :&lt;|&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
                              :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
                                    :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))))))))
</span><a href="NITTA.UIBackend.REST.html#synthesisServer"><span class="hs-identifier hs-var hs-var">synthesisServer</span></a></span></span><span> </span><span id="local-6989586621680048264"><span class="annot"><span class="annottext">ctx :: BackendCtx tag v x a
</span><a href="#local-6989586621680048264"><span class="hs-identifier hs-var">ctx</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-type">BackendCtx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048263"><span class="annot"><span class="annottext">DefTree tag v x a
root :: DefTree tag v x a
$sel:root:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; DefTree tag v x t
</span><a href="#local-6989586621680048263"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-86"></span><span>    </span><span class="annot"><span class="annottext">IO (TreeView ShortNodeView) -&gt; m (TreeView ShortNodeView)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x a -&gt; IO (TreeView ShortNodeView)
forall u v1 x1 t1 a tag1 tag2 v2 x2 t2.
(ProcessorUnit u v1 x1 t1, NextTick u a, Num a, Enum a) =&gt;
Tree (TargetSystem u tag1 v1 x1 t1) tag2 v2 x2 t2
-&gt; IO (TreeView ShortNodeView)
</span><a href="NITTA.UIBackend.ViewHelper.html#viewNodeTree"><span class="hs-identifier hs-var">viewNodeTree</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x a
</span><a href="#local-6989586621680048263"><span class="hs-identifier hs-var">root</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-87"></span><span>        </span><span class="annot"><span class="annottext">m (TreeView ShortNodeView)
-&gt; (m TreeInfo
    :&lt;|&gt; (SID
          -&gt; (m [NodeView tag v x a]
              :&lt;|&gt; (m (Maybe (NodeView tag v x a)) :&lt;|&gt; m [NodeView tag v x a]))
             :&lt;|&gt; ((m (NodeView tag v x a)
                    :&lt;|&gt; (m (GraphStructure GraphEdge)
                          :&lt;|&gt; (m (ProcessTimelines a)
                                :&lt;|&gt; (m (Process a StepInfoView)
                                      :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                                            :&lt;|&gt; (m [UnitEndpoints tag v a]
                                                  :&lt;|&gt; (m (MicroarchitectureDesc tag)
                                                        :&lt;|&gt; m (Debug tag v a))))))))
                   :&lt;|&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
                         :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
                               :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))))))))
-&gt; m (TreeView ShortNodeView)
   :&lt;|&gt; (m TreeInfo
         :&lt;|&gt; (SID
               -&gt; (m [NodeView tag v x a]
                   :&lt;|&gt; (m (Maybe (NodeView tag v x a)) :&lt;|&gt; m [NodeView tag v x a]))
                  :&lt;|&gt; ((m (NodeView tag v x a)
                         :&lt;|&gt; (m (GraphStructure GraphEdge)
                               :&lt;|&gt; (m (ProcessTimelines a)
                                     :&lt;|&gt; (m (Process a StepInfoView)
                                           :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                                                 :&lt;|&gt; (m [UnitEndpoints tag v a]
                                                       :&lt;|&gt; (m (MicroarchitectureDesc tag)
                                                             :&lt;|&gt; m (Debug tag v a))))))))
                        :&lt;|&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
                              :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
                                    :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO TreeInfo -&gt; m TreeInfo
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x a -&gt; IO TreeInfo
forall u v1 x1 t1 a tag1 tag2 v2 x2 t2.
(ProcessorUnit u v1 x1 t1, Enum a, Num a, NextTick u a) =&gt;
Tree (TargetSystem u tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; IO TreeInfo
</span><a href="NITTA.Synthesis.Analysis.html#getTreeInfo"><span class="hs-identifier hs-var">getTreeInfo</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x a
</span><a href="#local-6989586621680048263"><span class="hs-identifier hs-var">root</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-88"></span><span>        </span><span class="annot"><span class="annottext">m TreeInfo
-&gt; (SID
    -&gt; (m [NodeView tag v x a]
        :&lt;|&gt; (m (Maybe (NodeView tag v x a)) :&lt;|&gt; m [NodeView tag v x a]))
       :&lt;|&gt; ((m (NodeView tag v x a)
              :&lt;|&gt; (m (GraphStructure GraphEdge)
                    :&lt;|&gt; (m (ProcessTimelines a)
                          :&lt;|&gt; (m (Process a StepInfoView)
                                :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                                      :&lt;|&gt; (m [UnitEndpoints tag v a]
                                            :&lt;|&gt; (m (MicroarchitectureDesc tag)
                                                  :&lt;|&gt; m (Debug tag v a))))))))
             :&lt;|&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
                   :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
                         :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID))))))))
-&gt; m TreeInfo
   :&lt;|&gt; (SID
         -&gt; (m [NodeView tag v x a]
             :&lt;|&gt; (m (Maybe (NodeView tag v x a)) :&lt;|&gt; m [NodeView tag v x a]))
            :&lt;|&gt; ((m (NodeView tag v x a)
                   :&lt;|&gt; (m (GraphStructure GraphEdge)
                         :&lt;|&gt; (m (ProcessTimelines a)
                               :&lt;|&gt; (m (Process a StepInfoView)
                                     :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                                           :&lt;|&gt; (m [UnitEndpoints tag v a]
                                                 :&lt;|&gt; (m (MicroarchitectureDesc tag)
                                                       :&lt;|&gt; m (Debug tag v a))))))))
                  :&lt;|&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
                        :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
                              :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID))))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="hs-glyph">\</span><span id="local-6989586621680048258"><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048258"><span class="hs-identifier hs-var">sid</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span>
</span><span id="line-89"></span><span>            </span><span class="annot"><span class="annottext">BackendCtx tag v x a
-&gt; SID
-&gt; m [NodeView tag v x a]
   :&lt;|&gt; (m (Maybe (NodeView tag v x a)) :&lt;|&gt; m [NodeView tag v x a])
forall (m :: * -&gt; *) (m :: * -&gt; *) (m :: * -&gt; *) tag v x t.
(MonadIO m, MonadIO m, MonadIO m, IsString tag, IsString v,
 ToString tag, ToString v, Suffix v, Hashable v, Val x, Bounded t,
 ToJSONKey v, ToJSON v, ToJSON x, ToJSON t, Typeable tag,
 Typeable v, Typeable t, Show t, Default t, Integral t, Ord tag,
 Ord v) =&gt;
BackendCtx tag v x t
-&gt; SID
-&gt; m [NodeView tag v x t]
   :&lt;|&gt; (m (Maybe (NodeView tag v x t)) :&lt;|&gt; m [NodeView tag v x t])
</span><a href="NITTA.UIBackend.REST.html#synthesisTreeNavigation"><span class="hs-identifier hs-var">synthesisTreeNavigation</span></a></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a
</span><a href="#local-6989586621680048264"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048258"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-90"></span><span>                </span><span class="annot"><span class="annottext">(m [NodeView tag v x a]
 :&lt;|&gt; (m (Maybe (NodeView tag v x a)) :&lt;|&gt; m [NodeView tag v x a]))
-&gt; ((m (NodeView tag v x a)
     :&lt;|&gt; (m (GraphStructure GraphEdge)
           :&lt;|&gt; (m (ProcessTimelines a)
                 :&lt;|&gt; (m (Process a StepInfoView)
                       :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                             :&lt;|&gt; (m [UnitEndpoints tag v a]
                                   :&lt;|&gt; (m (MicroarchitectureDesc tag) :&lt;|&gt; m (Debug tag v a))))))))
    :&lt;|&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
          :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
                :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))))))
-&gt; (m [NodeView tag v x a]
    :&lt;|&gt; (m (Maybe (NodeView tag v x a)) :&lt;|&gt; m [NodeView tag v x a]))
   :&lt;|&gt; ((m (NodeView tag v x a)
          :&lt;|&gt; (m (GraphStructure GraphEdge)
                :&lt;|&gt; (m (ProcessTimelines a)
                      :&lt;|&gt; (m (Process a StepInfoView)
                            :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                                  :&lt;|&gt; (m [UnitEndpoints tag v a]
                                        :&lt;|&gt; (m (MicroarchitectureDesc tag)
                                              :&lt;|&gt; m (Debug tag v a))))))))
         :&lt;|&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
               :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
                     :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a
-&gt; SID
-&gt; m (NodeView tag v x a)
   :&lt;|&gt; (m (GraphStructure GraphEdge)
         :&lt;|&gt; (m (ProcessTimelines a)
               :&lt;|&gt; (m (Process a StepInfoView)
                     :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                           :&lt;|&gt; (m [UnitEndpoints tag v a]
                                 :&lt;|&gt; (m (MicroarchitectureDesc tag) :&lt;|&gt; m (Debug tag v a)))))))
forall t v a x (m :: * -&gt; *) (m :: * -&gt; *) (m :: * -&gt; *)
       (m :: * -&gt; *) (m :: * -&gt; *) (m :: * -&gt; *) (m :: * -&gt; *)
       (m :: * -&gt; *).
(Bounded t, Hashable v, Suffix v, ToString v, ToString a,
 IsString v, IsString a, Label v, ToJSONKey v, Val x, ToJSON v,
 ToJSON x, ToJSON t, Typeable t, Typeable v, Typeable a, MonadIO m,
 MonadIO m, MonadIO m, MonadIO m, MonadIO m, MonadIO m, MonadIO m,
 MonadIO m, Show t, Default t, Integral t, Ord v, Ord a) =&gt;
BackendCtx a v x t
-&gt; SID
-&gt; m (NodeView a v x t)
   :&lt;|&gt; (m (GraphStructure GraphEdge)
         :&lt;|&gt; (m (ProcessTimelines t)
               :&lt;|&gt; (m (Process t StepInfoView)
                     :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
                           :&lt;|&gt; (m [UnitEndpoints a v t]
                                 :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)))))))
</span><a href="NITTA.UIBackend.REST.html#nodeInspection"><span class="hs-identifier hs-var">nodeInspection</span></a></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a
</span><a href="#local-6989586621680048264"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048258"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-91"></span><span>                </span><span class="annot"><span class="annottext">(m (NodeView tag v x a)
 :&lt;|&gt; (m (GraphStructure GraphEdge)
       :&lt;|&gt; (m (ProcessTimelines a)
             :&lt;|&gt; (m (Process a StepInfoView)
                   :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                         :&lt;|&gt; (m [UnitEndpoints tag v a]
                               :&lt;|&gt; (m (MicroarchitectureDesc tag) :&lt;|&gt; m (Debug tag v a))))))))
-&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
    :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
          :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID))))))
-&gt; (m (NodeView tag v x a)
    :&lt;|&gt; (m (GraphStructure GraphEdge)
          :&lt;|&gt; (m (ProcessTimelines a)
                :&lt;|&gt; (m (Process a StepInfoView)
                      :&lt;|&gt; ((tag -&gt; m (Process a StepInfoView))
                            :&lt;|&gt; (m [UnitEndpoints tag v a]
                                  :&lt;|&gt; (m (MicroarchitectureDesc tag) :&lt;|&gt; m (Debug tag v a))))))))
   :&lt;|&gt; ((String -&gt; Int -&gt; m (TestbenchReport v x))
         :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
               :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a
-&gt; SID -&gt; String -&gt; Int -&gt; m (TestbenchReport v x)
forall t v1 tag2 (m :: * -&gt; *) x2.
(Bounded t, IsString v1, IsString tag2, ToString v1, ToString tag2,
 Suffix v1, Hashable v1, MonadIO m, Val x2, Default t, Typeable t,
 Typeable v1, Typeable tag2, Show t, Integral t, Ord v1,
 Ord tag2) =&gt;
BackendCtx tag2 v1 x2 t
-&gt; SID -&gt; String -&gt; Int -&gt; m (TestbenchReport v1 x2)
</span><a href="NITTA.UIBackend.REST.html#testBench"><span class="hs-identifier hs-var">testBench</span></a></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a
</span><a href="#local-6989586621680048264"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048258"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-92"></span><span>                </span><span class="annot"><span class="annottext">(String -&gt; Int -&gt; m (TestbenchReport v x))
-&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
    :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))))
-&gt; (String -&gt; Int -&gt; m (TestbenchReport v x))
   :&lt;|&gt; ((m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
         :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a -&gt; SID -&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID)
forall v x t tag (m :: * -&gt; *) (m :: * -&gt; *) (m :: * -&gt; *).
(Suffix v, Hashable v, Val x, Bounded t, ToString v, ToString tag,
 IsString v, IsString tag, MonadIO m, MonadIO m, MonadIO m,
 Typeable v, Typeable t, Typeable tag, Show t, Default t,
 Integral t, Ord v, Ord tag) =&gt;
BackendCtx tag v x t -&gt; SID -&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID)
</span><a href="NITTA.UIBackend.REST.html#synthesisMethods"><span class="hs-identifier hs-var">synthesisMethods</span></a></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a
</span><a href="#local-6989586621680048264"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048258"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-93"></span><span>                </span><span class="annot"><span class="annottext">(m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
-&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID))))
-&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID))
   :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a
-&gt; SID -&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))
forall v x t tag (m :: * -&gt; *) (m :: * -&gt; *) (m :: * -&gt; *)
       (m :: * -&gt; *).
(Suffix v, Hashable v, Val x, Bounded t, ToString v, ToString tag,
 IsString v, IsString tag, MonadIO m, MonadIO m, MonadIO m,
 MonadIO m, Typeable v, Typeable t, Typeable tag, Show t, Default t,
 Integral t, Ord v, Ord tag) =&gt;
BackendCtx tag v x t
-&gt; SID -&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))
</span><a href="NITTA.UIBackend.REST.html#synthesisPractices"><span class="hs-identifier hs-var">synthesisPractices</span></a></span><span> </span><span class="annot"><span class="annottext">BackendCtx tag v x a
</span><a href="#local-6989586621680048264"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048258"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-94"></span><span>
</span><span id="line-95"></span><span class="hs-keyword">type</span><span> </span><span id="SynthesisTreeNavigationAPI"><span class="annot"><a href="NITTA.UIBackend.REST.html#SynthesisTreeNavigationAPI"><span class="hs-identifier hs-var">SynthesisTreeNavigationAPI</span></a></span></span><span> </span><span id="local-6989586621680048252"><span class="annot"><a href="#local-6989586621680048252"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048251"><span class="annot"><a href="#local-6989586621680048251"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048250"><span class="annot"><a href="#local-6989586621680048250"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680048249"><span class="annot"><a href="#local-6989586621680048249"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-96"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Summary</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Synthesis tree navigation&quot;</span></span><span>
</span><span id="line-97"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Get list of synthesis nodes from the root to the specific node&quot;</span></span><span>
</span><span id="line-98"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;history&quot;</span></span><span>
</span><span id="line-99"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#NodeView"><span class="hs-identifier hs-type">NodeView</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048252"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048251"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048250"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048249"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-100"></span><span>             </span><span class="hs-special">)</span><span>
</span><span id="line-101"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Get edge to the parent&quot;</span></span><span>
</span><span id="line-102"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;parentEdge&quot;</span></span><span>
</span><span id="line-103"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Maybe</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#NodeView"><span class="hs-identifier hs-type">NodeView</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048252"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048251"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048250"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048249"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-104"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-105"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Get sub forest&quot;</span></span><span>
</span><span id="line-106"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;subForest&quot;</span></span><span>
</span><span id="line-107"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#NodeView"><span class="hs-identifier hs-type">NodeView</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048252"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048251"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048250"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048249"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-108"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-109"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-110"></span><span>
</span><span id="line-111"></span><span id="synthesisTreeNavigation"><span class="annot"><span class="annottext">synthesisTreeNavigation :: BackendCtx tag v x t
-&gt; SID
-&gt; m [NodeView tag v x t]
   :&lt;|&gt; (m (Maybe (NodeView tag v x t)) :&lt;|&gt; m [NodeView tag v x t])
</span><a href="NITTA.UIBackend.REST.html#synthesisTreeNavigation"><span class="hs-identifier hs-var hs-var">synthesisTreeNavigation</span></a></span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-type">BackendCtx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048247"><span class="annot"><span class="annottext">DefTree tag v x t
root :: DefTree tag v x t
$sel:root:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; DefTree tag v x t
</span><a href="#local-6989586621680048247"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680048246"><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048246"><span class="hs-identifier hs-var">sid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-112"></span><span>    </span><span class="annot"><span class="annottext">IO [NodeView tag v x t] -&gt; m [NodeView tag v x t]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; NodeView tag v x t)
-&gt; [DefTree tag v x t] -&gt; [NodeView tag v x t]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; NodeView tag v x t
forall t v. Viewable t v =&gt; t -&gt; v
</span><a href="NITTA.UIBackend.ViewHelperCls.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">([DefTree tag v x t] -&gt; [NodeView tag v x t])
-&gt; IO [DefTree tag v x t] -&gt; IO [NodeView tag v x t]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO [DefTree tag v x t]
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     [Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t]
</span><a href="NITTA.Synthesis.Explore.html#getTreePathIO"><span class="hs-identifier hs-var">getTreePathIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048247"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048246"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-113"></span><span>        </span><span class="annot"><span class="annottext">m [NodeView tag v x t]
-&gt; (m (Maybe (NodeView tag v x t)) :&lt;|&gt; m [NodeView tag v x t])
-&gt; m [NodeView tag v x t]
   :&lt;|&gt; (m (Maybe (NodeView tag v x t)) :&lt;|&gt; m [NodeView tag v x t])
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO (Maybe (NodeView tag v x t)) -&gt; m (Maybe (NodeView tag v x t))
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; NodeView tag v x t)
-&gt; Maybe (DefTree tag v x t) -&gt; Maybe (NodeView tag v x t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-identifier hs-var">fmap</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; NodeView tag v x t
forall t v. Viewable t v =&gt; t -&gt; v
</span><a href="NITTA.UIBackend.ViewHelperCls.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">(Maybe (DefTree tag v x t) -&gt; Maybe (NodeView tag v x t))
-&gt; (DefTree tag v x t -&gt; Maybe (DefTree tag v x t))
-&gt; DefTree tag v x t
-&gt; Maybe (NodeView tag v x t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">SynthesisState
  (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; Maybe (DefTree tag v x t)
forall m tag v x t.
SynthesisState m tag v x t -&gt; Maybe (Tree m tag v x t)
</span><a href="NITTA.Synthesis.Types.html#sParent"><span class="hs-identifier hs-var hs-var">sParent</span></a></span><span> </span><span class="annot"><span class="annottext">(SynthesisState
   (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
 -&gt; Maybe (DefTree tag v x t))
-&gt; (DefTree tag v x t
    -&gt; SynthesisState
         (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
-&gt; DefTree tag v x t
-&gt; Maybe (DefTree tag v x t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
-&gt; SynthesisState
     (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
forall m tag v x t. Tree m tag v x t -&gt; SynthesisState m tag v x t
</span><a href="NITTA.Synthesis.Types.html#sState"><span class="hs-identifier hs-var hs-var">sState</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; Maybe (NodeView tag v x t))
-&gt; IO (DefTree tag v x t) -&gt; IO (Maybe (NodeView tag v x t))
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048247"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048246"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-114"></span><span>        </span><span class="annot"><span class="annottext">m (Maybe (NodeView tag v x t))
-&gt; m [NodeView tag v x t]
-&gt; m (Maybe (NodeView tag v x t)) :&lt;|&gt; m [NodeView tag v x t]
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO [NodeView tag v x t] -&gt; m [NodeView tag v x t]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; NodeView tag v x t)
-&gt; [DefTree tag v x t] -&gt; [NodeView tag v x t]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; NodeView tag v x t
forall t v. Viewable t v =&gt; t -&gt; v
</span><a href="NITTA.UIBackend.ViewHelperCls.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">([DefTree tag v x t] -&gt; [NodeView tag v x t])
-&gt; IO [DefTree tag v x t] -&gt; IO [NodeView tag v x t]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; IO [DefTree tag v x t]
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; IO
     [Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t]
</span><a href="NITTA.Synthesis.Explore.html#subForestIO"><span class="hs-identifier hs-var">subForestIO</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; IO [DefTree tag v x t])
-&gt; IO (DefTree tag v x t) -&gt; IO [DefTree tag v x t]
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048247"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048246"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-115"></span><span>
</span><span id="line-116"></span><span class="hs-keyword">type</span><span> </span><span id="NodeInspectionAPI"><span class="annot"><a href="NITTA.UIBackend.REST.html#NodeInspectionAPI"><span class="hs-identifier hs-var">NodeInspectionAPI</span></a></span></span><span> </span><span id="local-6989586621680048236"><span class="annot"><a href="#local-6989586621680048236"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048235"><span class="annot"><a href="#local-6989586621680048235"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048234"><span class="annot"><a href="#local-6989586621680048234"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680048233"><span class="annot"><a href="#local-6989586621680048233"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-117"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Summary</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Synthesis node inspection&quot;</span></span><span>
</span><span id="line-118"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Get node info\n(see: NITTA.Synthesis.Tree.Node)&quot;</span></span><span>
</span><span id="line-119"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#NodeView"><span class="hs-identifier hs-type">NodeView</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048236"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048235"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048234"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048233"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-120"></span><span>             </span><span class="hs-special">)</span><span>
</span><span id="line-121"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Intermidiate reperesentation of the current version of the algorithm&quot;</span></span><span>
</span><span id="line-122"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;intermediateView&quot;</span></span><span>
</span><span id="line-123"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.UIBackend.VisJS.html#VisJS"><span class="hs-identifier hs-type">VisJS</span></a></span><span>
</span><span id="line-124"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-125"></span><span>                </span><span class="hs-comment">-- TODO: Replace by raw process fetching or add typescript types.</span><span>
</span><span id="line-126"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Computational process representation (deprecated)&quot;</span></span><span>
</span><span id="line-127"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;processTimelines&quot;</span></span><span>
</span><span id="line-128"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.Timeline.html#ProcessTimelines"><span class="hs-identifier hs-type">ProcessTimelines</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048233"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-129"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-130"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Process Description for specific process unit&quot;</span></span><span>
</span><span id="line-131"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;process&quot;</span></span><span>
</span><span id="line-132"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048233"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-type">StepInfoView</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-133"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-134"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Process Description for specific process unit&quot;</span></span><span>
</span><span id="line-135"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;microarchitecture&quot;</span></span><span>
</span><span id="line-136"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Capture</span></span><span> </span><span class="annot"><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><a href="#local-6989586621680048236"><span class="hs-identifier hs-type">tag</span></a></span><span>
</span><span id="line-137"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;process&quot;</span></span><span>
</span><span id="line-138"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048233"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-type">StepInfoView</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-139"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-140"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Enpoint options for all process units&quot;</span></span><span>
</span><span id="line-141"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;endpoints&quot;</span></span><span>
</span><span id="line-142"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier hs-type">UnitEndpoints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048236"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048235"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048233"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-143"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-144"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Microarchitecture description&quot;</span></span><span>
</span><span id="line-145"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;microarchitecture&quot;</span></span><span>
</span><span id="line-146"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Microarchitecture.Builder.html#MicroarchitectureDesc"><span class="hs-identifier hs-type">MicroarchitectureDesc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048236"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-147"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-string">&quot;debug&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#DebugAPI"><span class="hs-identifier hs-type">DebugAPI</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048236"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048235"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048233"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-149"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-150"></span><span>
</span><span id="line-151"></span><span id="nodeInspection"><span class="annot"><span class="annottext">nodeInspection :: BackendCtx a v x t
-&gt; SID
-&gt; m (NodeView a v x t)
   :&lt;|&gt; (m (GraphStructure GraphEdge)
         :&lt;|&gt; (m (ProcessTimelines t)
               :&lt;|&gt; (m (Process t StepInfoView)
                     :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
                           :&lt;|&gt; (m [UnitEndpoints a v t]
                                 :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)))))))
</span><a href="NITTA.UIBackend.REST.html#nodeInspection"><span class="hs-identifier hs-var hs-var">nodeInspection</span></a></span></span><span> </span><span id="local-6989586621680048231"><span class="annot"><span class="annottext">ctx :: BackendCtx a v x t
</span><a href="#local-6989586621680048231"><span class="hs-identifier hs-var">ctx</span></a></span></span><span class="hs-glyph">@</span><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-type">BackendCtx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048230"><span class="annot"><span class="annottext">DefTree a v x t
root :: DefTree a v x t
$sel:root:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; DefTree tag v x t
</span><a href="#local-6989586621680048230"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680048229"><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-152"></span><span>    </span><span class="annot"><span class="annottext">IO (NodeView a v x t) -&gt; m (NodeView a v x t)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree a v x t -&gt; NodeView a v x t
forall t v. Viewable t v =&gt; t -&gt; v
</span><a href="NITTA.UIBackend.ViewHelperCls.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree a v x t -&gt; NodeView a v x t)
-&gt; IO (DefTree a v x t) -&gt; IO (NodeView a v x t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; SID -&gt; IO (DefTree a v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048230"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-153"></span><span>        </span><span class="annot"><span class="annottext">m (NodeView a v x t)
-&gt; (m (GraphStructure GraphEdge)
    :&lt;|&gt; (m (ProcessTimelines t)
          :&lt;|&gt; (m (Process t StepInfoView)
                :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
                      :&lt;|&gt; (m [UnitEndpoints a v t]
                            :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)))))))
-&gt; m (NodeView a v x t)
   :&lt;|&gt; (m (GraphStructure GraphEdge)
         :&lt;|&gt; (m (ProcessTimelines t)
               :&lt;|&gt; (m (Process t StepInfoView)
                     :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
                           :&lt;|&gt; (m [UnitEndpoints a v t]
                                 :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO (GraphStructure GraphEdge) -&gt; m (GraphStructure GraphEdge)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">[F v x] -&gt; GraphStructure GraphEdge
forall v x. Label v =&gt; [F v x] -&gt; GraphStructure GraphEdge
</span><a href="NITTA.UIBackend.VisJS.html#algToVizJS"><span class="hs-identifier hs-var">algToVizJS</span></a></span><span> </span><span class="annot"><span class="annottext">([F v x] -&gt; GraphStructure GraphEdge)
-&gt; (DefTree a v x t -&gt; [F v x])
-&gt; DefTree a v x t
-&gt; GraphStructure GraphEdge
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DataFlowGraph v x -&gt; [F v x]
forall a f. WithFunctions a f =&gt; a -&gt; [f]
</span><a href="NITTA.Intermediate.Types.html#functions"><span class="hs-identifier hs-var">functions</span></a></span><span> </span><span class="annot"><span class="annottext">(DataFlowGraph v x -&gt; [F v x])
-&gt; (DefTree a v x t -&gt; DataFlowGraph v x)
-&gt; DefTree a v x t
-&gt; [F v x]
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; DataFlowGraph v x
forall u tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem u tag1 v1 x1 t1) tag2 v2 x2 t2
-&gt; DataFlowGraph v1 x1
</span><a href="NITTA.Synthesis.Types.html#targetDFG"><span class="hs-identifier hs-var">targetDFG</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree a v x t -&gt; GraphStructure GraphEdge)
-&gt; IO (DefTree a v x t) -&gt; IO (GraphStructure GraphEdge)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; SID -&gt; IO (DefTree a v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048230"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-154"></span><span>        </span><span class="annot"><span class="annottext">m (GraphStructure GraphEdge)
-&gt; (m (ProcessTimelines t)
    :&lt;|&gt; (m (Process t StepInfoView)
          :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
                :&lt;|&gt; (m [UnitEndpoints a v t]
                      :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t))))))
-&gt; m (GraphStructure GraphEdge)
   :&lt;|&gt; (m (ProcessTimelines t)
         :&lt;|&gt; (m (Process t StepInfoView)
               :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
                     :&lt;|&gt; (m [UnitEndpoints a v t]
                           :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t))))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO (ProcessTimelines t) -&gt; m (ProcessTimelines t)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Process t (StepInfo v x t) -&gt; ProcessTimelines t
forall t1 v t2 x.
(Num t1, Typeable v, IsString v, ToString v, Suffix v, Hashable v,
 Show t2, Ord t1, Ord v, Enum t1) =&gt;
Process t1 (StepInfo v x t2) -&gt; ProcessTimelines t1
</span><a href="NITTA.UIBackend.Timeline.html#processTimelines"><span class="hs-identifier hs-var">processTimelines</span></a></span><span> </span><span class="annot"><span class="annottext">(Process t (StepInfo v x t) -&gt; ProcessTimelines t)
-&gt; (DefTree a v x t -&gt; Process t (StepInfo v x t))
-&gt; DefTree a v x t
-&gt; ProcessTimelines t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BusNetwork a v x t -&gt; Process t (StepInfo v x t)
forall u v x t.
ProcessorUnit u v x t =&gt;
u -&gt; Process t (StepInfo v x t)
</span><a href="NITTA.Model.ProcessorUnits.Types.html#process"><span class="hs-identifier hs-var">process</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork a v x t -&gt; Process t (StepInfo v x t))
-&gt; (DefTree a v x t -&gt; BusNetwork a v x t)
-&gt; DefTree a v x t
-&gt; Process t (StepInfo v x t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; BusNetwork a v x t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree a v x t -&gt; ProcessTimelines t)
-&gt; IO (DefTree a v x t) -&gt; IO (ProcessTimelines t)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; SID -&gt; IO (DefTree a v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048230"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-155"></span><span>        </span><span class="annot"><span class="annottext">m (ProcessTimelines t)
-&gt; (m (Process t StepInfoView)
    :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
          :&lt;|&gt; (m [UnitEndpoints a v t]
                :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)))))
-&gt; m (ProcessTimelines t)
   :&lt;|&gt; (m (Process t StepInfoView)
         :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
               :&lt;|&gt; (m [UnitEndpoints a v t]
                     :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO (Process t StepInfoView) -&gt; m (Process t StepInfoView)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Process t (StepInfo v x t) -&gt; Process t StepInfoView
forall t v. Viewable t v =&gt; t -&gt; v
</span><a href="NITTA.UIBackend.ViewHelperCls.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">(Process t (StepInfo v x t) -&gt; Process t StepInfoView)
-&gt; (DefTree a v x t -&gt; Process t (StepInfo v x t))
-&gt; DefTree a v x t
-&gt; Process t StepInfoView
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BusNetwork a v x t -&gt; Process t (StepInfo v x t)
forall u v x t.
ProcessorUnit u v x t =&gt;
u -&gt; Process t (StepInfo v x t)
</span><a href="NITTA.Model.ProcessorUnits.Types.html#process"><span class="hs-identifier hs-var">process</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork a v x t -&gt; Process t (StepInfo v x t))
-&gt; (DefTree a v x t -&gt; BusNetwork a v x t)
-&gt; DefTree a v x t
-&gt; Process t (StepInfo v x t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; BusNetwork a v x t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree a v x t -&gt; Process t StepInfoView)
-&gt; IO (DefTree a v x t) -&gt; IO (Process t StepInfoView)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; SID -&gt; IO (DefTree a v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048230"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-156"></span><span>        </span><span class="annot"><span class="annottext">m (Process t StepInfoView)
-&gt; ((a -&gt; m (Process t StepInfoView))
    :&lt;|&gt; (m [UnitEndpoints a v t]
          :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t))))
-&gt; m (Process t StepInfoView)
   :&lt;|&gt; ((a -&gt; m (Process t StepInfoView))
         :&lt;|&gt; (m [UnitEndpoints a v t]
               :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t))))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680048223"><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680048223"><span class="hs-identifier hs-var">tag</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO (Process t StepInfoView) -&gt; m (Process t StepInfoView)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Process t (StepInfo v x t) -&gt; Process t StepInfoView
forall t v. Viewable t v =&gt; t -&gt; v
</span><a href="NITTA.UIBackend.ViewHelperCls.html#view"><span class="hs-identifier hs-var">view</span></a></span><span> </span><span class="annot"><span class="annottext">(Process t (StepInfo v x t) -&gt; Process t StepInfoView)
-&gt; (DefTree a v x t -&gt; Process t (StepInfo v x t))
-&gt; DefTree a v x t
-&gt; Process t StepInfoView
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">PU v x t -&gt; Process t (StepInfo v x t)
forall u v x t.
ProcessorUnit u v x t =&gt;
u -&gt; Process t (StepInfo v x t)
</span><a href="NITTA.Model.ProcessorUnits.Types.html#process"><span class="hs-identifier hs-var">process</span></a></span><span> </span><span class="annot"><span class="annottext">(PU v x t -&gt; Process t (StepInfo v x t))
-&gt; (DefTree a v x t -&gt; PU v x t)
-&gt; DefTree a v x t
-&gt; Process t (StepInfo v x t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Map a (PU v x t) -&gt; a -&gt; PU v x t
forall k a. Ord k =&gt; Map k a -&gt; k -&gt; a
</span><span class="hs-operator hs-var">M.!</span></span><span> </span><span class="annot"><span class="annottext">a
</span><a href="#local-6989586621680048223"><span class="hs-identifier hs-var">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(Map a (PU v x t) -&gt; PU v x t)
-&gt; (DefTree a v x t -&gt; Map a (PU v x t))
-&gt; DefTree a v x t
-&gt; PU v x t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">BusNetwork a v x t -&gt; Map a (PU v x t)
forall tag v x t. BusNetwork tag v x t -&gt; Map tag (PU v x t)
</span><a href="NITTA.Model.Networks.Bus.html#bnPus"><span class="hs-identifier hs-var hs-var">bnPus</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork a v x t -&gt; Map a (PU v x t))
-&gt; (DefTree a v x t -&gt; BusNetwork a v x t)
-&gt; DefTree a v x t
-&gt; Map a (PU v x t)
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; BusNetwork a v x t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree a v x t -&gt; Process t StepInfoView)
-&gt; IO (DefTree a v x t) -&gt; IO (Process t StepInfoView)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; SID -&gt; IO (DefTree a v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048230"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-157"></span><span>        </span><span class="annot"><span class="annottext">(a -&gt; m (Process t StepInfoView))
-&gt; (m [UnitEndpoints a v t]
    :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)))
-&gt; (a -&gt; m (Process t StepInfoView))
   :&lt;|&gt; (m [UnitEndpoints a v t]
         :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO [UnitEndpoints a v t] -&gt; m [UnitEndpoints a v t]
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Debug a v t -&gt; [UnitEndpoints a v t]
forall tag v t. Debug tag v t -&gt; [UnitEndpoints tag v t]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgEndpointOptions%3ADebug"><span class="hs-identifier hs-var hs-var">dbgEndpointOptions</span></a></span><span> </span><span class="annot"><span class="annottext">(Debug a v t -&gt; [UnitEndpoints a v t])
-&gt; IO (Debug a v t) -&gt; IO [UnitEndpoints a v t]
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendCtx a v x t -&gt; SID -&gt; IO (Debug a v t)
forall t x v a (m :: * -&gt; *).
(Bounded t, Val x, Hashable v, Suffix v, ToString v, ToString a,
 IsString v, IsString a, MonadIO m, Typeable t, Typeable v,
 Typeable a, Show t, Default t, Integral t, Ord v, Ord a) =&gt;
BackendCtx a v x t -&gt; SID -&gt; m (Debug a v t)
</span><a href="NITTA.UIBackend.REST.html#debug"><span class="hs-identifier hs-var">debug</span></a></span><span> </span><span class="annot"><span class="annottext">BackendCtx a v x t
</span><a href="#local-6989586621680048231"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-158"></span><span>        </span><span class="annot"><span class="annottext">m [UnitEndpoints a v t]
-&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t))
-&gt; m [UnitEndpoints a v t]
   :&lt;|&gt; (m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO (MicroarchitectureDesc a) -&gt; m (MicroarchitectureDesc a)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">BusNetwork a v x t -&gt; MicroarchitectureDesc a
forall tag v x t.
Typeable x =&gt;
BusNetwork tag v x t -&gt; MicroarchitectureDesc tag
</span><a href="NITTA.Model.Microarchitecture.Builder.html#microarchitectureDesc"><span class="hs-identifier hs-var">microarchitectureDesc</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork a v x t -&gt; MicroarchitectureDesc a)
-&gt; (DefTree a v x t -&gt; BusNetwork a v x t)
-&gt; DefTree a v x t
-&gt; MicroarchitectureDesc a
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; BusNetwork a v x t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree a v x t -&gt; MicroarchitectureDesc a)
-&gt; IO (DefTree a v x t) -&gt; IO (MicroarchitectureDesc a)
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; SID -&gt; IO (DefTree a v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048230"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-159"></span><span>        </span><span class="annot"><span class="annottext">m (MicroarchitectureDesc a)
-&gt; m (Debug a v t)
-&gt; m (MicroarchitectureDesc a) :&lt;|&gt; m (Debug a v t)
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">BackendCtx a v x t -&gt; SID -&gt; m (Debug a v t)
forall t x v a (m :: * -&gt; *).
(Bounded t, Val x, Hashable v, Suffix v, ToString v, ToString a,
 IsString v, IsString a, MonadIO m, Typeable t, Typeable v,
 Typeable a, Show t, Default t, Integral t, Ord v, Ord a) =&gt;
BackendCtx a v x t -&gt; SID -&gt; m (Debug a v t)
</span><a href="NITTA.UIBackend.REST.html#debug"><span class="hs-identifier hs-var">debug</span></a></span><span> </span><span class="annot"><span class="annottext">BackendCtx a v x t
</span><a href="#local-6989586621680048231"><span class="hs-identifier hs-var">ctx</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048229"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-160"></span><span>
</span><span id="line-161"></span><span class="hs-keyword">type</span><span> </span><span id="SynthesisMethodsAPI"><span class="annot"><a href="NITTA.UIBackend.REST.html#SynthesisMethodsAPI"><span class="hs-identifier hs-var">SynthesisMethodsAPI</span></a></span></span><span> </span><span id="local-6989586621680048217"><span class="annot"><a href="#local-6989586621680048217"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048216"><span class="annot"><a href="#local-6989586621680048216"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048215"><span class="annot"><a href="#local-6989586621680048215"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680048214"><span class="annot"><a href="#local-6989586621680048214"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-162"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Summary</span></span><span>
</span><span id="line-163"></span><span>        </span><span class="annot"><span class="hs-string">&quot;Synthesis methods is a method for full synthesis tree exploration. \
        \Usually, it is more complicated than synthesis practice, but it is \
        \not an essential difference.&quot;</span></span><span>
</span><span id="line-166"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Composition of all available synthesis methods&quot;</span></span><span>
</span><span id="line-167"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;stateOfTheArtSynthesisIO&quot;</span></span><span>
</span><span id="line-168"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Post</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-169"></span><span>             </span><span class="hs-special">)</span><span>
</span><span id="line-170"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;simpleSynthesis&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Post</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-171"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;smartBindSynthesisIO&quot;</span></span><span> </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Post</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-172"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-173"></span><span>
</span><span id="line-174"></span><span id="synthesisMethods"><span class="annot"><span class="annottext">synthesisMethods :: BackendCtx tag v x t -&gt; SID -&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID)
</span><a href="NITTA.UIBackend.REST.html#synthesisMethods"><span class="hs-identifier hs-var hs-var">synthesisMethods</span></a></span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-type">BackendCtx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048212"><span class="annot"><span class="annottext">DefTree tag v x t
root :: DefTree tag v x t
$sel:root:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; DefTree tag v x t
</span><a href="#local-6989586621680048212"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680048211"><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048211"><span class="hs-identifier hs-var">sid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-175"></span><span>    </span><span class="annot"><span class="annottext">IO SID -&gt; m SID
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID
forall m tag v x t. Tree m tag v x t -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#sID"><span class="hs-identifier hs-var hs-var">sID</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; SID) -&gt; IO (DefTree tag v x t) -&gt; IO SID
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
forall v x t tag.
(VarValTime v x t, UnitTag tag) =&gt;
SynthesisMethod tag v x t
</span><a href="NITTA.Synthesis.Method.html#stateOfTheArtSynthesisIO"><span class="hs-identifier hs-var">stateOfTheArtSynthesisIO</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
-&gt; IO (DefTree tag v x t) -&gt; IO (DefTree tag v x t)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048212"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048211"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span>        </span><span class="annot"><span class="annottext">m SID -&gt; (m SID :&lt;|&gt; m SID) -&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; m SID)
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO SID -&gt; m SID
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID
forall m tag v x t. Tree m tag v x t -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#sID"><span class="hs-identifier hs-var hs-var">sID</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; SID) -&gt; IO (DefTree tag v x t) -&gt; IO SID
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
forall v x t tag.
(VarValTime v x t, UnitTag tag) =&gt;
SynthesisMethod tag v x t
</span><a href="NITTA.Synthesis.Method.html#simpleSynthesisIO"><span class="hs-identifier hs-var">simpleSynthesisIO</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
-&gt; IO (DefTree tag v x t) -&gt; IO (DefTree tag v x t)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048212"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048211"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-177"></span><span>        </span><span class="annot"><span class="annottext">m SID -&gt; m SID -&gt; m SID :&lt;|&gt; m SID
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO SID -&gt; m SID
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID
forall m tag v x t. Tree m tag v x t -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#sID"><span class="hs-identifier hs-var hs-var">sID</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; SID) -&gt; IO (DefTree tag v x t) -&gt; IO SID
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
forall v x t tag.
(VarValTime v x t, UnitTag tag) =&gt;
SynthesisMethod tag v x t
</span><a href="NITTA.Synthesis.Method.html#smartBindSynthesisIO"><span class="hs-identifier hs-var">smartBindSynthesisIO</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
-&gt; IO (DefTree tag v x t) -&gt; IO (DefTree tag v x t)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048212"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048211"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-178"></span><span>
</span><span id="line-179"></span><span class="hs-keyword">type</span><span> </span><span id="SynthesisPracticesAPI"><span class="annot"><a href="NITTA.UIBackend.REST.html#SynthesisPracticesAPI"><span class="hs-identifier hs-var">SynthesisPracticesAPI</span></a></span></span><span> </span><span id="local-6989586621680048206"><span class="annot"><a href="#local-6989586621680048206"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048205"><span class="annot"><a href="#local-6989586621680048205"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048204"><span class="annot"><a href="#local-6989586621680048204"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span id="local-6989586621680048203"><span class="annot"><a href="#local-6989586621680048203"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-180"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Summary</span></span><span> </span><span class="annot"><span class="hs-string">&quot;SynthesisPractice is a set of small elements of the synthesis process.&quot;</span></span><span>
</span><span id="line-181"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Make the best synthesis step by the objective function&quot;</span></span><span>
</span><span id="line-182"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;bestStep&quot;</span></span><span>
</span><span id="line-183"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Post</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-184"></span><span>             </span><span class="hs-special">)</span><span>
</span><span id="line-185"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Make all possible oblivious binds&quot;</span></span><span>
</span><span id="line-186"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;obviousBindThread&quot;</span></span><span>
</span><span id="line-187"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Post</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-188"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Make all possible binds and refactorings&quot;</span></span><span>
</span><span id="line-190"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;allBindsAndRefsIO&quot;</span></span><span>
</span><span id="line-191"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Post</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-192"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-193"></span><span>                </span><span class="annot"><span class="hs-operator hs-type">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span>
</span><span id="line-194"></span><span>                        </span><span class="annot"><span class="hs-string">&quot;Explore all best synthesis threads from current \
                        \and `deep` nested levels.&quot;</span></span><span>
</span><span id="line-196"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;allBestThreads&quot;</span></span><span>
</span><span id="line-197"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QueryParam'</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Required</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-string">&quot;deep&quot;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-198"></span><span>                        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Post</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span>
</span><span id="line-199"></span><span>                     </span><span class="hs-special">)</span><span>
</span><span id="line-200"></span><span>           </span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span>
</span><span id="line-202"></span><span id="synthesisPractices"><span class="annot"><span class="annottext">synthesisPractices :: BackendCtx tag v x t
-&gt; SID -&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))
</span><a href="NITTA.UIBackend.REST.html#synthesisPractices"><span class="hs-identifier hs-var hs-var">synthesisPractices</span></a></span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-type">BackendCtx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048201"><span class="annot"><span class="annottext">DefTree tag v x t
root :: DefTree tag v x t
$sel:root:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; DefTree tag v x t
</span><a href="#local-6989586621680048201"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680048200"><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048200"><span class="hs-identifier hs-var">sid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-203"></span><span>    </span><span class="annot"><span class="annottext">IO SID -&gt; m SID
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID
forall m tag v x t. Tree m tag v x t -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#sID"><span class="hs-identifier hs-var hs-var">sID</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; SID) -&gt; IO (DefTree tag v x t) -&gt; IO SID
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
forall v x t tag.
(VarValTime v x t, UnitTag tag) =&gt;
SynthesisMethod tag v x t
</span><a href="NITTA.Synthesis.Method.html#bestStepIO"><span class="hs-identifier hs-var">bestStepIO</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
-&gt; IO (DefTree tag v x t) -&gt; IO (DefTree tag v x t)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048201"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048200"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-204"></span><span>        </span><span class="annot"><span class="annottext">m SID
-&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))
-&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID)))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO SID -&gt; m SID
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID
forall m tag v x t. Tree m tag v x t -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#sID"><span class="hs-identifier hs-var hs-var">sID</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; SID) -&gt; IO (DefTree tag v x t) -&gt; IO SID
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
forall v x t tag.
(VarValTime v x t, UnitTag tag) =&gt;
SynthesisMethod tag v x t
</span><a href="NITTA.Synthesis.Method.html#obviousBindThreadIO"><span class="hs-identifier hs-var">obviousBindThreadIO</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
-&gt; IO (DefTree tag v x t) -&gt; IO (DefTree tag v x t)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048201"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048200"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-205"></span><span>        </span><span class="annot"><span class="annottext">m SID
-&gt; (m SID :&lt;|&gt; (Int -&gt; m SID))
-&gt; m SID :&lt;|&gt; (m SID :&lt;|&gt; (Int -&gt; m SID))
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="annot"><span class="annottext">IO SID -&gt; m SID
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID
forall m tag v x t. Tree m tag v x t -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#sID"><span class="hs-identifier hs-var hs-var">sID</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; SID) -&gt; IO (DefTree tag v x t) -&gt; IO SID
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
forall v x t tag.
(VarValTime v x t, UnitTag tag) =&gt;
SynthesisMethod tag v x t
</span><a href="NITTA.Synthesis.Method.html#allBindsAndRefsIO"><span class="hs-identifier hs-var">allBindsAndRefsIO</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
-&gt; IO (DefTree tag v x t) -&gt; IO (DefTree tag v x t)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048201"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048200"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>        </span><span class="annot"><span class="annottext">m SID -&gt; (Int -&gt; m SID) -&gt; m SID :&lt;|&gt; (Int -&gt; m SID)
forall a b. a -&gt; b -&gt; a :&lt;|&gt; b
</span><span class="hs-operator hs-var">:&lt;|&gt;</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680048196"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680048196"><span class="hs-identifier hs-var">deep</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">IO SID -&gt; m SID
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID
forall m tag v x t. Tree m tag v x t -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#sID"><span class="hs-identifier hs-var hs-var">sID</span></a></span><span> </span><span class="annot"><span class="annottext">(DefTree tag v x t -&gt; SID) -&gt; IO (DefTree tag v x t) -&gt; IO SID
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; SynthesisMethod tag v x t
forall v x t tag.
(VarValTime v x t, UnitTag tag) =&gt;
Int -&gt; SynthesisMethod tag v x t
</span><a href="NITTA.Synthesis.Method.html#allBestThreadIO"><span class="hs-identifier hs-var">allBestThreadIO</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680048196"><span class="hs-identifier hs-var">deep</span></a></span><span> </span><span class="annot"><span class="annottext">SynthesisMethod tag v x t
-&gt; IO (DefTree tag v x t) -&gt; IO (DefTree tag v x t)
forall (m :: * -&gt; *) a b. Monad m =&gt; (a -&gt; m b) -&gt; m a -&gt; m b
</span><span class="hs-operator hs-var">=&lt;&lt;</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t -&gt; SID -&gt; IO (DefTree tag v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag v x t
</span><a href="#local-6989586621680048201"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048200"><span class="hs-identifier hs-var">sid</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span class="hs-special">)</span><span>
</span><span id="line-207"></span><span>
</span><span id="line-208"></span><span class="hs-keyword">type</span><span> </span><span id="TestBenchAPI"><span class="annot"><a href="NITTA.UIBackend.REST.html#TestBenchAPI"><span class="hs-identifier hs-var">TestBenchAPI</span></a></span></span><span> </span><span id="local-6989586621680048194"><span class="annot"><a href="#local-6989586621680048194"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048193"><span class="annot"><a href="#local-6989586621680048193"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-209"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Summary</span></span><span> </span><span class="annot"><span class="hs-string">&quot;Get the report of testbench execution for the current node.&quot;</span></span><span>
</span><span id="line-210"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-string">&quot;testbench&quot;</span></span><span>
</span><span id="line-211"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QueryParam'</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Required</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-string">&quot;pName&quot;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span>
</span><span id="line-212"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">QueryParam'</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">Required</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="hs-string">&quot;loopsNumber&quot;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span>
</span><span id="line-213"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Post</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Project.TestBench.html#TestbenchReport"><span class="hs-identifier hs-type">TestbenchReport</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048194"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048193"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-214"></span><span>
</span><span id="line-215"></span><span id="testBench"><span class="annot"><span class="annottext">testBench :: BackendCtx tag2 v1 x2 t
-&gt; SID -&gt; String -&gt; Int -&gt; m (TestbenchReport v1 x2)
</span><a href="NITTA.UIBackend.REST.html#testBench"><span class="hs-identifier hs-var hs-var">testBench</span></a></span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-type">BackendCtx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048192"><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t
root :: DefTree tag2 v1 x2 t
$sel:root:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; DefTree tag v x t
</span><a href="#local-6989586621680048192"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680048191"><span class="annot"><span class="annottext">[(v1, [x2])]
receivedValues :: [(v1, [x2])]
$sel:receivedValues:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; [(v, [x])]
</span><a href="#local-6989586621680048191"><span class="hs-identifier hs-var hs-var">receivedValues</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680048190"><span class="annot"><span class="annottext">String
outputPath :: String
$sel:outputPath:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; String
</span><a href="#local-6989586621680048190"><span class="hs-identifier hs-var hs-var">outputPath</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680048189"><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048189"><span class="hs-identifier hs-var">sid</span></a></span></span><span> </span><span id="local-6989586621680048188"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048188"><span class="hs-identifier hs-var">pName</span></a></span></span><span> </span><span id="local-6989586621680048187"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680048187"><span class="hs-identifier hs-var">loopsNumber</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (TestbenchReport v1 x2) -&gt; m (TestbenchReport v1 x2)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (TestbenchReport v1 x2) -&gt; m (TestbenchReport v1 x2))
-&gt; IO (TestbenchReport v1 x2) -&gt; m (TestbenchReport v1 x2)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-216"></span><span>    </span><span id="local-6989586621680048186"><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t
</span><a href="#local-6989586621680048186"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t -&gt; SID -&gt; IO (DefTree tag2 v1 x2 t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t
</span><a href="#local-6989586621680048192"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048189"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-217"></span><span>    </span><span id="local-6989586621680048185"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048185"><span class="hs-identifier hs-var">pInProjectNittaPath</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">(Text -&gt; String)
-&gt; (String -&gt; String) -&gt; Either Text String -&gt; String
forall a c b. (a -&gt; c) -&gt; (b -&gt; c) -&gt; Either a b -&gt; c
</span><span class="hs-identifier hs-var">either</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">String -&gt; String
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">(String -&gt; String) -&gt; (Text -&gt; String) -&gt; Text -&gt; String
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">Text -&gt; String
</span><span class="hs-identifier hs-var">T.unpack</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">String -&gt; String
forall a. a -&gt; a
</span><span class="hs-identifier hs-var">id</span></span><span> </span><span class="annot"><span class="annottext">(Either Text String -&gt; String)
-&gt; IO (Either Text String) -&gt; IO String
forall (f :: * -&gt; *) a b. Functor f =&gt; (a -&gt; b) -&gt; f a -&gt; f b
</span><span class="hs-operator hs-var">&lt;$&gt;</span></span><span> </span><span class="annot"><span class="annottext">[String] -&gt; IO (Either Text String)
</span><a href="NITTA.Project.Template.html#collectNittaPath"><span class="hs-identifier hs-var">collectNittaPath</span></a></span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="NITTA.Project.Types.html#defProjectTemplates"><span class="hs-identifier hs-var">defProjectTemplates</span></a></span><span>
</span><span id="line-218"></span><span>    </span><span class="annot"><span class="annottext">Bool -&gt; IO () -&gt; IO ()
forall (f :: * -&gt; *). Applicative f =&gt; Bool -&gt; f () -&gt; f ()
</span><span class="hs-identifier hs-var">unless</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t -&gt; Bool
forall u v1 x1 t1 tag1 tag2 v2 x2 t2.
ProcessorUnit u v1 x1 t1 =&gt;
Tree (TargetSystem u tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; Bool
</span><a href="NITTA.Synthesis.Explore.html#isComplete"><span class="hs-identifier hs-var">isComplete</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t
</span><a href="#local-6989586621680048186"><span class="hs-identifier hs-var">tree</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(IO () -&gt; IO ()) -&gt; IO () -&gt; IO ()
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; IO ()
forall a. HasCallStack =&gt; String -&gt; a
</span><span class="hs-identifier hs-var">error</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;test bench not allow for non complete synthesis&quot;</span></span><span>
</span><span id="line-219"></span><span>    </span><span id="local-6989586621680048178"><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048178"><span class="hs-identifier hs-var">pwd</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">IO String
</span><span class="hs-identifier hs-var">getCurrentDirectory</span></span><span>
</span><span id="line-220"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680048176"><span class="annot"><span class="annottext">prj :: Project (BusNetwork tag2 v1 x2 t) v1 x2
</span><a href="#local-6989586621680048176"><span class="hs-identifier hs-var hs-var">prj</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-221"></span><span>            </span><span class="annot"><span class="annottext">Project :: forall m v x.
Text
-&gt; String
-&gt; String
-&gt; String
-&gt; String
-&gt; String
-&gt; m
-&gt; UnitEnv m
-&gt; Cntx v x
-&gt; [String]
-&gt; Project m v x
</span><a href="NITTA.Project.Types.html#Project"><span class="hs-identifier hs-type">Project</span></a></span><span>
</span><span id="line-222"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">pName :: Text
</span><a href="NITTA.Project.Types.html#pName"><span class="hs-identifier hs-var">pName</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; Text
</span><span class="hs-identifier hs-var">T.pack</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048188"><span class="hs-identifier hs-var">pName</span></a></span><span>
</span><span id="line-223"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pLibPath :: String
</span><a href="NITTA.Project.Types.html#pLibPath"><span class="hs-identifier hs-var">pLibPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;hdl&quot;</span></span><span>
</span><span id="line-224"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pTargetProjectPath :: String
</span><a href="NITTA.Project.Types.html#pTargetProjectPath"><span class="hs-identifier hs-var">pTargetProjectPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048190"><span class="hs-identifier hs-var">outputPath</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048188"><span class="hs-identifier hs-var">pName</span></a></span><span>
</span><span id="line-225"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pAbsTargetProjectPath :: String
</span><a href="NITTA.Project.Types.html#pAbsTargetProjectPath"><span class="hs-identifier hs-var">pAbsTargetProjectPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048178"><span class="hs-identifier hs-var">pwd</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048190"><span class="hs-identifier hs-var">outputPath</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048188"><span class="hs-identifier hs-var">pName</span></a></span><span>
</span><span id="line-226"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">String
pInProjectNittaPath :: String
pInProjectNittaPath :: String
</span><a href="NITTA.Project.Types.html#pInProjectNittaPath"><span class="hs-identifier hs-var hs-var">pInProjectNittaPath</span></a></span><span>
</span><span id="line-227"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pAbsNittaPath :: String
</span><a href="NITTA.Project.Types.html#pAbsNittaPath"><span class="hs-identifier hs-var">pAbsNittaPath</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048178"><span class="hs-identifier hs-var">pwd</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048190"><span class="hs-identifier hs-var">outputPath</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; String
</span><span class="hs-operator hs-var">&lt;/&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680048185"><span class="hs-identifier hs-var">pInProjectNittaPath</span></a></span><span>
</span><span id="line-228"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pUnit :: BusNetwork tag2 v1 x2 t
</span><a href="NITTA.Project.Types.html#pUnit"><span class="hs-identifier hs-var">pUnit</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t -&gt; BusNetwork tag2 v1 x2 t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t
</span><a href="#local-6989586621680048186"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-229"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pUnitEnv :: UnitEnv (BusNetwork tag2 v1 x2 t)
</span><a href="NITTA.Project.Types.html#pUnitEnv"><span class="hs-identifier hs-var">pUnitEnv</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BusNetwork tag2 v1 x2 t -&gt; UnitEnv (BusNetwork tag2 v1 x2 t)
forall tag v x t.
BusNetwork tag v x t -&gt; UnitEnv (BusNetwork tag v x t)
</span><a href="NITTA.Model.Networks.Bus.html#bnEnv"><span class="hs-identifier hs-var hs-var">bnEnv</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork tag2 v1 x2 t -&gt; UnitEnv (BusNetwork tag2 v1 x2 t))
-&gt; BusNetwork tag2 v1 x2 t -&gt; UnitEnv (BusNetwork tag2 v1 x2 t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t -&gt; BusNetwork tag2 v1 x2 t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t
</span><a href="#local-6989586621680048186"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-230"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pTestCntx :: Cntx v1 x2
</span><a href="NITTA.Project.Types.html#pTestCntx"><span class="hs-identifier hs-var">pTestCntx</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
-&gt; CycleCntx v1 x2
-&gt; [(v1, [x2])]
-&gt; DataFlowGraph v1 x2
-&gt; Cntx v1 x2
forall v x g.
(Var v, Val x, WithFunctions g (F v x)) =&gt;
Int -&gt; CycleCntx v x -&gt; [(v, [x])] -&gt; g -&gt; Cntx v x
</span><a href="NITTA.Intermediate.Simulation.html#simulateDataFlowGraph"><span class="hs-identifier hs-var">simulateDataFlowGraph</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680048187"><span class="hs-identifier hs-var">loopsNumber</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v1 x2
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span> </span><span class="annot"><span class="annottext">[(v1, [x2])]
</span><a href="#local-6989586621680048191"><span class="hs-identifier hs-var">receivedValues</span></a></span><span> </span><span class="annot"><span class="annottext">(DataFlowGraph v1 x2 -&gt; Cntx v1 x2)
-&gt; DataFlowGraph v1 x2 -&gt; Cntx v1 x2
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t -&gt; DataFlowGraph v1 x2
forall u tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem u tag1 v1 x1 t1) tag2 v2 x2 t2
-&gt; DataFlowGraph v1 x1
</span><a href="NITTA.Synthesis.Types.html#targetDFG"><span class="hs-identifier hs-var">targetDFG</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree tag2 v1 x2 t
</span><a href="#local-6989586621680048186"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-231"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pTemplates :: [String]
</span><a href="NITTA.Project.Types.html#pTemplates"><span class="hs-identifier hs-var">pTemplates</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[String]
</span><a href="NITTA.Project.Types.html#defProjectTemplates"><span class="hs-identifier hs-var">defProjectTemplates</span></a></span><span>
</span><span id="line-232"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-233"></span><span>    </span><span class="annot"><span class="annottext">Project (BusNetwork tag2 v1 x2 t) v1 x2 -&gt; IO ()
forall m v x.
(TargetSystemComponent m, Testable m v x) =&gt;
Project m v x -&gt; IO ()
</span><a href="NITTA.Project.html#writeProject"><span class="hs-identifier hs-var">writeProject</span></a></span><span> </span><span class="annot"><span class="annottext">Project (BusNetwork tag2 v1 x2 t) v1 x2
</span><a href="#local-6989586621680048176"><span class="hs-identifier hs-var">prj</span></a></span><span>
</span><span id="line-234"></span><span>    </span><span class="annot"><span class="annottext">Project (BusNetwork tag2 v1 x2 t) v1 x2
-&gt; IO (TestbenchReport v1 x2)
forall u a v1 x1 t v2 x2 x3.
(WithFunctions u a, ProcessorUnit u v1 x1 t, Hashable v2,
 IsString v2, DefaultX u x2, Val x2, Show a, Read x3, Eq v2,
 TargetSystemComponent u, Testable u v2 x3) =&gt;
Project u v2 x3 -&gt; IO (TestbenchReport v2 x3)
</span><a href="NITTA.Project.html#runTestbench"><span class="hs-identifier hs-var">runTestbench</span></a></span><span> </span><span class="annot"><span class="annottext">Project (BusNetwork tag2 v1 x2 t) v1 x2
</span><a href="#local-6989586621680048176"><span class="hs-identifier hs-var">prj</span></a></span><span>
</span><span id="line-235"></span><span>
</span><span id="line-236"></span><span class="hs-comment">-- Helpers</span><span>
</span><span id="line-237"></span><span>
</span><span id="line-238"></span><span id="local-6989586621680048158"><span id="local-6989586621680048159"></span></span><span class="hs-keyword">data</span><span> </span><span id="UnitEndpoints"><span class="annot"><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier hs-var">UnitEndpoints</span></a></span></span><span> </span><span id="local-6989586621680048428"><span class="annot"><a href="#local-6989586621680048428"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048427"><span class="annot"><a href="#local-6989586621680048427"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048426"><span class="annot"><a href="#local-6989586621680048426"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="UnitEndpoints"><span class="annot"><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier hs-var">UnitEndpoints</span></a></span></span><span>
</span><span id="line-239"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AunitTag%3AUnitEndpoints"><span class="annot"><span class="annottext">UnitEndpoints tag v t -&gt; tag
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AunitTag%3AUnitEndpoints"><span class="hs-identifier hs-var hs-var">unitTag</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="#local-6989586621680048428"><span class="hs-identifier hs-type">tag</span></a></span><span>
</span><span id="line-240"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AunitEndpoints%3AUnitEndpoints"><span class="annot"><span class="annottext">UnitEndpoints tag v t -&gt; [EndpointSt v (TimeConstraint t)]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AunitEndpoints%3AUnitEndpoints"><span class="hs-identifier hs-var hs-var">unitEndpoints</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Model.Problems.Endpoint.html#EndpointSt"><span class="hs-identifier hs-type">EndpointSt</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048427"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Time.html#TimeConstraint"><span class="hs-identifier hs-type">TimeConstraint</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048426"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-241"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-242"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. UnitEndpoints tag v t -&gt; Rep (UnitEndpoints tag v t) x)
-&gt; (forall x.
    Rep (UnitEndpoints tag v t) x -&gt; UnitEndpoints tag v t)
-&gt; Generic (UnitEndpoints tag v t)
forall x. Rep (UnitEndpoints tag v t) x -&gt; UnitEndpoints tag v t
forall x. UnitEndpoints tag v t -&gt; Rep (UnitEndpoints tag v t) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall tag v t x.
Rep (UnitEndpoints tag v t) x -&gt; UnitEndpoints tag v t
forall tag v t x.
UnitEndpoints tag v t -&gt; Rep (UnitEndpoints tag v t) x
$cto :: forall tag v t x.
Rep (UnitEndpoints tag v t) x -&gt; UnitEndpoints tag v t
$cfrom :: forall tag v t x.
UnitEndpoints tag v t -&gt; Rep (UnitEndpoints tag v t) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span id="local-6989586621680048149"><span id="local-6989586621680048150"><span id="local-6989586621680048151"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680048141"><span id="local-6989586621680048143"><span id="local-6989586621680048145"><span id="local-6989586621680048147"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680048151"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680048150"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680048149"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Model.Time.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048150"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier hs-type">UnitEndpoints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048151"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048149"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048150"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-244"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier hs-type">UnitEndpoints</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>    </span><span id="local-6989586621680048137"><span class="annot"><span class="annottext">toSamples :: Proxy (UnitEndpoints String String Int)
-&gt; [(Text, UnitEndpoints String String Int)]
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toSamples</span></span></span><span> </span><span class="annot"><span class="annottext">Proxy (UnitEndpoints String String Int)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-246"></span><span>        </span><span class="annot"><span class="annottext">UnitEndpoints String String Int
-&gt; [(Text, UnitEndpoints String String Int)]
forall a. a -&gt; [(Text, a)]
</span><span class="hs-identifier hs-var">singleSample</span></span><span>
</span><span id="line-247"></span><span>            </span><span class="annot"><span class="annottext">UnitEndpoints :: forall tag v t.
tag -&gt; [EndpointSt v (TimeConstraint t)] -&gt; UnitEndpoints tag v t
</span><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier hs-type">UnitEndpoints</span></a></span><span>
</span><span id="line-248"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:unitTag:UnitEndpoints :: String
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AunitTag%3AUnitEndpoints"><span class="hs-identifier hs-var">unitTag</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;PU1&quot;</span></span><span>
</span><span id="line-249"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:unitEndpoints:UnitEndpoints :: [EndpointSt String (TimeConstraint Int)]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AunitEndpoints%3AUnitEndpoints"><span class="hs-identifier hs-var">unitEndpoints</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-250"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">EndpointSt :: forall v tp. EndpointRole v -&gt; tp -&gt; EndpointSt v tp
</span><a href="NITTA.Model.Problems.Endpoint.html#EndpointSt"><span class="hs-identifier hs-type">EndpointSt</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">epRole :: EndpointRole String
</span><a href="#local-6989586621680048133"><span class="hs-identifier hs-var">epRole</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; EndpointRole String
forall v. v -&gt; EndpointRole v
</span><a href="NITTA.Model.Problems.Endpoint.html#Target"><span class="hs-identifier hs-var">Target</span></a></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;x&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">epAt :: TimeConstraint Int
</span><a href="#local-6989586621680048131"><span class="hs-identifier hs-var">epAt</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Interval Int -&gt; Interval Int -&gt; TimeConstraint Int
forall t. Interval t -&gt; Interval t -&gt; TimeConstraint t
</span><a href="NITTA.Model.Time.html#TimeConstraint"><span class="hs-identifier hs-var">TimeConstraint</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Interval Int
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">10</span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Interval Int
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">)</span><span class="hs-special">}</span><span>
</span><span id="line-251"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-252"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-253"></span><span>
</span><span id="line-254"></span><span class="hs-comment">-- Debug</span><span>
</span><span id="line-255"></span><span>
</span><span id="line-256"></span><span class="hs-comment">-- |Type for CAD debugging. Used for extracting internal information.</span><span>
</span><span id="line-257"></span><span id="local-6989586621680048128"><span id="local-6989586621680048129"></span></span><span class="hs-keyword">data</span><span> </span><span id="Debug"><span class="annot"><a href="NITTA.UIBackend.REST.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span></span><span> </span><span id="local-6989586621680048525"><span class="annot"><a href="#local-6989586621680048525"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048524"><span class="annot"><a href="#local-6989586621680048524"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048523"><span class="annot"><a href="#local-6989586621680048523"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Debug"><span class="annot"><a href="NITTA.UIBackend.REST.html#Debug"><span class="hs-identifier hs-var">Debug</span></a></span></span><span>
</span><span id="line-258"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3AdbgEndpointOptions%3ADebug"><span class="annot"><span class="annottext">Debug tag v t -&gt; [UnitEndpoints tag v t]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgEndpointOptions%3ADebug"><span class="hs-identifier hs-var hs-var">dbgEndpointOptions</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier hs-type">UnitEndpoints</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048525"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048524"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048523"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-259"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdbgFunctionLocks%3ADebug"><span class="annot"><span class="annottext">Debug tag v t -&gt; [(Text, [Lock v])]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgFunctionLocks%3ADebug"><span class="hs-identifier hs-var hs-var">dbgFunctionLocks</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048524"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-260"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdbgCurrentStateFunctionLocks%3ADebug"><span class="annot"><span class="annottext">Debug tag v t -&gt; [(Text, [Lock v])]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgCurrentStateFunctionLocks%3ADebug"><span class="hs-identifier hs-var hs-var">dbgCurrentStateFunctionLocks</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048524"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-261"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3AdbgPULocks%3ADebug"><span class="annot"><span class="annottext">Debug tag v t -&gt; [(tag, [Lock v])]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgPULocks%3ADebug"><span class="hs-identifier hs-var hs-var">dbgPULocks</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680048525"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048524"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-262"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-263"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(forall x. Debug tag v t -&gt; Rep (Debug tag v t) x)
-&gt; (forall x. Rep (Debug tag v t) x -&gt; Debug tag v t)
-&gt; Generic (Debug tag v t)
forall x. Rep (Debug tag v t) x -&gt; Debug tag v t
forall x. Debug tag v t -&gt; Rep (Debug tag v t) x
forall a.
(forall x. a -&gt; Rep a x) -&gt; (forall x. Rep a x -&gt; a) -&gt; Generic a
forall tag v t x. Rep (Debug tag v t) x -&gt; Debug tag v t
forall tag v t x. Debug tag v t -&gt; Rep (Debug tag v t) x
$cto :: forall tag v t x. Rep (Debug tag v t) x -&gt; Debug tag v t
$cfrom :: forall tag v t x. Debug tag v t -&gt; Rep (Debug tag v t) x
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">Generic</span></span><span class="hs-special">)</span><span>
</span><span id="line-264"></span><span>
</span><span id="line-265"></span><span id="local-6989586621680048119"><span id="local-6989586621680048120"><span id="local-6989586621680048121"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680048111"><span id="local-6989586621680048113"><span id="local-6989586621680048115"><span id="local-6989586621680048117"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680048121"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680048120"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="annot"><a href="#local-6989586621680048119"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Model.Time.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048119"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToJSON</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.REST.html#Debug"><span class="hs-identifier hs-type">Debug</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048121"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048120"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048119"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span></span></span></span></span></span></span></span><span>
</span><span id="line-266"></span><span>
</span><span id="line-267"></span><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680048109"><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.REST.html#Debug"><span class="hs-identifier hs-type">Debug</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span></span><span> </span><span class="hs-comment">-- where toSamples _ = noSamples</span><span>
</span><span id="line-268"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Problems.Endpoint.html#EndpointSt"><span class="hs-identifier hs-type">EndpointSt</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Time.html#TimeConstraint"><span class="hs-identifier hs-type">TimeConstraint</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680048107"><span class="annot"><span class="annottext">toSamples :: Proxy (EndpointSt String (TimeConstraint Int))
-&gt; [(Text, EndpointSt String (TimeConstraint Int))]
</span><a href="#local-6989586621680048107"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSamples</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (EndpointSt String (TimeConstraint Int))
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, EndpointSt String (TimeConstraint Int))]
forall a. [(Text, a)]
</span><span class="hs-identifier hs-var">noSamples</span></span><span>
</span><span id="line-269"></span><span>
</span><span id="line-270"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Char</span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680048104"><span class="annot"><span class="annottext">toSamples :: Proxy Char -&gt; [(Text, Char)]
</span><a href="#local-6989586621680048104"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSamples</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy Char
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, Char)]
forall a. [(Text, a)]
</span><span class="hs-identifier hs-var">noSamples</span></span><span>
</span><span id="line-271"></span><span>
</span><span id="line-272"></span><span id="local-6989586621680048103"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnitTag"><span class="hs-identifier hs-type">UnitTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048103"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048103"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-273"></span><span>    </span><span id="local-6989586621680048101"><span class="annot"><span class="annottext">toSamples :: Proxy (Lock tag) -&gt; [(Text, Lock tag)]
</span><a href="#local-6989586621680048101"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSamples</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (Lock tag)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Lock tag -&gt; [(Text, Lock tag)]
forall a. a -&gt; [(Text, a)]
</span><span class="hs-identifier hs-var">singleSample</span></span><span> </span><span class="annot"><span class="annottext">Lock :: forall v. v -&gt; v -&gt; Lock v
</span><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">locked :: tag
</span><a href="NITTA.Intermediate.Types.html#locked"><span class="hs-identifier hs-var">locked</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-string">&quot;b&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lockBy :: tag
</span><a href="NITTA.Intermediate.Types.html#lockBy"><span class="hs-identifier hs-var">lockBy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-string">&quot;a&quot;</span></span><span class="hs-special">}</span></span><span>
</span><span id="line-274"></span><span>
</span><span id="line-275"></span><span id="local-6989586621680048097"><span class="hs-keyword">instance</span><span> </span><span class="hs-pragma">{-# OVERLAPS</span><span> </span><span class="hs-pragma">#-}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnitTag"><span class="hs-identifier hs-type">UnitTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048097"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">T.Text</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048097"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-276"></span><span>    </span><span id="local-6989586621680048095"><span class="annot"><span class="annottext">toSamples :: Proxy [(Text, [Lock tag])] -&gt; [(Text, [(Text, [Lock tag])])]
</span><a href="#local-6989586621680048095"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSamples</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy [(Text, [Lock tag])]
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">[(Text, [Lock tag])] -&gt; [(Text, [(Text, [Lock tag])])]
forall a. a -&gt; [(Text, a)]
</span><span class="hs-identifier hs-var">singleSample</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;PU or function tag&quot;</span></span><span class="hs-special">,</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Lock :: forall v. v -&gt; v -&gt; Lock v
</span><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">locked :: tag
</span><a href="NITTA.Intermediate.Types.html#locked"><span class="hs-identifier hs-var">locked</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-string">&quot;b&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lockBy :: tag
</span><a href="NITTA.Intermediate.Types.html#lockBy"><span class="hs-identifier hs-var">lockBy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-string">&quot;a&quot;</span></span><span class="hs-special">}</span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span></span><span>
</span><span id="line-277"></span><span>
</span><span id="line-278"></span><span class="hs-keyword">type</span><span> </span><span id="DebugAPI"><span class="annot"><a href="NITTA.UIBackend.REST.html#DebugAPI"><span class="hs-identifier hs-var">DebugAPI</span></a></span></span><span> </span><span id="local-6989586621680048094"><span class="annot"><a href="#local-6989586621680048094"><span class="hs-identifier hs-type">tag</span></a></span></span><span> </span><span id="local-6989586621680048093"><span class="annot"><a href="#local-6989586621680048093"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680048092"><span class="annot"><a href="#local-6989586621680048092"><span class="hs-identifier hs-type">t</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-279"></span><span>    </span><span class="annot"><span class="hs-identifier hs-type">Description</span></span><span>
</span><span id="line-280"></span><span>        </span><span class="annot"><span class="hs-string">&quot;Debuging interface to fast access to internal state \
        \(see NITTA.UIBackend.REST.Debug)&quot;</span></span><span>
</span><span id="line-282"></span><span>        </span><span class="annot"><span class="hs-operator hs-type">:&gt;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Get</span></span><span> </span><span class="hs-special">'</span><span class="hs-special">[</span><span class="annot"><span class="hs-identifier hs-type">JSON</span></span><span class="hs-special">]</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.UIBackend.REST.html#Debug"><span class="hs-identifier hs-type">Debug</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048094"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048093"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048092"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-283"></span><span>
</span><span id="line-284"></span><span id="debug"><span class="annot"><span class="annottext">debug :: BackendCtx a v x t -&gt; SID -&gt; m (Debug a v t)
</span><a href="NITTA.UIBackend.REST.html#debug"><span class="hs-identifier hs-var hs-var">debug</span></a></span></span><span> </span><span class="annot"><a href="NITTA.UIBackend.REST.html#BackendCtx"><span class="hs-identifier hs-type">BackendCtx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048091"><span class="annot"><span class="annottext">DefTree a v x t
root :: DefTree a v x t
$sel:root:BackendCtx :: forall tag v x t. BackendCtx tag v x t -&gt; DefTree tag v x t
</span><a href="#local-6989586621680048091"><span class="hs-identifier hs-var hs-var">root</span></a></span></span><span class="hs-special">}</span><span> </span><span id="local-6989586621680048090"><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048090"><span class="hs-identifier hs-var">sid</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">IO (Debug a v t) -&gt; m (Debug a v t)
forall (m :: * -&gt; *) a. MonadIO m =&gt; IO a -&gt; m a
</span><span class="hs-identifier hs-var">liftIO</span></span><span> </span><span class="annot"><span class="annottext">(IO (Debug a v t) -&gt; m (Debug a v t))
-&gt; IO (Debug a v t) -&gt; m (Debug a v t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-285"></span><span>    </span><span id="local-6989586621680048089"><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048089"><span class="hs-identifier hs-var">tree</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; SID -&gt; IO (DefTree a v x t)
forall tag v x t.
(IsString tag, IsString v, ToString tag, ToString v, Suffix v,
 Hashable v, Val x, Bounded t, Typeable tag, Typeable v, Typeable t,
 Show t, Default t, Integral t, Ord tag, Ord v) =&gt;
Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t
-&gt; SID
-&gt; IO
     (Tree (TargetSystem (BusNetwork tag v x t) tag v x t) tag v x t)
</span><a href="NITTA.Synthesis.Explore.html#getTreeIO"><span class="hs-identifier hs-var">getTreeIO</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048091"><span class="hs-identifier hs-var">root</span></a></span><span> </span><span class="annot"><span class="annottext">SID
</span><a href="#local-6989586621680048090"><span class="hs-identifier hs-var">sid</span></a></span><span>
</span><span id="line-286"></span><span>    </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680048088"><span class="annot"><span class="annottext">dbgFunctionLocks :: [(F v x, [Lock v])]
</span><a href="#local-6989586621680048088"><span class="hs-identifier hs-var hs-var">dbgFunctionLocks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">(F v x -&gt; (F v x, [Lock v])) -&gt; [F v x] -&gt; [(F v x, [Lock v])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span id="local-6989586621680048087"><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680048087"><span class="hs-identifier hs-var">f</span></a></span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680048087"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">F v x -&gt; [Lock v]
forall x v. Locks x v =&gt; x -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#locks"><span class="hs-identifier hs-var">locks</span></a></span><span> </span><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680048087"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([F v x] -&gt; [(F v x, [Lock v])]) -&gt; [F v x] -&gt; [(F v x, [Lock v])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">BusNetwork a v x t -&gt; [F v x]
forall a f. WithFunctions a f =&gt; a -&gt; [f]
</span><a href="NITTA.Intermediate.Types.html#functions"><span class="hs-identifier hs-var">functions</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork a v x t -&gt; [F v x]) -&gt; BusNetwork a v x t -&gt; [F v x]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; BusNetwork a v x t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048089"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-287"></span><span>        </span><span id="local-6989586621680048085"><span class="annot"><span class="annottext">already :: Set v
</span><a href="#local-6989586621680048085"><span class="hs-identifier hs-var hs-var">already</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BusNetwork a v x t -&gt; Set v
forall u a1 x t. ProcessorUnit u a1 x t =&gt; u -&gt; Set a1
</span><a href="NITTA.Utils.html#transferred"><span class="hs-identifier hs-var">transferred</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork a v x t -&gt; Set v) -&gt; BusNetwork a v x t -&gt; Set v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; BusNetwork a v x t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048089"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-288"></span><span>    </span><span class="annot"><span class="annottext">Debug a v t -&gt; IO (Debug a v t)
forall (m :: * -&gt; *) a. Monad m =&gt; a -&gt; m a
</span><span class="hs-identifier hs-var">return</span></span><span>
</span><span id="line-289"></span><span>        </span><span class="annot"><span class="annottext">Debug :: forall tag v t.
[UnitEndpoints tag v t]
-&gt; [(Text, [Lock v])]
-&gt; [(Text, [Lock v])]
-&gt; [(tag, [Lock v])]
-&gt; Debug tag v t
</span><a href="NITTA.UIBackend.REST.html#Debug"><span class="hs-identifier hs-type">Debug</span></a></span><span>
</span><span id="line-290"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:dbgEndpointOptions:Debug :: [UnitEndpoints a v t]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgEndpointOptions%3ADebug"><span class="hs-identifier hs-var">dbgEndpointOptions</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BusNetwork a v x t -&gt; [UnitEndpoints a v t]
forall v tag x t.
Ord v =&gt;
BusNetwork tag v x t -&gt; [UnitEndpoints tag v t]
</span><a href="#local-6989586621680048083"><span class="hs-identifier hs-var">endpointOptions'</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork a v x t -&gt; [UnitEndpoints a v t])
-&gt; BusNetwork a v x t -&gt; [UnitEndpoints a v t]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; BusNetwork a v x t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048089"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-291"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:dbgFunctionLocks:Debug :: [(Text, [Lock v])]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgFunctionLocks%3ADebug"><span class="hs-identifier hs-var">dbgFunctionLocks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((F v x, [Lock v]) -&gt; (Text, [Lock v]))
-&gt; [(F v x, [Lock v])] -&gt; [(Text, [Lock v])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(F v x -&gt; Text) -&gt; (F v x, [Lock v]) -&gt; (Text, [Lock v])
forall (p :: * -&gt; * -&gt; *) a b c.
Bifunctor p =&gt;
(a -&gt; b) -&gt; p a c -&gt; p b c
</span><span class="hs-identifier hs-var">first</span></span><span> </span><span class="annot"><span class="annottext">F v x -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="NITTA.Utils.Base.html#showText"><span class="hs-identifier hs-var">showText</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[(F v x, [Lock v])]
</span><a href="#local-6989586621680048088"><span class="hs-identifier hs-var">dbgFunctionLocks</span></a></span><span>
</span><span id="line-292"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:dbgCurrentStateFunctionLocks:Debug :: [(Text, [Lock v])]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgCurrentStateFunctionLocks%3ADebug"><span class="hs-identifier hs-var">dbgCurrentStateFunctionLocks</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-293"></span><span>                </span><span class="hs-special">[</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">F v x -&gt; Text
forall a. Show a =&gt; a -&gt; Text
</span><a href="NITTA.Utils.Base.html#showText"><span class="hs-identifier hs-var">showText</span></a></span><span> </span><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680048080"><span class="hs-identifier hs-var">f</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">(Lock v -&gt; Bool) -&gt; [Lock v] -&gt; [Lock v]
forall a. (a -&gt; Bool) -&gt; [a] -&gt; [a]
</span><span class="hs-identifier hs-var">filter</span></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">\</span><span class="annot"><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048079"><span class="annot"><span class="annottext">v
lockBy :: v
lockBy :: forall v. Lock v -&gt; v
</span><a href="#local-6989586621680048079"><span class="hs-identifier hs-var hs-var">lockBy</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680048078"><span class="annot"><span class="annottext">v
locked :: v
locked :: forall v. Lock v -&gt; v
</span><a href="#local-6989586621680048078"><span class="hs-identifier hs-var hs-var">locked</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><span class="annottext">v -&gt; Set v -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-identifier hs-var">S.notMember</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680048079"><span class="hs-identifier hs-var">lockBy</span></a></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680048085"><span class="hs-identifier hs-var">already</span></a></span><span> </span><span class="annot"><span class="annottext">Bool -&gt; Bool -&gt; Bool
</span><span class="hs-operator hs-var">&amp;&amp;</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; Set v -&gt; Bool
forall a. Ord a =&gt; a -&gt; Set a -&gt; Bool
</span><span class="hs-identifier hs-var">S.notMember</span></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680048078"><span class="hs-identifier hs-var">locked</span></a></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680048085"><span class="hs-identifier hs-var">already</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">[Lock v]
</span><a href="#local-6989586621680048075"><span class="hs-identifier hs-var">ls</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-294"></span><span>                </span><span class="hs-glyph">|</span><span> </span><span class="hs-special">(</span><span id="local-6989586621680048080"><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680048080"><span class="hs-identifier hs-var">f</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680048075"><span class="annot"><span class="annottext">[Lock v]
</span><a href="#local-6989586621680048075"><span class="hs-identifier hs-var">ls</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">[(F v x, [Lock v])]
</span><a href="#local-6989586621680048088"><span class="hs-identifier hs-var">dbgFunctionLocks</span></a></span><span>
</span><span id="line-295"></span><span>                </span><span class="hs-special">]</span><span>
</span><span id="line-296"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:dbgPULocks:Debug :: [(a, [Lock v])]
</span><a href="NITTA.UIBackend.REST.html#%24sel%3AdbgPULocks%3ADebug"><span class="hs-identifier hs-var">dbgPULocks</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((a, PU v x t) -&gt; (a, [Lock v]))
-&gt; [(a, PU v x t)] -&gt; [(a, [Lock v])]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(PU v x t -&gt; [Lock v]) -&gt; (a, PU v x t) -&gt; (a, [Lock v])
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="annot"><span class="annottext">PU v x t -&gt; [Lock v]
forall x v. Locks x v =&gt; x -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#locks"><span class="hs-identifier hs-var">locks</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(a, PU v x t)] -&gt; [(a, [Lock v])])
-&gt; [(a, PU v x t)] -&gt; [(a, [Lock v])]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map a (PU v x t) -&gt; [(a, PU v x t)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">M.assocs</span></span><span> </span><span class="annot"><span class="annottext">(Map a (PU v x t) -&gt; [(a, PU v x t)])
-&gt; Map a (PU v x t) -&gt; [(a, PU v x t)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">BusNetwork a v x t -&gt; Map a (PU v x t)
forall tag v x t. BusNetwork tag v x t -&gt; Map tag (PU v x t)
</span><a href="NITTA.Model.Networks.Bus.html#bnPus"><span class="hs-identifier hs-var hs-var">bnPus</span></a></span><span> </span><span class="annot"><span class="annottext">(BusNetwork a v x t -&gt; Map a (PU v x t))
-&gt; BusNetwork a v x t -&gt; Map a (PU v x t)
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t -&gt; BusNetwork a v x t
forall c tag1 v1 x1 t1 tag2 v2 x2 t2.
Tree (TargetSystem c tag1 v1 x1 t1) tag2 v2 x2 t2 -&gt; c
</span><a href="NITTA.Synthesis.Types.html#targetUnit"><span class="hs-identifier hs-var">targetUnit</span></a></span><span> </span><span class="annot"><span class="annottext">DefTree a v x t
</span><a href="#local-6989586621680048089"><span class="hs-identifier hs-var">tree</span></a></span><span>
</span><span id="line-297"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-298"></span><span>    </span><span class="hs-keyword">where</span><span>
</span><span id="line-299"></span><span>        </span><span id="local-6989586621680048083"><span class="annot"><span class="annottext">endpointOptions' :: BusNetwork tag v x t -&gt; [UnitEndpoints tag v t]
</span><a href="#local-6989586621680048083"><span class="hs-identifier hs-var hs-var">endpointOptions'</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Model.Networks.Bus.html#BusNetwork"><span class="hs-identifier hs-type">BusNetwork</span></a></span><span class="hs-special">{</span><span id="local-6989586621680048071"><span class="annot"><span class="annottext">Map tag (PU v x t)
bnPus :: Map tag (PU v x t)
bnPus :: forall tag v x t. BusNetwork tag v x t -&gt; Map tag (PU v x t)
</span><a href="#local-6989586621680048071"><span class="hs-identifier hs-var hs-var">bnPus</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">((tag, PU v x t) -&gt; UnitEndpoints tag v t)
-&gt; [(tag, PU v x t)] -&gt; [UnitEndpoints tag v t]
forall a b. (a -&gt; b) -&gt; [a] -&gt; [b]
</span><span class="hs-identifier hs-var">map</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(tag -&gt; [EndpointSt v (TimeConstraint t)] -&gt; UnitEndpoints tag v t)
-&gt; (tag, [EndpointSt v (TimeConstraint t)])
-&gt; UnitEndpoints tag v t
forall a b c. (a -&gt; b -&gt; c) -&gt; (a, b) -&gt; c
</span><span class="hs-identifier hs-var">uncurry</span></span><span> </span><span class="annot"><span class="annottext">tag -&gt; [EndpointSt v (TimeConstraint t)] -&gt; UnitEndpoints tag v t
forall tag v t.
tag -&gt; [EndpointSt v (TimeConstraint t)] -&gt; UnitEndpoints tag v t
</span><a href="NITTA.UIBackend.REST.html#UnitEndpoints"><span class="hs-identifier hs-var">UnitEndpoints</span></a></span><span> </span><span class="annot"><span class="annottext">((tag, [EndpointSt v (TimeConstraint t)]) -&gt; UnitEndpoints tag v t)
-&gt; ((tag, PU v x t) -&gt; (tag, [EndpointSt v (TimeConstraint t)]))
-&gt; (tag, PU v x t)
-&gt; UnitEndpoints tag v t
forall b c a. (b -&gt; c) -&gt; (a -&gt; b) -&gt; a -&gt; c
</span><span class="hs-operator hs-var">.</span></span><span> </span><span class="annot"><span class="annottext">(PU v x t -&gt; [EndpointSt v (TimeConstraint t)])
-&gt; (tag, PU v x t) -&gt; (tag, [EndpointSt v (TimeConstraint t)])
forall (p :: * -&gt; * -&gt; *) b c a.
Bifunctor p =&gt;
(b -&gt; c) -&gt; p a b -&gt; p a c
</span><span class="hs-identifier hs-var">second</span></span><span> </span><span class="annot"><span class="annottext">PU v x t -&gt; [EndpointSt v (TimeConstraint t)]
forall u v t.
EndpointProblem u v t =&gt;
u -&gt; [EndpointSt v (TimeConstraint t)]
</span><a href="NITTA.Model.Problems.Endpoint.html#endpointOptions"><span class="hs-identifier hs-var">endpointOptions</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">([(tag, PU v x t)] -&gt; [UnitEndpoints tag v t])
-&gt; [(tag, PU v x t)] -&gt; [UnitEndpoints tag v t]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Map tag (PU v x t) -&gt; [(tag, PU v x t)]
forall k a. Map k a -&gt; [(k, a)]
</span><span class="hs-identifier hs-var">M.assocs</span></span><span> </span><span class="annot"><span class="annottext">Map tag (PU v x t)
</span><a href="#local-6989586621680048071"><span class="hs-identifier hs-var">bnPus</span></a></span><span>
</span><span id="line-300"></span><span>
</span><span id="line-301"></span><span class="hs-comment">-- API Description</span><span>
</span><span id="line-302"></span><span>
</span><span id="line-303"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToCapture</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Capture</span></span><span> </span><span class="annot"><span class="hs-string">&quot;sid&quot;</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-304"></span><span>    </span><span id="local-6989586621680048066"><span class="annot"><span class="annottext">toCapture :: Proxy (Capture &quot;sid&quot; SID) -&gt; DocCapture
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toCapture</span></span></span><span> </span><span class="annot"><span class="annottext">Proxy (Capture &quot;sid&quot; SID)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; DocCapture
</span><span class="hs-identifier hs-var">DocCapture</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;nId&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Synthesis node ID (see NITTA.Synthesis.Tree.NId)&quot;</span></span><span>
</span><span id="line-305"></span><span>
</span><span id="line-306"></span><span id="local-6989586621680048063"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToCapture</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Capture</span></span><span> </span><span class="annot"><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><a href="#local-6989586621680048063"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-307"></span><span>    </span><span id="local-6989586621680048061"><span class="annot"><span class="annottext">toCapture :: Proxy (Capture &quot;tag&quot; tag) -&gt; DocCapture
</span><a href="#local-6989586621680048061"><span class="hs-identifier hs-var hs-var hs-var hs-var">toCapture</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (Capture &quot;tag&quot; tag)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; String -&gt; DocCapture
</span><span class="hs-identifier hs-var">DocCapture</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;tag&quot;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Only process unit with specific tag&quot;</span></span></span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span id="local-6989586621680048060"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToParam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">QueryParam'</span></span><span> </span><span class="annot"><a href="#local-6989586621680048060"><span class="hs-identifier hs-type">mods</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;deep&quot;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-310"></span><span>    </span><span id="local-6989586621680048057"><span class="annot"><span class="annottext">toParam :: Proxy (QueryParam' mods &quot;deep&quot; Int) -&gt; DocQueryParam
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">toParam</span></span></span><span> </span><span class="annot"><span class="annottext">Proxy (QueryParam' mods &quot;deep&quot; Int)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-311"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String -&gt; ParamKind -&gt; DocQueryParam
</span><span class="hs-identifier hs-var">DocQueryParam</span></span><span>
</span><span id="line-312"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;deep&quot;</span></span><span>
</span><span id="line-313"></span><span>            </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;number&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-314"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;How many levels need to be explore.&quot;</span></span><span>
</span><span id="line-315"></span><span>            </span><span class="annot"><span class="annottext">ParamKind
</span><span class="hs-identifier hs-var">Normal</span></span></span><span>
</span><span id="line-316"></span><span>
</span><span id="line-317"></span><span id="local-6989586621680048053"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToParam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">QueryParam'</span></span><span> </span><span class="annot"><a href="#local-6989586621680048053"><span class="hs-identifier hs-type">mods</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;pName&quot;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-318"></span><span>    </span><span id="local-6989586621680048051"><span class="annot"><span class="annottext">toParam :: Proxy (QueryParam' mods &quot;pName&quot; String) -&gt; DocQueryParam
</span><a href="#local-6989586621680048051"><span class="hs-identifier hs-var hs-var hs-var hs-var">toParam</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (QueryParam' mods &quot;pName&quot; String)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-319"></span><span>        </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String -&gt; ParamKind -&gt; DocQueryParam
</span><span class="hs-identifier hs-var">DocQueryParam</span></span><span>
</span><span id="line-320"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;pName&quot;</span></span><span>
</span><span id="line-321"></span><span>            </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;string&quot;</span></span><span class="hs-special">]</span><span>
</span><span id="line-322"></span><span>            </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;Project name&quot;</span></span><span>
</span><span id="line-323"></span><span>            </span><span class="annot"><span class="annottext">ParamKind
</span><span class="hs-identifier hs-var">Normal</span></span></span><span>
</span><span id="line-324"></span><span>
</span><span id="line-325"></span><span id="local-6989586621680048050"><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToParam</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">QueryParam'</span></span><span> </span><span class="annot"><a href="#local-6989586621680048050"><span class="hs-identifier hs-type">mods</span></a></span><span> </span><span class="annot"><span class="hs-string">&quot;loopsNumber&quot;</span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-326"></span><span>    </span><span id="local-6989586621680048048"><span class="annot"><span class="annottext">toParam :: Proxy (QueryParam' mods &quot;loopsNumber&quot; Int) -&gt; DocQueryParam
</span><a href="#local-6989586621680048048"><span class="hs-identifier hs-var hs-var hs-var hs-var">toParam</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (QueryParam' mods &quot;loopsNumber&quot; Int)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String -&gt; [String] -&gt; String -&gt; ParamKind -&gt; DocQueryParam
</span><span class="hs-identifier hs-var">DocQueryParam</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;loopsNumber&quot;</span></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;number&quot;</span></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;How many computation cycles need to simulate.&quot;</span></span><span> </span><span class="annot"><span class="annottext">ParamKind
</span><span class="hs-identifier hs-var">Normal</span></span></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span class="hs-keyword">instance</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="annot"><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-type">SID</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-329"></span><span>    </span><span id="local-6989586621680048046"><span class="annot"><span class="annottext">toSamples :: Proxy SID -&gt; [(Text, SID)]
</span><a href="#local-6989586621680048046"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSamples</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy SID
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;The synthesis node path from the root by edge indexes.&quot;</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">[Int] -&gt; SID
</span><a href="NITTA.Synthesis.Types.html#SID"><span class="hs-identifier hs-var">SID</span></a></span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">]</span><span class="hs-special">)</span><span class="hs-special">]</span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span id="local-6989586621680048044"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Time.html#Time"><span class="hs-identifier hs-type">Time</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048044"><span class="hs-identifier hs-type">t</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048044"><span class="hs-identifier hs-type">t</span></a></span><span> </span><span class="annot"><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-type">StepInfoView</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-332"></span><span>    </span><span id="local-6989586621680048042"><span class="annot"><span class="annottext">toSamples :: Proxy (Process t StepInfoView) -&gt; [(Text, Process t StepInfoView)]
</span><a href="#local-6989586621680048042"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSamples</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (Process t StepInfoView)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-333"></span><span>        </span><span class="hs-special">[</span><span>
</span><span id="line-334"></span><span>            </span><span class="hs-special">(</span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;for process unit&quot;</span></span><span>
</span><span id="line-335"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Process :: forall t i. [Step t i] -&gt; [Relation] -&gt; t -&gt; Int -&gt; Process t i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Process"><span class="hs-identifier hs-type">Process</span></a></span><span>
</span><span id="line-336"></span><span>                </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">steps :: [Step t StepInfoView]
</span><a href="#local-6989586621680048040"><span class="hs-identifier hs-var">steps</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-337"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Step :: forall t i. Int -&gt; Interval t -&gt; i -&gt; Step t i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pID :: Int
</span><a href="#local-6989586621680048038"><span class="hs-identifier hs-var">pID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pInterval :: Interval t
</span><a href="#local-6989586621680048037"><span class="hs-identifier hs-var">pInterval</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Interval t
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">5</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pDesc :: StepInfoView
</span><a href="#local-6989586621680048036"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; StepInfoView
</span><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-var">StepInfoView</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;Intermediate+x_0#0 +1@const#0 = x#0;&quot;</span></span><span class="hs-special">}</span><span>
</span><span id="line-338"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Step :: forall t i. Int -&gt; Interval t -&gt; i -&gt; Step t i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pID :: Int
</span><a href="#local-6989586621680048038"><span class="hs-identifier hs-var">pID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pInterval :: Interval t
</span><a href="#local-6989586621680048037"><span class="hs-identifier hs-var">pInterval</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Interval t
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">4</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pDesc :: StepInfoView
</span><a href="#local-6989586621680048036"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; StepInfoView
</span><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-var">StepInfoView</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;InstructionOut&quot;</span></span><span class="hs-special">}</span><span>
</span><span id="line-339"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Step :: forall t i. Int -&gt; Interval t -&gt; i -&gt; Step t i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pID :: Int
</span><a href="#local-6989586621680048038"><span class="hs-identifier hs-var">pID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pInterval :: Interval t
</span><a href="#local-6989586621680048037"><span class="hs-identifier hs-var">pInterval</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">5</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Interval t
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">5</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pDesc :: StepInfoView
</span><a href="#local-6989586621680048036"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; StepInfoView
</span><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-var">StepInfoView</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;EndpointSource x#0&quot;</span></span><span class="hs-special">}</span><span>
</span><span id="line-340"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Step :: forall t i. Int -&gt; Interval t -&gt; i -&gt; Step t i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pID :: Int
</span><a href="#local-6989586621680048038"><span class="hs-identifier hs-var">pID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pInterval :: Interval t
</span><a href="#local-6989586621680048037"><span class="hs-identifier hs-var">pInterval</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Interval t
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pDesc :: StepInfoView
</span><a href="#local-6989586621680048036"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; StepInfoView
</span><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-var">StepInfoView</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;InstructionLoad False&quot;</span></span><span class="hs-special">}</span><span>
</span><span id="line-341"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Step :: forall t i. Int -&gt; Interval t -&gt; i -&gt; Step t i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pID :: Int
</span><a href="#local-6989586621680048038"><span class="hs-identifier hs-var">pID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pInterval :: Interval t
</span><a href="#local-6989586621680048037"><span class="hs-identifier hs-var">pInterval</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Interval t
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">2</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pDesc :: StepInfoView
</span><a href="#local-6989586621680048036"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; StepInfoView
</span><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-var">StepInfoView</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;EndpointTarget 1@const#0&quot;</span></span><span class="hs-special">}</span><span>
</span><span id="line-342"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Step :: forall t i. Int -&gt; Interval t -&gt; i -&gt; Step t i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pID :: Int
</span><a href="#local-6989586621680048038"><span class="hs-identifier hs-var">pID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pInterval :: Interval t
</span><a href="#local-6989586621680048037"><span class="hs-identifier hs-var">pInterval</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Interval t
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pDesc :: StepInfoView
</span><a href="#local-6989586621680048036"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; StepInfoView
</span><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-var">StepInfoView</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;InstructionResetAndLoad False&quot;</span></span><span class="hs-special">}</span><span>
</span><span id="line-343"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Step :: forall t i. Int -&gt; Interval t -&gt; i -&gt; Step t i
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Step"><span class="hs-identifier hs-type">Step</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">pID :: Int
</span><a href="#local-6989586621680048038"><span class="hs-identifier hs-var">pID</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pInterval :: Interval t
</span><a href="#local-6989586621680048037"><span class="hs-identifier hs-var">pInterval</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">1</span></span><span> </span><span class="annot"><span class="annottext">t -&gt; t -&gt; Interval t
forall a. Ord a =&gt; a -&gt; a -&gt; Interval a
</span><span class="hs-operator hs-var">...</span></span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">1</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">pDesc :: StepInfoView
</span><a href="#local-6989586621680048036"><span class="hs-identifier hs-var">pDesc</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Text -&gt; StepInfoView
</span><a href="NITTA.UIBackend.ViewHelper.html#StepInfoView"><span class="hs-identifier hs-var">StepInfoView</span></a></span><span> </span><span class="annot"><span class="annottext">Text
</span><span class="hs-string">&quot;EndpointTarget x_0#0&quot;</span></span><span class="hs-special">}</span><span>
</span><span id="line-344"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-345"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">relations :: [Relation]
</span><a href="#local-6989586621680048034"><span class="hs-identifier hs-var">relations</span></a></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-346"></span><span>                    </span><span class="hs-special">[</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Relation
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Vertical"><span class="hs-identifier hs-var">Vertical</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span>
</span><span id="line-347"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Relation
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Vertical"><span class="hs-identifier hs-var">Vertical</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span>
</span><span id="line-348"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Relation
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Vertical"><span class="hs-identifier hs-var">Vertical</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">6</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span>
</span><span id="line-349"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Relation
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Vertical"><span class="hs-identifier hs-var">Vertical</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">4</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">5</span></span><span>
</span><span id="line-350"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Relation
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Vertical"><span class="hs-identifier hs-var">Vertical</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">2</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">3</span></span><span>
</span><span id="line-351"></span><span>                    </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">Int -&gt; Int -&gt; Relation
</span><a href="NITTA.Model.ProcessorUnits.Types.html#Vertical"><span class="hs-identifier hs-var">Vertical</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">0</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">1</span></span><span>
</span><span id="line-352"></span><span>                    </span><span class="hs-special">]</span><span>
</span><span id="line-353"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nextTick_ :: t
</span><a href="#local-6989586621680048032"><span class="hs-identifier hs-var">nextTick_</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">t
</span><span class="hs-number">5</span></span><span>
</span><span id="line-354"></span><span>                </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">nextUid :: Int
</span><a href="#local-6989586621680048031"><span class="hs-identifier hs-var">nextUid</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">7</span></span><span>
</span><span id="line-355"></span><span>                </span><span class="hs-special">}</span><span>
</span><span id="line-356"></span><span>            </span><span class="hs-special">)</span><span>
</span><span id="line-357"></span><span>        </span><span class="hs-special">]</span></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span id="local-6989586621680048030"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.ProcessorUnits.Types.html#UnitTag"><span class="hs-identifier hs-type">UnitTag</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048030"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">ToSample</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Model.Microarchitecture.Builder.html#MicroarchitectureDesc"><span class="hs-identifier hs-type">MicroarchitectureDesc</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048030"><span class="hs-identifier hs-type">tag</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-360"></span><span>    </span><span id="local-6989586621680048028"><span class="annot"><span class="annottext">toSamples :: Proxy (MicroarchitectureDesc tag)
-&gt; [(Text, MicroarchitectureDesc tag)]
</span><a href="#local-6989586621680048028"><span class="hs-identifier hs-var hs-var hs-var hs-var">toSamples</span></a></span></span><span> </span><span class="annot"><span class="annottext">Proxy (MicroarchitectureDesc tag)
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-361"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680048027"><span class="annot"><span class="annottext">BusNetwork tag String (IntX 32) Int
</span><a href="#local-6989586621680048027"><span class="hs-identifier hs-var">bn</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Model.Networks.Bus.html#BusNetwork"><span class="hs-identifier hs-type">BusNetwork</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680048030"><span class="hs-identifier hs-type">tag</span></a></span><span> </span><span class="annot"><span class="hs-identifier hs-type">String</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Value.html#IntX"><span class="hs-identifier hs-type">IntX</span></a></span><span> </span><span class="annot"><span class="hs-number">32</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">tag
-&gt; IOSynchronization
-&gt; StateT (BuilderSt tag String (IntX 32) Int) Identity ()
-&gt; BusNetwork tag String (IntX 32) Int
forall t k v x a.
Default t =&gt;
k
-&gt; IOSynchronization
-&gt; StateT (BuilderSt k v x t) Identity a
-&gt; BusNetwork k v x t
</span><a href="NITTA.Model.Microarchitecture.Builder.html#defineNetwork"><span class="hs-identifier hs-var">defineNetwork</span></a></span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-string">&quot;net1&quot;</span></span><span> </span><span class="annot"><span class="annottext">IOSynchronization
</span><a href="NITTA.Model.Networks.Types.html#Sync"><span class="hs-identifier hs-var">Sync</span></a></span><span> </span><span class="annot"><span class="annottext">(StateT (BuilderSt tag String (IntX 32) Int) Identity ()
 -&gt; BusNetwork tag String (IntX 32) Int)
-&gt; StateT (BuilderSt tag String (IntX 32) Int) Identity ()
-&gt; BusNetwork tag String (IntX 32) Int
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-362"></span><span>                </span><span class="annot"><span class="annottext">tag
-&gt; Fram String (IntX 32) Int
-&gt; IOPorts (Fram String (IntX 32) Int)
-&gt; StateT (BuilderSt tag String (IntX 32) Int) Identity ()
forall (m :: * -&gt; *) a v x t pu.
(MonadState (BuilderSt a v x t) m, Ord a, ByTime pu t,
 Connected pu, IOConnected pu, EndpointProblem pu v t,
 BreakLoopProblem pu v x, ConstantFoldingProblem pu v x,
 OptimizeAccumProblem pu v x, ResolveDeadlockProblem pu v x,
 ProcessorUnit pu v x t, UnambiguouslyDecode pu,
 TargetSystemComponent pu, IOTestBench pu v x, Locks pu v,
 ToString a, Typeable pu, Show (Instruction pu), Controllable pu) =&gt;
a -&gt; pu -&gt; IOPorts pu -&gt; m ()
</span><a href="NITTA.Model.Microarchitecture.Builder.html#addCustom"><span class="hs-identifier hs-var">addCustom</span></a></span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-string">&quot;fram1&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Fram String (IntX 32) Int
forall x t v. (Default x, Default t) =&gt; Int -&gt; Fram v x t
</span><a href="NITTA.Model.ProcessorUnits.Fram.html#framWithSize"><span class="hs-identifier hs-var">framWithSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">16</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IOPorts (Fram String (IntX 32) Int)
forall v x t. IOPorts (Fram v x t)
</span><a href="NITTA.Model.ProcessorUnits.Fram.html#FramIO"><span class="hs-identifier hs-var">FramIO</span></a></span><span>
</span><span id="line-363"></span><span>                </span><span class="annot"><span class="annottext">tag
-&gt; Fram String (IntX 32) Int
-&gt; IOPorts (Fram String (IntX 32) Int)
-&gt; StateT (BuilderSt tag String (IntX 32) Int) Identity ()
forall (m :: * -&gt; *) a v x t pu.
(MonadState (BuilderSt a v x t) m, Ord a, ByTime pu t,
 Connected pu, IOConnected pu, EndpointProblem pu v t,
 BreakLoopProblem pu v x, ConstantFoldingProblem pu v x,
 OptimizeAccumProblem pu v x, ResolveDeadlockProblem pu v x,
 ProcessorUnit pu v x t, UnambiguouslyDecode pu,
 TargetSystemComponent pu, IOTestBench pu v x, Locks pu v,
 ToString a, Typeable pu, Show (Instruction pu), Controllable pu) =&gt;
a -&gt; pu -&gt; IOPorts pu -&gt; m ()
</span><a href="NITTA.Model.Microarchitecture.Builder.html#addCustom"><span class="hs-identifier hs-var">addCustom</span></a></span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-string">&quot;fram2&quot;</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Int -&gt; Fram String (IntX 32) Int
forall x t v. (Default x, Default t) =&gt; Int -&gt; Fram v x t
</span><a href="NITTA.Model.ProcessorUnits.Fram.html#framWithSize"><span class="hs-identifier hs-var">framWithSize</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-number">32</span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">IOPorts (Fram String (IntX 32) Int)
forall v x t. IOPorts (Fram v x t)
</span><a href="NITTA.Model.ProcessorUnits.Fram.html#FramIO"><span class="hs-identifier hs-var">FramIO</span></a></span><span>
</span><span id="line-364"></span><span>                </span><span class="annot"><span class="annottext">tag
-&gt; IOPorts (Shift String (IntX 32) Int)
-&gt; StateT (BuilderSt tag String (IntX 32) Int) Identity ()
forall a v x t (m :: * -&gt; *) pu.
(MonadState (BuilderSt a v x t) m, ByTime pu t, Connected pu,
 IOConnected pu, EndpointProblem pu v t, BreakLoopProblem pu v x,
 ConstantFoldingProblem pu v x, OptimizeAccumProblem pu v x,
 ResolveDeadlockProblem pu v x, ProcessorUnit pu v x t,
 UnambiguouslyDecode pu, TargetSystemComponent pu,
 IOTestBench pu v x, Locks pu v, Controllable pu, ToString a,
 Typeable pu, Show (Instruction pu), Default pu, Ord a) =&gt;
a -&gt; IOPorts pu -&gt; m ()
</span><a href="NITTA.Model.Microarchitecture.Builder.html#add"><span class="hs-identifier hs-var">add</span></a></span><span> </span><span class="annot"><span class="annottext">tag
</span><span class="hs-string">&quot;shift&quot;</span></span><span> </span><span class="annot"><span class="annottext">IOPorts (Shift String (IntX 32) Int)
forall v x t. IOPorts (Shift v x t)
</span><a href="NITTA.Model.ProcessorUnits.Shift.html#ShiftIO"><span class="hs-identifier hs-var">ShiftIO</span></a></span><span>
</span><span id="line-365"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">MicroarchitectureDesc tag -&gt; [(Text, MicroarchitectureDesc tag)]
forall a. a -&gt; [(Text, a)]
</span><span class="hs-identifier hs-var">singleSample</span></span><span> </span><span class="annot"><span class="annottext">(MicroarchitectureDesc tag -&gt; [(Text, MicroarchitectureDesc tag)])
-&gt; MicroarchitectureDesc tag -&gt; [(Text, MicroarchitectureDesc tag)]
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">BusNetwork tag String (IntX 32) Int -&gt; MicroarchitectureDesc tag
forall tag v x t.
Typeable x =&gt;
BusNetwork tag v x t -&gt; MicroarchitectureDesc tag
</span><a href="NITTA.Model.Microarchitecture.Builder.html#microarchitectureDesc"><span class="hs-identifier hs-var">microarchitectureDesc</span></a></span><span> </span><span class="annot"><span class="annottext">BusNetwork tag String (IntX 32) Int
</span><a href="#local-6989586621680048027"><span class="hs-identifier hs-var">bn</span></a></span></span><span>
</span><span id="line-366"></span></pre></body></html>