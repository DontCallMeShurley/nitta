<!DOCTYPE html PUBLIC "-//W3C//DTD XHTML 1.0 Transitional//EN" "http://www.w3.org/TR/xhtml1/DTD/xhtml1-transitional.dtd"><html xmlns="http://www.w3.org/1999/xhtml"><head><link rel="stylesheet" type="text/css" href="style.css" /><script type="text/javascript" src="highlight.js"></script></head><body><pre><span class="hs-pragma">{-# LANGUAGE AllowAmbiguousTypes #-}</span><span>
</span><span id="line-2"></span><span class="hs-pragma">{-# LANGUAGE DuplicateRecordFields #-}</span><span>
</span><span id="line-3"></span><span class="hs-pragma">{-# LANGUAGE FlexibleContexts #-}</span><span>
</span><span id="line-4"></span><span class="hs-pragma">{-# LANGUAGE FlexibleInstances #-}</span><span>
</span><span id="line-5"></span><span class="hs-pragma">{-# LANGUAGE GADTs #-}</span><span>
</span><span id="line-6"></span><span class="hs-pragma">{-# LANGUAGE MultiParamTypeClasses #-}</span><span>
</span><span id="line-7"></span><span class="hs-pragma">{-# LANGUAGE NamedFieldPuns #-}</span><span>
</span><span id="line-8"></span><span class="hs-pragma">{-# LANGUAGE UndecidableInstances #-}</span><span>
</span><span id="line-9"></span><span>
</span><span id="line-10"></span><span class="hs-comment">{- |
Module      : NITTA.Intermediate.Functions
Description : Library of functions
Copyright   : (c) Aleksandr Penskoi, 2019
License     : BSD3
Maintainer  : aleksandr.penskoi@gmail.com
Stability   : experimental

Library of functions for an intermediate algorithm representation. Execution
relations between functions and process units are many-to-many.

[@function (functional block)@] atomic operation in intermediate algorithm
representation. Function has zero or many inputs and zero or many output.
Function can contains state between process cycles.
-}</span><span>
</span><span id="line-25"></span><span class="hs-keyword">module</span><span> </span><span class="hs-identifier">NITTA.Intermediate.Functions</span><span> </span><span class="hs-special">(</span><span>
</span><span id="line-26"></span><span>    </span><span class="annot"><span class="hs-comment">-- *Arithmetics</span></span><span>
</span><span id="line-27"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier">Add</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-28"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#add"><span class="hs-identifier">add</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-29"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier">Division</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-30"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#division"><span class="hs-identifier">division</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-31"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier">Multiply</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-32"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#multiply"><span class="hs-identifier">multiply</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-33"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftLR"><span class="hs-identifier">ShiftLR</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-34"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#shiftL"><span class="hs-identifier">shiftL</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-35"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#shiftR"><span class="hs-identifier">shiftR</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-36"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier">Sub</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-37"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#sub"><span class="hs-identifier">sub</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-38"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier">Neg</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-39"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#neg"><span class="hs-identifier">neg</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-40"></span><span>    </span><span class="hs-keyword">module</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.Accum.html"><span class="hs-identifier">NITTA.Intermediate.Functions.Accum</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-41"></span><span>
</span><span id="line-42"></span><span>    </span><span class="annot"><span class="hs-comment">-- *Memory</span></span><span>
</span><span id="line-43"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier">Constant</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-44"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#constant"><span class="hs-identifier">constant</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-45"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier">Loop</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-46"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#loop"><span class="hs-identifier">loop</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-47"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#isLoop"><span class="hs-identifier">isLoop</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-48"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier">LoopEnd</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-49"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier">LoopBegin</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-50"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier">Buffer</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-51"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#buffer"><span class="hs-identifier">buffer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-52"></span><span>
</span><span id="line-53"></span><span>    </span><span class="annot"><span class="hs-comment">-- *Input/Output</span></span><span>
</span><span id="line-54"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier">Receive</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-55"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#receive"><span class="hs-identifier">receive</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-56"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier">Send</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-57"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#send"><span class="hs-identifier">send</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-58"></span><span>
</span><span id="line-59"></span><span>    </span><span class="annot"><span class="hs-comment">-- *Internal</span></span><span>
</span><span id="line-60"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier">BrokenBuffer</span></a></span><span> </span><span class="hs-special">(</span><span class="hs-glyph">..</span><span class="hs-special">)</span><span class="hs-special">,</span><span>
</span><span id="line-61"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#brokenBuffer"><span class="hs-identifier">brokenBuffer</span></a></span><span class="hs-special">,</span><span>
</span><span id="line-62"></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-63"></span><span>
</span><span id="line-64"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.Bits</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">B</span></span><span>
</span><span id="line-65"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Default</span></span><span>
</span><span id="line-66"></span><span class="hs-keyword">import</span><span> </span><span class="hs-keyword">qualified</span><span> </span><span class="annot"><span class="hs-identifier">Data.HashMap.Strict</span></span><span> </span><span class="hs-keyword">as</span><span> </span><span class="annot"><span class="hs-identifier">HM</span></span><span>
</span><span id="line-67"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Set</span></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier">elems</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">fromList</span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier">union</span></span><span class="hs-special">)</span><span>
</span><span id="line-68"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><span class="hs-identifier">Data.Typeable</span></span><span>
</span><span id="line-69"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.Accum.html"><span class="hs-identifier">NITTA.Intermediate.Functions.Accum</span></a></span><span>
</span><span id="line-70"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html"><span class="hs-identifier">NITTA.Intermediate.Types</span></a></span><span>
</span><span id="line-71"></span><span class="hs-keyword">import</span><span> </span><span class="annot"><a href="NITTA.Utils.Base.html"><span class="hs-identifier">NITTA.Utils.Base</span></a></span><span>
</span><span id="line-72"></span><span>
</span><span id="line-73"></span><span class="hs-comment">{- |Loop -- function for transfer data between computational cycles.
Let see the simple example with the following implementation of the
Fibonacci algorithm.

Data flow graph:

@
    +---------------------------------+
    |                                 |
    v                                 |
+------+                          b2  |
| Loop |      b1_1  +-----+    +------+
+------+----+------&gt;|     |    |
            | a1    | sum +----+
+------+-----------&gt;|     |
| Loop |    |       +-----+      b1_2
+------+    +-------------------------+
    ^                                 |
    |                                 |
    +---------------------------------+
@

Lua source code:

@
function fib(a1, b1)
    b2 = a1 + b1
    fib(b1, b2)
end
fib(0, 1)
@

Data flow defines computation for a single computational cycle. But
a controller should repeat the algorithm infinite times, and
usually, it is required to transfer data between cycles. `Loop`
allows doing that. At first cycle, `Loop` function produces an
initial value (`X x`), after that on each cycle `Loop` produces a
variable value from the previous cycle, and consumes a new value at
the end of the cycle.

Computational process:

@
         ][                 Cycle 1                 ][                Cycle 2                  ]
         ][                                         ][                                         ]
initial  ][ ---+                          b2   +--- ][ ---+                          b2   +--- ]
 value   ][ op |      b1_1  +-----+    +------&gt;| Lo ][ op |      b1_1  +-----+    +------&gt;| Lo ]
 is a    ][ ---+----+------&gt;|     |    |       +--- ][ ---+----+------&gt;|     |    |       +--- ]
part of  ][         |       | sum +----+            ][         |       | sum +----+            ]
software ][ ---+-----------&gt;|     |            +--- ][ ---+-----------&gt;|     |            +--- ]
         ][ op |    |       +-----+     b1_2   | Lo ][ op |    |       +-----+      b1_2  | Lo ]
         ][ ---+    +-------------------------&gt;+--- ][ ---+    +-------------------------&gt;+--- ]
         ][                                         ][                                         ]
@

Similation data:

+--------------+----+----+----+
| Cycle number | a1 | b1 | b2 |
+==============+====+====+====+
| 1            | 0  | 1  | 1  |
+--------------+----+----+----+
| 2            | 1  | 1  | 2  |
+--------------+----+----+----+
| 3            | 1  | 2  | 3  |
+--------------+----+----+----+
| 4            | 2  | 3  | 5  |
+--------------+----+----+----+

In practice, Loop function supported by Fram processor unit in the
following way: Loop function should be prepared before execution by
automatical refactor @BreakLoop@, which replace Loop by @LoopEnd@
and @LoopBegin@.
-}</span><span>
</span><span id="line-147"></span><span class="hs-keyword">data</span><span> </span><span id="Loop"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-var">Loop</span></a></span></span><span> </span><span id="local-6989586621680026769"><span class="annot"><a href="#local-6989586621680026769"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026770"><span class="annot"><a href="#local-6989586621680026770"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Loop"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-var">Loop</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026770"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026769"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026769"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026437"><span id="local-6989586621680026439"><span class="annot"><span class="annottext">Loop v x -&gt; Loop v x -&gt; Bool
(Loop v x -&gt; Loop v x -&gt; Bool)
-&gt; (Loop v x -&gt; Loop v x -&gt; Bool) -&gt; Eq (Loop v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. (Eq x, Eq v) =&gt; Loop v x -&gt; Loop v x -&gt; Bool
/= :: Loop v x -&gt; Loop v x -&gt; Bool
$c/= :: forall v x. (Eq x, Eq v) =&gt; Loop v x -&gt; Loop v x -&gt; Bool
== :: Loop v x -&gt; Loop v x -&gt; Bool
$c== :: forall v x. (Eq x, Eq v) =&gt; Loop v x -&gt; Loop v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-148"></span><span>
</span><span id="line-149"></span><span id="local-6989586621680026434"><span id="local-6989586621680026435"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026429"><span id="local-6989586621680026432"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026435"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680026434"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026435"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026434"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680026427"><span class="annot"><span class="annottext">show :: Loop v x -&gt; String
</span><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Loop v x -&gt; String
forall a. Label a =&gt; a -&gt; String
</span><a href="NITTA.Intermediate.Types.html#label"><span class="hs-keyword hs-var">label</span></a></span></span></span><span>
</span><span id="line-150"></span><span id="local-6989586621680026423"><span id="local-6989586621680026424"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026424"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680026423"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026424"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026423"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-151"></span><span>    </span><span id="local-6989586621680026420"><span class="annot"><span class="annottext">label :: Loop v x -&gt; String
</span><a href="#local-6989586621680026420"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span id="local-6989586621680026418"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026418"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680026417"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026417"><span class="hs-identifier hs-var">os</span></a></span></span><span> </span><span id="local-6989586621680026416"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026416"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-152"></span><span>        </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;loop(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026418"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;, &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026416"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026417"><span class="hs-identifier hs-var">os</span></a></span></span></span><span>
</span><span id="line-153"></span><span id="local-6989586621680026414"><span id="local-6989586621680026415"><span class="annot"><a href="NITTA.Intermediate.Functions.html#loop"><span class="hs-identifier hs-type">loop</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026415"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026414"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026414"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026415"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680026415"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026415"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026414"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-154"></span><span id="loop"><span class="annot"><span class="annottext">loop :: x -&gt; v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#loop"><span class="hs-identifier hs-var hs-var">loop</span></a></span></span><span> </span><span id="local-6989586621680026413"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026413"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680026412"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026412"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026411"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026411"><span class="hs-identifier hs-var">bs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Loop v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Loop v x -&gt; F v x) -&gt; Loop v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">X x -&gt; O v -&gt; I v -&gt; Loop v x
forall v x. X x -&gt; O v -&gt; I v -&gt; Loop v x
</span><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-var">Loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; X x
forall x. x -&gt; X x
</span><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-var">X</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026413"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026411"><span class="hs-identifier hs-var">bs</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(I v -&gt; Loop v x) -&gt; I v -&gt; Loop v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026412"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-155"></span><span id="isLoop"><span class="annot"><span class="annottext">isLoop :: F v x -&gt; Bool
</span><a href="NITTA.Intermediate.Functions.html#isLoop"><span class="hs-identifier hs-var hs-var">isLoop</span></a></span></span><span> </span><span id="local-6989586621680026407"><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680026407"><span class="hs-identifier hs-var">f</span></a></span></span><span>
</span><span id="line-156"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">F v x -&gt; Maybe (Loop v x)
forall (f :: * -&gt; * -&gt; *) v x.
(Typeable f, Typeable v, Typeable x) =&gt;
F v x -&gt; Maybe (f v x)
</span><a href="NITTA.Intermediate.Types.html#castF"><span class="hs-identifier hs-var">castF</span></a></span><span> </span><span class="annot"><span class="annottext">F v x
</span><a href="#local-6989586621680026407"><span class="hs-identifier hs-var">f</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-157"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">otherwise</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">False</span></span><span>
</span><span id="line-158"></span><span>
</span><span id="line-159"></span><span id="local-6989586621680026404"><span id="local-6989586621680026405"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026405"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026404"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026405"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-160"></span><span>    </span><span id="local-6989586621680026399"><span class="annot"><span class="annottext">isInternalLockPossible :: Loop v x -&gt; Bool
</span><a href="NITTA.Intermediate.Types.html#isInternalLockPossible"><span class="hs-identifier hs-var hs-var hs-var hs-var">isInternalLockPossible</span></a></span></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span><span>
</span><span id="line-161"></span><span>    </span><span id="local-6989586621680026397"><span class="annot"><span class="annottext">inputs :: Loop v x -&gt; Set v
</span><a href="NITTA.Intermediate.Types.html#inputs"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><span class="annottext">X x
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680026395"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026395"><span class="hs-identifier hs-var">_a</span></a></span></span><span> </span><span id="local-6989586621680026394"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026394"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026394"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-162"></span><span>    </span><span id="local-6989586621680026392"><span class="annot"><span class="annottext">outputs :: Loop v x -&gt; Set v
</span><a href="NITTA.Intermediate.Types.html#outputs"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><span class="annottext">X x
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680026390"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026390"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026389"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026389"><span class="hs-identifier hs-var">_b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026390"><span class="hs-identifier hs-var">a</span></a></span></span></span><span>
</span><span id="line-163"></span><span id="local-6989586621680026387"><span id="local-6989586621680026388"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026388"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026388"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026387"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680026388"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680026388"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-164"></span><span>    </span><span id="local-6989586621680026384"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Loop v x -&gt; Loop v x
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680026382"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026382"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span id="local-6989586621680026381"><span class="annot"><span class="annottext">X x
</span><a href="#local-6989586621680026381"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680026380"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026380"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026379"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026379"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X x -&gt; O v -&gt; I v -&gt; Loop v x
forall v x. X x -&gt; O v -&gt; I v -&gt; Loop v x
</span><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-var">Loop</span></a></span><span> </span><span class="annot"><span class="annottext">X x
</span><a href="#local-6989586621680026381"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026382"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026380"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026382"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026379"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-165"></span><span id="local-6989586621680026377"><span id="local-6989586621680026378"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026378"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026378"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026377"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026378"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-166"></span><span>    </span><span id="local-6989586621680026373"><span class="annot"><span class="annottext">locks :: Loop v x -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#locks"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><span class="annottext">X x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680026371"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026371"><span class="hs-keyword hs-var">as</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680026370"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026370"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="annot"><span class="annottext">Lock :: forall v. v -&gt; v -&gt; Lock v
</span><a href="NITTA.Intermediate.Types.html#Lock"><span class="hs-identifier hs-type">Lock</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">locked :: v
</span><a href="#local-6989586621680026368"><span class="hs-identifier hs-var">locked</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026370"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">lockBy :: v
</span><a href="#local-6989586621680026367"><span class="hs-identifier hs-var">lockBy</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026366"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680026366"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026366"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026371"><span class="hs-keyword hs-var">as</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-167"></span><span id="local-6989586621680026364"><span id="local-6989586621680026365"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026365"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026365"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026364"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026365"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026364"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-168"></span><span>    </span><span id="local-6989586621680026361"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Loop v x -&gt; [(v, x)]
</span><a href="NITTA.Intermediate.Types.html#simulate"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#CycleCntx"><span class="hs-identifier hs-type">CycleCntx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680026358"><span class="annot"><span class="annottext">HashMap v x
cycleCntx :: forall v x. CycleCntx v x -&gt; HashMap v x
cycleCntx :: HashMap v x
</span><a href="NITTA.Intermediate.Types.html#cycleCntx"><span class="hs-identifier hs-var hs-var">cycleCntx</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span id="local-6989586621680026356"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026356"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680026355"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026355"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-169"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; v
forall c. Set c -&gt; c
</span><a href="NITTA.Utils.Base.html#oneOf"><span class="hs-identifier hs-var">oneOf</span></a></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026355"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; HashMap v x -&gt; Maybe x
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-operator hs-var">`HM.lookup`</span></span><span> </span><span class="annot"><span class="annottext">HashMap v x
</span><a href="#local-6989586621680026358"><span class="hs-identifier hs-var">cycleCntx</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-170"></span><span>            </span><span class="hs-comment">-- if output variables are defined - nothing to do (values thrown on upper level)</span><span>
</span><span id="line-171"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-172"></span><span>            </span><span class="hs-comment">-- if output variables are not defined - set initial value</span><span>
</span><span id="line-173"></span><span>            </span><span class="annot"><span class="annottext">Maybe x
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026352"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026356"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680026352"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026352"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026355"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-174"></span><span>
</span><span id="line-175"></span><span class="hs-keyword">data</span><span> </span><span id="LoopBegin"><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-var">LoopBegin</span></a></span></span><span> </span><span id="local-6989586621680026713"><span class="annot"><a href="#local-6989586621680026713"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026712"><span class="annot"><a href="#local-6989586621680026712"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LoopBegin"><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-var">LoopBegin</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026713"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026712"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026713"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026347"><span id="local-6989586621680026349"><span class="annot"><span class="annottext">LoopBegin v x -&gt; LoopBegin v x -&gt; Bool
(LoopBegin v x -&gt; LoopBegin v x -&gt; Bool)
-&gt; (LoopBegin v x -&gt; LoopBegin v x -&gt; Bool) -&gt; Eq (LoopBegin v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. (Eq x, Eq v) =&gt; LoopBegin v x -&gt; LoopBegin v x -&gt; Bool
/= :: LoopBegin v x -&gt; LoopBegin v x -&gt; Bool
$c/= :: forall v x. (Eq x, Eq v) =&gt; LoopBegin v x -&gt; LoopBegin v x -&gt; Bool
== :: LoopBegin v x -&gt; LoopBegin v x -&gt; Bool
$c== :: forall v x. (Eq x, Eq v) =&gt; LoopBegin v x -&gt; LoopBegin v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026341"><span id="local-6989586621680026343"><span id="local-6989586621680026345"><span class="annot"><span class="annottext">Int -&gt; LoopBegin v x -&gt; ShowS
[LoopBegin v x] -&gt; ShowS
LoopBegin v x -&gt; String
(Int -&gt; LoopBegin v x -&gt; ShowS)
-&gt; (LoopBegin v x -&gt; String)
-&gt; ([LoopBegin v x] -&gt; ShowS)
-&gt; Show (LoopBegin v x)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
Int -&gt; LoopBegin v x -&gt; ShowS
forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
[LoopBegin v x] -&gt; ShowS
forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
LoopBegin v x -&gt; String
showList :: [LoopBegin v x] -&gt; ShowS
$cshowList :: forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
[LoopBegin v x] -&gt; ShowS
show :: LoopBegin v x -&gt; String
$cshow :: forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
LoopBegin v x -&gt; String
showsPrec :: Int -&gt; LoopBegin v x -&gt; ShowS
$cshowsPrec :: forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
Int -&gt; LoopBegin v x -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-176"></span><span id="local-6989586621680026339"><span id="local-6989586621680026340"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026340"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026340"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026339"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-177"></span><span>    </span><span id="local-6989586621680026337"><span class="annot"><span class="annottext">label :: LoopBegin v x -&gt; String
</span><a href="#local-6989586621680026337"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680026336"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026336"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LoopBegin() = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026336"><span class="hs-identifier hs-var">os</span></a></span></span></span><span>
</span><span id="line-178"></span><span id="local-6989586621680026334"><span id="local-6989586621680026335"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026332"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026335"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026335"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026334"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026335"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-179"></span><span>    </span><span id="local-6989586621680026329"><span class="annot"><span class="annottext">outputs :: LoopBegin v x -&gt; Set v
</span><a href="#local-6989586621680026329"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680026328"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026328"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026328"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-180"></span><span>    </span><span id="local-6989586621680026327"><span class="annot"><span class="annottext">isInternalLockPossible :: LoopBegin v x -&gt; Bool
</span><a href="#local-6989586621680026327"><span class="hs-identifier hs-var hs-var hs-var hs-var">isInternalLockPossible</span></a></span></span><span> </span><span class="annot"><span class="annottext">LoopBegin v x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span></span></span><span>
</span><span id="line-181"></span><span id="local-6989586621680026325"><span id="local-6989586621680026326"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026326"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026326"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026325"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680026326"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680026326"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-182"></span><span>    </span><span id="local-6989586621680026323"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; LoopBegin v x -&gt; LoopBegin v x
</span><a href="#local-6989586621680026323"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680026322"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026322"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span id="local-6989586621680026321"><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026321"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680026320"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026320"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Loop v x -&gt; O v -&gt; LoopBegin v x
forall v x. Loop v x -&gt; O v -&gt; LoopBegin v x
</span><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-var">LoopBegin</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; Loop v x -&gt; Loop v x
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026322"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026321"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(O v -&gt; LoopBegin v x) -&gt; O v -&gt; LoopBegin v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026322"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026320"><span class="hs-identifier hs-var">a</span></a></span></span></span><span>
</span><span id="line-183"></span><span id="local-6989586621680026318"><span id="local-6989586621680026319"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026319"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026319"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026318"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026319"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-184"></span><span>    </span><span id="local-6989586621680026315"><span class="annot"><span class="annottext">locks :: LoopBegin v x -&gt; [Lock v]
</span><a href="#local-6989586621680026315"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="annot"><span class="annottext">LoopBegin v x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-185"></span><span id="local-6989586621680026313"><span id="local-6989586621680026314"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026314"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026314"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026313"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026314"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026313"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-186"></span><span>    </span><span id="local-6989586621680026311"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; LoopBegin v x -&gt; [(v, x)]
</span><a href="#local-6989586621680026311"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680026310"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026310"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopBegin"><span class="hs-identifier hs-type">LoopBegin</span></a></span><span> </span><span id="local-6989586621680026309"><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026309"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">O v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; Loop v x -&gt; [(v, x)]
forall f v x.
FunctionSimulation f v x =&gt;
CycleCntx v x -&gt; f -&gt; [(v, x)]
</span><a href="NITTA.Intermediate.Types.html#simulate"><span class="hs-identifier hs-var">simulate</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026310"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026309"><span class="hs-identifier hs-var">l</span></a></span></span></span><span>
</span><span id="line-187"></span><span>
</span><span id="line-188"></span><span class="hs-keyword">data</span><span> </span><span id="LoopEnd"><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-var">LoopEnd</span></a></span></span><span> </span><span id="local-6989586621680026696"><span class="annot"><a href="#local-6989586621680026696"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026695"><span class="annot"><a href="#local-6989586621680026695"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="LoopEnd"><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-var">LoopEnd</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026696"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026695"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026696"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026304"><span id="local-6989586621680026306"><span class="annot"><span class="annottext">LoopEnd v x -&gt; LoopEnd v x -&gt; Bool
(LoopEnd v x -&gt; LoopEnd v x -&gt; Bool)
-&gt; (LoopEnd v x -&gt; LoopEnd v x -&gt; Bool) -&gt; Eq (LoopEnd v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. (Eq x, Eq v) =&gt; LoopEnd v x -&gt; LoopEnd v x -&gt; Bool
/= :: LoopEnd v x -&gt; LoopEnd v x -&gt; Bool
$c/= :: forall v x. (Eq x, Eq v) =&gt; LoopEnd v x -&gt; LoopEnd v x -&gt; Bool
== :: LoopEnd v x -&gt; LoopEnd v x -&gt; Bool
$c== :: forall v x. (Eq x, Eq v) =&gt; LoopEnd v x -&gt; LoopEnd v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026298"><span id="local-6989586621680026300"><span id="local-6989586621680026302"><span class="annot"><span class="annottext">Int -&gt; LoopEnd v x -&gt; ShowS
[LoopEnd v x] -&gt; ShowS
LoopEnd v x -&gt; String
(Int -&gt; LoopEnd v x -&gt; ShowS)
-&gt; (LoopEnd v x -&gt; String)
-&gt; ([LoopEnd v x] -&gt; ShowS)
-&gt; Show (LoopEnd v x)
forall a.
(Int -&gt; a -&gt; ShowS) -&gt; (a -&gt; String) -&gt; ([a] -&gt; ShowS) -&gt; Show a
forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
Int -&gt; LoopEnd v x -&gt; ShowS
forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
[LoopEnd v x] -&gt; ShowS
forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
LoopEnd v x -&gt; String
showList :: [LoopEnd v x] -&gt; ShowS
$cshowList :: forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
[LoopEnd v x] -&gt; ShowS
show :: LoopEnd v x -&gt; String
$cshow :: forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
LoopEnd v x -&gt; String
showsPrec :: Int -&gt; LoopEnd v x -&gt; ShowS
$cshowsPrec :: forall v x.
(Typeable v, Ord v, IsString v, ToString v, Suffix v, Hashable v,
 Show x) =&gt;
Int -&gt; LoopEnd v x -&gt; ShowS
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var hs-var hs-var">Show</span></span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-189"></span><span id="local-6989586621680026296"><span id="local-6989586621680026297"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026297"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026297"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026296"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-190"></span><span>    </span><span id="local-6989586621680026294"><span class="annot"><span class="annottext">label :: LoopEnd v x -&gt; String
</span><a href="#local-6989586621680026294"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Loop"><span class="hs-identifier hs-type">Loop</span></a></span><span> </span><span class="annot"><span class="annottext">X x
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680026293"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026293"><span class="hs-identifier hs-var">os</span></a></span></span><span> </span><span class="annot"><span class="annottext">I v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680026292"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026292"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;LoopEnd(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026292"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) pair out: &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026293"><span class="hs-identifier hs-var">os</span></a></span></span></span><span>
</span><span id="line-191"></span><span id="local-6989586621680026290"><span id="local-6989586621680026291"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026287"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026291"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026291"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026290"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026291"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-192"></span><span>    </span><span id="local-6989586621680026285"><span class="annot"><span class="annottext">inputs :: LoopEnd v x -&gt; Set v
</span><a href="#local-6989586621680026285"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680026284"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026284"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026284"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-193"></span><span>    </span><span id="local-6989586621680026283"><span class="annot"><span class="annottext">isInternalLockPossible :: LoopEnd v x -&gt; Bool
</span><a href="#local-6989586621680026283"><span class="hs-identifier hs-var hs-var hs-var hs-var">isInternalLockPossible</span></a></span></span><span> </span><span class="annot"><span class="annottext">LoopEnd v x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Bool
</span><span class="hs-identifier hs-var">True</span></span></span></span><span>
</span><span id="line-194"></span><span id="local-6989586621680026281"><span id="local-6989586621680026282"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026282"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026282"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026281"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680026282"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680026282"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-195"></span><span>    </span><span id="local-6989586621680026279"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; LoopEnd v x -&gt; LoopEnd v x
</span><a href="#local-6989586621680026279"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680026278"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026278"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span id="local-6989586621680026277"><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026277"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span id="local-6989586621680026276"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026276"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Loop v x -&gt; I v -&gt; LoopEnd v x
forall v x. Loop v x -&gt; I v -&gt; LoopEnd v x
</span><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-var">LoopEnd</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; Loop v x -&gt; Loop v x
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026278"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026277"><span class="hs-identifier hs-var">l</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(I v -&gt; LoopEnd v x) -&gt; I v -&gt; LoopEnd v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026278"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026276"><span class="hs-identifier hs-var">a</span></a></span></span></span><span>
</span><span id="line-196"></span><span id="local-6989586621680026274"><span id="local-6989586621680026275"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026275"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026275"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026274"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026275"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680026271"><span class="annot"><span class="annottext">locks :: LoopEnd v x -&gt; [Lock v]
</span><a href="#local-6989586621680026271"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span id="local-6989586621680026270"><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026270"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">I v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Loop v x -&gt; [Lock v]
forall x v. Locks x v =&gt; x -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#locks"><span class="hs-identifier hs-var">locks</span></a></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026270"><span class="hs-identifier hs-var">l</span></a></span></span></span><span>
</span><span id="line-197"></span><span id="local-6989586621680026268"><span id="local-6989586621680026269"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026269"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026269"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026268"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026269"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026268"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-198"></span><span>    </span><span id="local-6989586621680026266"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; LoopEnd v x -&gt; [(v, x)]
</span><a href="#local-6989586621680026266"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680026265"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026265"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#LoopEnd"><span class="hs-identifier hs-type">LoopEnd</span></a></span><span> </span><span id="local-6989586621680026264"><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026264"><span class="hs-identifier hs-var">l</span></a></span></span><span> </span><span class="annot"><span class="annottext">I v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; Loop v x -&gt; [(v, x)]
forall f v x.
FunctionSimulation f v x =&gt;
CycleCntx v x -&gt; f -&gt; [(v, x)]
</span><a href="NITTA.Intermediate.Types.html#simulate"><span class="hs-identifier hs-var">simulate</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026265"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">Loop v x
</span><a href="#local-6989586621680026264"><span class="hs-identifier hs-var">l</span></a></span></span></span><span>
</span><span id="line-199"></span><span>
</span><span id="line-200"></span><span class="hs-keyword">data</span><span> </span><span id="Buffer"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-var">Buffer</span></a></span></span><span> </span><span id="local-6989586621680026681"><span class="annot"><a href="#local-6989586621680026681"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026680"><span class="annot"><a href="#local-6989586621680026680"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Buffer"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-var">Buffer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026681"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026681"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026259"><span id="local-6989586621680026261"><span class="annot"><span class="annottext">Buffer v x -&gt; Buffer v x -&gt; Bool
(Buffer v x -&gt; Buffer v x -&gt; Bool)
-&gt; (Buffer v x -&gt; Buffer v x -&gt; Bool) -&gt; Eq (Buffer v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; Buffer v x -&gt; Buffer v x -&gt; Bool
/= :: Buffer v x -&gt; Buffer v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; Buffer v x -&gt; Buffer v x -&gt; Bool
== :: Buffer v x -&gt; Buffer v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; Buffer v x -&gt; Buffer v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-201"></span><span id="local-6989586621680026257"><span id="local-6989586621680026258"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026258"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026257"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680026255"><span class="annot"><span class="annottext">label :: Buffer v x -&gt; String
</span><a href="#local-6989586621680026255"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;buf&quot;</span></span></span></span><span>
</span><span id="line-202"></span><span id="local-6989586621680026253"><span id="local-6989586621680026254"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026248"><span id="local-6989586621680026251"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026254"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026254"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026253"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-203"></span><span>    </span><span id="local-6989586621680026247"><span class="annot"><span class="annottext">show :: Buffer v x -&gt; String
</span><a href="#local-6989586621680026247"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span id="local-6989586621680026246"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026246"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680026245"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026245"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;buffer(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026246"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026245"><span class="hs-identifier hs-var">os</span></a></span></span></span><span>
</span><span id="line-204"></span><span id="local-6989586621680026243"><span id="local-6989586621680026244"><span class="annot"><a href="NITTA.Intermediate.Functions.html#buffer"><span class="hs-identifier hs-type">buffer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026244"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026243"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026244"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680026244"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026244"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026243"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-205"></span><span id="buffer"><span class="annot"><span class="annottext">buffer :: v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#buffer"><span class="hs-identifier hs-var hs-var">buffer</span></a></span></span><span> </span><span id="local-6989586621680026242"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026242"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026241"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026241"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Buffer v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Buffer v x -&gt; F v x) -&gt; Buffer v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; O v -&gt; Buffer v x
forall v x. I v -&gt; O v -&gt; Buffer v x
</span><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-var">Buffer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026242"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026241"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-206"></span><span>
</span><span id="line-207"></span><span id="local-6989586621680026239"><span id="local-6989586621680026240"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026235"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026240"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026240"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026239"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026240"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-208"></span><span>    </span><span id="local-6989586621680026234"><span class="annot"><span class="annottext">inputs :: Buffer v x -&gt; Set v
</span><a href="#local-6989586621680026234"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span id="local-6989586621680026233"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026233"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026232"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026232"><span class="hs-identifier hs-var">_b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026233"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-209"></span><span>    </span><span id="local-6989586621680026231"><span class="annot"><span class="annottext">outputs :: Buffer v x -&gt; Set v
</span><a href="#local-6989586621680026231"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span id="local-6989586621680026230"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026230"><span class="hs-identifier hs-var">_a</span></a></span></span><span> </span><span id="local-6989586621680026229"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026229"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026229"><span class="hs-identifier hs-var">b</span></a></span></span></span><span>
</span><span id="line-210"></span><span id="local-6989586621680026227"><span id="local-6989586621680026228"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026228"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026228"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026227"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680026228"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680026228"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-211"></span><span>    </span><span id="local-6989586621680026225"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Buffer v x -&gt; Buffer v x
</span><a href="#local-6989586621680026225"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680026224"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026224"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span id="local-6989586621680026223"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026223"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026222"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026222"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; O v -&gt; Buffer v x
forall v x. I v -&gt; O v -&gt; Buffer v x
</span><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-var">Buffer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026224"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026223"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026224"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026222"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-212"></span><span id="local-6989586621680026220"><span id="local-6989586621680026221"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026221"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026221"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026220"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026221"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-213"></span><span>    </span><span id="local-6989586621680026217"><span class="annot"><span class="annottext">locks :: Buffer v x -&gt; [Lock v]
</span><a href="#local-6989586621680026217"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Buffer v x -&gt; [Lock v]
forall f v. Function f v =&gt; f -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#inputsLockOutputs"><span class="hs-identifier hs-var">inputsLockOutputs</span></a></span></span></span><span>
</span><span id="line-214"></span><span id="local-6989586621680026214"><span id="local-6989586621680026215"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026215"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026215"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026214"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026215"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026214"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-215"></span><span>    </span><span id="local-6989586621680026212"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Buffer v x -&gt; [(v, x)]
</span><a href="#local-6989586621680026212"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680026211"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026211"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Buffer"><span class="hs-identifier hs-type">Buffer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680026210"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026210"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680026209"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026209"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-216"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026208"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026211"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026210"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680026208"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026208"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026209"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-217"></span><span>
</span><span id="line-218"></span><span class="hs-keyword">data</span><span> </span><span id="Add"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-var">Add</span></a></span></span><span> </span><span id="local-6989586621680026658"><span class="annot"><a href="#local-6989586621680026658"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026657"><span class="annot"><a href="#local-6989586621680026657"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Add"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-var">Add</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026658"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026658"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026658"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026202"><span id="local-6989586621680026204"><span class="annot"><span class="annottext">Add v x -&gt; Add v x -&gt; Bool
(Add v x -&gt; Add v x -&gt; Bool)
-&gt; (Add v x -&gt; Add v x -&gt; Bool) -&gt; Eq (Add v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; Add v x -&gt; Add v x -&gt; Bool
/= :: Add v x -&gt; Add v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; Add v x -&gt; Add v x -&gt; Bool
== :: Add v x -&gt; Add v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; Add v x -&gt; Add v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-219"></span><span id="local-6989586621680026200"><span id="local-6989586621680026201"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026201"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026200"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680026198"><span class="annot"><span class="annottext">label :: Add v x -&gt; String
</span><a href="#local-6989586621680026198"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;+&quot;</span></span></span></span><span>
</span><span id="line-220"></span><span id="local-6989586621680026196"><span id="local-6989586621680026197"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026191"><span id="local-6989586621680026194"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026197"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026197"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026196"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-221"></span><span>    </span><span id="local-6989586621680026190"><span class="annot"><span class="annottext">show :: Add v x -&gt; String
</span><a href="#local-6989586621680026190"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span id="local-6989586621680026189"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026189"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026188"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026188"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026187"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026187"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-222"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680026186"><span class="annot"><span class="annottext">lexp :: String
</span><a href="#local-6989586621680026186"><span class="hs-identifier hs-var hs-var">lexp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026189"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; + &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026188"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-223"></span><span>            </span><span id="local-6989586621680026185"><span class="annot"><span class="annottext">rexp :: String
</span><a href="#local-6989586621680026185"><span class="hs-identifier hs-var hs-var">rexp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026187"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-224"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680026186"><span class="hs-identifier hs-var">lexp</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680026185"><span class="hs-identifier hs-var">rexp</span></a></span></span></span><span>
</span><span id="line-225"></span><span id="local-6989586621680026183"><span id="local-6989586621680026184"><span class="annot"><a href="NITTA.Intermediate.Functions.html#add"><span class="hs-identifier hs-type">add</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026184"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026183"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026184"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026184"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680026184"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026184"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026183"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-226"></span><span id="add"><span class="annot"><span class="annottext">add :: v -&gt; v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#add"><span class="hs-identifier hs-var hs-var">add</span></a></span></span><span> </span><span id="local-6989586621680026182"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026182"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026181"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026181"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026180"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026180"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Add v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Add v x -&gt; F v x) -&gt; Add v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; I v -&gt; O v -&gt; Add v x
forall v x. I v -&gt; I v -&gt; O v -&gt; Add v x
</span><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-var">Add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026182"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026181"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(O v -&gt; Add v x) -&gt; O v -&gt; Add v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026180"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-227"></span><span>
</span><span id="line-228"></span><span id="local-6989586621680026178"><span id="local-6989586621680026179"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026174"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026179"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026179"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026178"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026179"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-229"></span><span>    </span><span id="local-6989586621680026173"><span class="annot"><span class="annottext">inputs :: Add v x -&gt; Set v
</span><a href="#local-6989586621680026173"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span id="local-6989586621680026172"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026172"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026171"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026171"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026170"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026170"><span class="hs-identifier hs-var">_c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026172"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; Set v -&gt; Set v
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`union`</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026171"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-230"></span><span>    </span><span id="local-6989586621680026169"><span class="annot"><span class="annottext">outputs :: Add v x -&gt; Set v
</span><a href="#local-6989586621680026169"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span id="local-6989586621680026168"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026168"><span class="hs-identifier hs-var">_a</span></a></span></span><span> </span><span id="local-6989586621680026167"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026167"><span class="hs-identifier hs-var">_b</span></a></span></span><span> </span><span id="local-6989586621680026166"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026166"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026166"><span class="hs-identifier hs-var">c</span></a></span></span></span><span>
</span><span id="line-231"></span><span id="local-6989586621680026164"><span id="local-6989586621680026165"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026165"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026165"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026164"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680026165"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680026165"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-232"></span><span>    </span><span id="local-6989586621680026162"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Add v x -&gt; Add v x
</span><a href="#local-6989586621680026162"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680026161"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026161"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span id="local-6989586621680026160"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026160"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026159"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026159"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026158"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026158"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; I v -&gt; O v -&gt; Add v x
forall v x. I v -&gt; I v -&gt; O v -&gt; Add v x
</span><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-var">Add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026161"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026160"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026161"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026159"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026161"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026158"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-233"></span><span id="local-6989586621680026156"><span id="local-6989586621680026157"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026157"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026157"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026156"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026157"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-234"></span><span>    </span><span id="local-6989586621680026153"><span class="annot"><span class="annottext">locks :: Add v x -&gt; [Lock v]
</span><a href="#local-6989586621680026153"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Add v x -&gt; [Lock v]
forall f v. Function f v =&gt; f -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#inputsLockOutputs"><span class="hs-identifier hs-var">inputsLockOutputs</span></a></span></span></span><span>
</span><span id="line-235"></span><span id="local-6989586621680026151"><span id="local-6989586621680026152"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026152"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621680026151"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026152"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026151"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026152"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026151"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-236"></span><span>    </span><span id="local-6989586621680026149"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Add v x -&gt; [(v, x)]
</span><a href="#local-6989586621680026149"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680026148"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026148"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Add"><span class="hs-identifier hs-type">Add</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680026147"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026147"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680026146"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026146"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680026145"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026145"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-237"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680026144"><span class="annot"><span class="annottext">x1 :: x
</span><a href="#local-6989586621680026144"><span class="hs-identifier hs-var hs-var">x1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026148"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026147"><span class="hs-identifier hs-var">v1</span></a></span><span>
</span><span id="line-238"></span><span>            </span><span id="local-6989586621680026143"><span class="annot"><span class="annottext">x2 :: x
</span><a href="#local-6989586621680026143"><span class="hs-identifier hs-var hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026148"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026146"><span class="hs-identifier hs-var">v2</span></a></span><span>
</span><span id="line-239"></span><span>            </span><span id="local-6989586621680026142"><span class="annot"><span class="annottext">y :: x
</span><a href="#local-6989586621680026142"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026144"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; x
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">+</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026143"><span class="hs-identifier hs-var">x2</span></a></span><span>
</span><span id="line-240"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026140"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026142"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680026140"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026140"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026145"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-241"></span><span>
</span><span id="line-242"></span><span class="hs-keyword">data</span><span> </span><span id="Sub"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span></span><span> </span><span id="local-6989586621680026637"><span class="annot"><a href="#local-6989586621680026637"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026636"><span class="annot"><a href="#local-6989586621680026636"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Sub"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026637"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026637"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026637"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026135"><span id="local-6989586621680026137"><span class="annot"><span class="annottext">Sub v x -&gt; Sub v x -&gt; Bool
(Sub v x -&gt; Sub v x -&gt; Bool)
-&gt; (Sub v x -&gt; Sub v x -&gt; Bool) -&gt; Eq (Sub v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; Sub v x -&gt; Sub v x -&gt; Bool
/= :: Sub v x -&gt; Sub v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; Sub v x -&gt; Sub v x -&gt; Bool
== :: Sub v x -&gt; Sub v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; Sub v x -&gt; Sub v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-243"></span><span id="local-6989586621680026133"><span id="local-6989586621680026134"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026134"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026133"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680026131"><span class="annot"><span class="annottext">label :: Sub v x -&gt; String
</span><a href="#local-6989586621680026131"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span></span></span><span>
</span><span id="line-244"></span><span id="local-6989586621680026129"><span id="local-6989586621680026130"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026124"><span id="local-6989586621680026127"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026130"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026130"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026129"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-245"></span><span>    </span><span id="local-6989586621680026123"><span class="annot"><span class="annottext">show :: Sub v x -&gt; String
</span><a href="#local-6989586621680026123"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span id="local-6989586621680026122"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026122"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026121"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026121"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026120"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026120"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-246"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680026119"><span class="annot"><span class="annottext">lexp :: String
</span><a href="#local-6989586621680026119"><span class="hs-identifier hs-var hs-var">lexp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026122"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; - &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026121"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-247"></span><span>            </span><span id="local-6989586621680026118"><span class="annot"><span class="annottext">rexp :: String
</span><a href="#local-6989586621680026118"><span class="hs-identifier hs-var hs-var">rexp</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026120"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-248"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680026119"><span class="hs-identifier hs-var">lexp</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680026118"><span class="hs-identifier hs-var">rexp</span></a></span></span></span><span>
</span><span id="line-249"></span><span id="local-6989586621680026116"><span id="local-6989586621680026117"><span class="annot"><a href="NITTA.Intermediate.Functions.html#sub"><span class="hs-identifier hs-type">sub</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026117"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026116"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026117"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026117"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680026117"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026117"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026116"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-250"></span><span id="sub"><span class="annot"><span class="annottext">sub :: v -&gt; v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#sub"><span class="hs-identifier hs-var hs-var">sub</span></a></span></span><span> </span><span id="local-6989586621680026115"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026115"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026114"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026114"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026113"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026113"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sub v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Sub v x -&gt; F v x) -&gt; Sub v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; I v -&gt; O v -&gt; Sub v x
forall v x. I v -&gt; I v -&gt; O v -&gt; Sub v x
</span><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026115"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026114"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(O v -&gt; Sub v x) -&gt; O v -&gt; Sub v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026113"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-251"></span><span>
</span><span id="line-252"></span><span id="local-6989586621680026111"><span id="local-6989586621680026112"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026107"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026112"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026112"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026111"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026112"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-253"></span><span>    </span><span id="local-6989586621680026106"><span class="annot"><span class="annottext">inputs :: Sub v x -&gt; Set v
</span><a href="#local-6989586621680026106"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span id="local-6989586621680026105"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026105"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026104"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026104"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026103"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026103"><span class="hs-identifier hs-var">_c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026105"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; Set v -&gt; Set v
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`union`</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026104"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-254"></span><span>    </span><span id="local-6989586621680026102"><span class="annot"><span class="annottext">outputs :: Sub v x -&gt; Set v
</span><a href="#local-6989586621680026102"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span id="local-6989586621680026101"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026101"><span class="hs-identifier hs-var">_a</span></a></span></span><span> </span><span id="local-6989586621680026100"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026100"><span class="hs-identifier hs-var">_b</span></a></span></span><span> </span><span id="local-6989586621680026099"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026099"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026099"><span class="hs-identifier hs-var">c</span></a></span></span></span><span>
</span><span id="line-255"></span><span id="local-6989586621680026097"><span id="local-6989586621680026098"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026098"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026098"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026097"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680026098"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680026098"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-256"></span><span>    </span><span id="local-6989586621680026095"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Sub v x -&gt; Sub v x
</span><a href="#local-6989586621680026095"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680026094"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026094"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span id="local-6989586621680026093"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026093"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026092"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026092"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026091"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026091"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; I v -&gt; O v -&gt; Sub v x
forall v x. I v -&gt; I v -&gt; O v -&gt; Sub v x
</span><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-var">Sub</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026094"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026093"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026094"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026092"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026094"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026091"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-257"></span><span id="local-6989586621680026089"><span id="local-6989586621680026090"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026090"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026090"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026089"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026090"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-258"></span><span>    </span><span id="local-6989586621680026086"><span class="annot"><span class="annottext">locks :: Sub v x -&gt; [Lock v]
</span><a href="#local-6989586621680026086"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Sub v x -&gt; [Lock v]
forall f v. Function f v =&gt; f -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#inputsLockOutputs"><span class="hs-identifier hs-var">inputsLockOutputs</span></a></span></span></span><span>
</span><span id="line-259"></span><span id="local-6989586621680026084"><span id="local-6989586621680026085"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026085"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621680026084"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026085"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026084"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026085"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026084"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-260"></span><span>    </span><span id="local-6989586621680026082"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Sub v x -&gt; [(v, x)]
</span><a href="#local-6989586621680026082"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680026081"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026081"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Sub"><span class="hs-identifier hs-type">Sub</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680026080"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026080"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680026079"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026079"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680026078"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026078"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-261"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680026077"><span class="annot"><span class="annottext">x1 :: x
</span><a href="#local-6989586621680026077"><span class="hs-identifier hs-var hs-var">x1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026081"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026080"><span class="hs-identifier hs-var">v1</span></a></span><span>
</span><span id="line-262"></span><span>            </span><span id="local-6989586621680026076"><span class="annot"><span class="annottext">x2 :: x
</span><a href="#local-6989586621680026076"><span class="hs-identifier hs-var hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026081"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026079"><span class="hs-identifier hs-var">v2</span></a></span><span>
</span><span id="line-263"></span><span>            </span><span id="local-6989586621680026075"><span class="annot"><span class="annottext">y :: x
</span><a href="#local-6989586621680026075"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026077"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; x
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-glyph hs-var">-</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026076"><span class="hs-identifier hs-var">x2</span></a></span><span>
</span><span id="line-264"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026074"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026075"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680026074"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026074"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026078"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-265"></span><span>
</span><span id="line-266"></span><span class="hs-keyword">data</span><span> </span><span id="Multiply"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-var">Multiply</span></a></span></span><span> </span><span id="local-6989586621680026618"><span class="annot"><a href="#local-6989586621680026618"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026617"><span class="annot"><a href="#local-6989586621680026617"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Multiply"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-var">Multiply</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026618"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026618"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026618"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026069"><span id="local-6989586621680026071"><span class="annot"><span class="annottext">Multiply v x -&gt; Multiply v x -&gt; Bool
(Multiply v x -&gt; Multiply v x -&gt; Bool)
-&gt; (Multiply v x -&gt; Multiply v x -&gt; Bool) -&gt; Eq (Multiply v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; Multiply v x -&gt; Multiply v x -&gt; Bool
/= :: Multiply v x -&gt; Multiply v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; Multiply v x -&gt; Multiply v x -&gt; Bool
== :: Multiply v x -&gt; Multiply v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; Multiply v x -&gt; Multiply v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-267"></span><span id="local-6989586621680026067"><span id="local-6989586621680026068"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026068"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026067"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680026065"><span class="annot"><span class="annottext">label :: Multiply v x -&gt; String
</span><a href="#local-6989586621680026065"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;*&quot;</span></span></span></span><span>
</span><span id="line-268"></span><span id="local-6989586621680026063"><span id="local-6989586621680026064"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026058"><span id="local-6989586621680026061"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026064"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026064"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026063"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-269"></span><span>    </span><span id="local-6989586621680026057"><span class="annot"><span class="annottext">show :: Multiply v x -&gt; String
</span><a href="#local-6989586621680026057"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span id="local-6989586621680026056"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026056"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026055"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026055"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026054"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026054"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-270"></span><span>        </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026056"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; * &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026055"><span class="hs-identifier hs-var">b</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026054"><span class="hs-identifier hs-var">c</span></a></span></span></span><span>
</span><span id="line-271"></span><span id="local-6989586621680026052"><span id="local-6989586621680026053"><span class="annot"><a href="NITTA.Intermediate.Functions.html#multiply"><span class="hs-identifier hs-type">multiply</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026053"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026052"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026053"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680026053"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680026053"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026053"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026052"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-272"></span><span id="multiply"><span class="annot"><span class="annottext">multiply :: v -&gt; v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#multiply"><span class="hs-identifier hs-var hs-var">multiply</span></a></span></span><span> </span><span id="local-6989586621680026051"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026051"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026050"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026050"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026049"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026049"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiply v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Multiply v x -&gt; F v x) -&gt; Multiply v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; I v -&gt; O v -&gt; Multiply v x
forall v x. I v -&gt; I v -&gt; O v -&gt; Multiply v x
</span><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-var">Multiply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026051"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026050"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(O v -&gt; Multiply v x) -&gt; O v -&gt; Multiply v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680026049"><span class="hs-identifier hs-var">c</span></a></span><span>
</span><span id="line-273"></span><span>
</span><span id="line-274"></span><span id="local-6989586621680026047"><span id="local-6989586621680026048"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680026043"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026048"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026048"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026047"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026048"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-275"></span><span>    </span><span id="local-6989586621680026042"><span class="annot"><span class="annottext">inputs :: Multiply v x -&gt; Set v
</span><a href="#local-6989586621680026042"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span id="local-6989586621680026041"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026041"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026040"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026040"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026039"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026039"><span class="hs-identifier hs-var">_c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026041"><span class="hs-identifier hs-var">a</span></a></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; Set v -&gt; Set v
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`union`</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026040"><span class="hs-identifier hs-var">b</span></a></span><span>
</span><span id="line-276"></span><span>    </span><span id="local-6989586621680026038"><span class="annot"><span class="annottext">outputs :: Multiply v x -&gt; Set v
</span><a href="#local-6989586621680026038"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span id="local-6989586621680026037"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026037"><span class="hs-identifier hs-var">_a</span></a></span></span><span> </span><span id="local-6989586621680026036"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026036"><span class="hs-identifier hs-var">_b</span></a></span></span><span> </span><span id="local-6989586621680026035"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026035"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026035"><span class="hs-identifier hs-var">c</span></a></span></span></span><span>
</span><span id="line-277"></span><span id="local-6989586621680026033"><span id="local-6989586621680026034"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026034"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026034"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026033"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680026034"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680026034"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-278"></span><span>    </span><span id="local-6989586621680026031"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Multiply v x -&gt; Multiply v x
</span><a href="#local-6989586621680026031"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680026030"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026030"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span id="local-6989586621680026029"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026029"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680026028"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026028"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680026027"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026027"><span class="hs-identifier hs-var">c</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; I v -&gt; O v -&gt; Multiply v x
forall v x. I v -&gt; I v -&gt; O v -&gt; Multiply v x
</span><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-var">Multiply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026030"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026029"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026030"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680026028"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680026030"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680026027"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-279"></span><span id="local-6989586621680026025"><span id="local-6989586621680026026"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026026"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026026"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026025"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026026"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-280"></span><span>    </span><span id="local-6989586621680026022"><span class="annot"><span class="annottext">locks :: Multiply v x -&gt; [Lock v]
</span><a href="#local-6989586621680026022"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Multiply v x -&gt; [Lock v]
forall f v. Function f v =&gt; f -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#inputsLockOutputs"><span class="hs-identifier hs-var">inputsLockOutputs</span></a></span></span></span><span>
</span><span id="line-281"></span><span id="local-6989586621680026020"><span id="local-6989586621680026021"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026021"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621680026020"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026021"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026020"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680026021"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026020"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-282"></span><span>    </span><span id="local-6989586621680026018"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Multiply v x -&gt; [(v, x)]
</span><a href="#local-6989586621680026018"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680026017"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026017"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Multiply"><span class="hs-identifier hs-type">Multiply</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680026016"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026016"><span class="hs-identifier hs-var">v1</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680026015"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026015"><span class="hs-identifier hs-var">v2</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680026014"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026014"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-283"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680026013"><span class="annot"><span class="annottext">x1 :: x
</span><a href="#local-6989586621680026013"><span class="hs-identifier hs-var hs-var">x1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026017"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026016"><span class="hs-identifier hs-var">v1</span></a></span><span>
</span><span id="line-284"></span><span>            </span><span id="local-6989586621680026012"><span class="annot"><span class="annottext">x2 :: x
</span><a href="#local-6989586621680026012"><span class="hs-identifier hs-var hs-var">x2</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680026017"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026015"><span class="hs-identifier hs-var">v2</span></a></span><span>
</span><span id="line-285"></span><span>            </span><span id="local-6989586621680026011"><span class="annot"><span class="annottext">y :: x
</span><a href="#local-6989586621680026011"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026013"><span class="hs-identifier hs-var">x1</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; x
forall a. Num a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">*</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026012"><span class="hs-identifier hs-var">x2</span></a></span><span>
</span><span id="line-286"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026009"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680026011"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680026009"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680026009"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680026014"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-287"></span><span>
</span><span id="line-288"></span><span class="hs-keyword">data</span><span> </span><span id="Division"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-var">Division</span></a></span></span><span> </span><span id="local-6989586621680026593"><span class="annot"><a href="#local-6989586621680026593"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026592"><span class="annot"><a href="#local-6989586621680026592"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Division"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-var">Division</span></a></span></span><span>
</span><span id="line-289"></span><span>    </span><span class="hs-special">{</span><span> </span><span id="%24sel%3Adenom%3ADivision"><span class="annot"><span class="annottext">Division v x -&gt; I v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Adenom%3ADivision"><span class="hs-identifier hs-var hs-var">denom</span></a></span></span><span class="hs-special">,</span><span> </span><span id="%24sel%3Anumer%3ADivision"><span class="annot"><span class="annottext">Division v x -&gt; I v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Anumer%3ADivision"><span class="hs-identifier hs-var hs-var">numer</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026593"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-290"></span><span>    </span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aquotient%3ADivision"><span class="annot"><span class="annottext">Division v x -&gt; O v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Aquotient%3ADivision"><span class="hs-identifier hs-var hs-var">quotient</span></a></span></span><span class="hs-special">,</span><span> </span><span id="%24sel%3Aremain%3ADivision"><span class="annot"><span class="annottext">Division v x -&gt; O v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Aremain%3ADivision"><span class="hs-identifier hs-var hs-var">remain</span></a></span></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026593"><span class="hs-identifier hs-type">v</span></a></span><span>
</span><span id="line-291"></span><span>    </span><span class="hs-special">}</span><span>
</span><span id="line-292"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680026000"><span id="local-6989586621680026002"><span class="annot"><span class="annottext">Division v x -&gt; Division v x -&gt; Bool
(Division v x -&gt; Division v x -&gt; Bool)
-&gt; (Division v x -&gt; Division v x -&gt; Bool) -&gt; Eq (Division v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; Division v x -&gt; Division v x -&gt; Bool
/= :: Division v x -&gt; Division v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; Division v x -&gt; Division v x -&gt; Bool
== :: Division v x -&gt; Division v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; Division v x -&gt; Division v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-293"></span><span id="local-6989586621680025998"><span id="local-6989586621680025999"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025999"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025998"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025996"><span class="annot"><span class="annottext">label :: Division v x -&gt; String
</span><a href="#local-6989586621680025996"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;/&quot;</span></span></span></span><span>
</span><span id="line-294"></span><span id="local-6989586621680025994"><span id="local-6989586621680025995"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025989"><span id="local-6989586621680025992"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025995"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025995"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025994"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-295"></span><span>    </span><span id="local-6989586621680025988"><span class="annot"><span class="annottext">show :: Division v x -&gt; String
</span><a href="#local-6989586621680025988"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span class="hs-special">{</span><span id="local-6989586621680025987"><span class="annot"><span class="annottext">I v
denom :: I v
$sel:denom:Division :: forall v x. Division v x -&gt; I v
</span><a href="#local-6989586621680025987"><span class="hs-identifier hs-var hs-var">denom</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025986"><span class="annot"><span class="annottext">I v
numer :: I v
$sel:numer:Division :: forall v x. Division v x -&gt; I v
</span><a href="#local-6989586621680025986"><span class="hs-identifier hs-var hs-var">numer</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025985"><span class="annot"><span class="annottext">O v
quotient :: O v
$sel:quotient:Division :: forall v x. Division v x -&gt; O v
</span><a href="#local-6989586621680025985"><span class="hs-identifier hs-var hs-var">quotient</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025984"><span class="annot"><span class="annottext">O v
remain :: O v
$sel:remain:Division :: forall v x. Division v x -&gt; O v
</span><a href="#local-6989586621680025984"><span class="hs-identifier hs-var hs-var">remain</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-296"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680025983"><span class="annot"><span class="annottext">q :: String
</span><a href="#local-6989586621680025983"><span class="hs-identifier hs-var hs-var">q</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025986"><span class="hs-identifier hs-var">numer</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; / &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025987"><span class="hs-identifier hs-var">denom</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025985"><span class="hs-identifier hs-var">quotient</span></a></span><span>
</span><span id="line-297"></span><span>            </span><span id="local-6989586621680025982"><span class="annot"><span class="annottext">r :: String
</span><a href="#local-6989586621680025982"><span class="hs-identifier hs-var hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025986"><span class="hs-identifier hs-var">numer</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; mod &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025987"><span class="hs-identifier hs-var">denom</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025984"><span class="hs-identifier hs-var">remain</span></a></span><span>
</span><span id="line-298"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680025983"><span class="hs-identifier hs-var">q</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><a href="#local-6989586621680025982"><span class="hs-identifier hs-var">r</span></a></span></span></span><span>
</span><span id="line-299"></span><span id="local-6989586621680025980"><span id="local-6989586621680025981"><span class="annot"><a href="NITTA.Intermediate.Functions.html#division"><span class="hs-identifier hs-type">division</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025981"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025980"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680025981"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680025981"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680025981"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680025981"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025981"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025980"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-300"></span><span id="division"><span class="annot"><span class="annottext">division :: v -&gt; v -&gt; [v] -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#division"><span class="hs-identifier hs-var hs-var">division</span></a></span></span><span> </span><span id="local-6989586621680025979"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025979"><span class="hs-identifier hs-var">d</span></a></span></span><span> </span><span id="local-6989586621680025978"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025978"><span class="hs-identifier hs-var">n</span></a></span></span><span> </span><span id="local-6989586621680025977"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025977"><span class="hs-identifier hs-var">q</span></a></span></span><span> </span><span id="local-6989586621680025976"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025976"><span class="hs-identifier hs-var">r</span></a></span></span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-301"></span><span>    </span><span class="annot"><span class="annottext">Division v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Division v x -&gt; F v x) -&gt; Division v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span>
</span><span id="line-302"></span><span>        </span><span class="annot"><span class="annottext">Division :: forall v x. I v -&gt; I v -&gt; O v -&gt; O v -&gt; Division v x
</span><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span>
</span><span id="line-303"></span><span>            </span><span class="hs-special">{</span><span> </span><span class="annot"><span class="annottext">$sel:denom:Division :: I v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Adenom%3ADivision"><span class="hs-identifier hs-var">denom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025979"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-304"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:numer:Division :: I v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Anumer%3ADivision"><span class="hs-identifier hs-var">numer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025978"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-305"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:quotient:Division :: O v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Aquotient%3ADivision"><span class="hs-identifier hs-var">quotient</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025977"><span class="hs-identifier hs-var">q</span></a></span><span>
</span><span id="line-306"></span><span>            </span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:remain:Division :: O v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Aremain%3ADivision"><span class="hs-identifier hs-var">remain</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025976"><span class="hs-identifier hs-var">r</span></a></span><span>
</span><span id="line-307"></span><span>            </span><span class="hs-special">}</span><span>
</span><span id="line-308"></span><span>
</span><span id="line-309"></span><span id="local-6989586621680025974"><span id="local-6989586621680025975"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025970"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025975"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025975"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025974"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025975"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-310"></span><span>    </span><span id="local-6989586621680025969"><span class="annot"><span class="annottext">inputs :: Division v x -&gt; Set v
</span><a href="#local-6989586621680025969"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span class="hs-special">{</span><span id="local-6989586621680025968"><span class="annot"><span class="annottext">I v
denom :: I v
$sel:denom:Division :: forall v x. Division v x -&gt; I v
</span><a href="#local-6989586621680025968"><span class="hs-identifier hs-var hs-var">denom</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025967"><span class="annot"><span class="annottext">I v
numer :: I v
$sel:numer:Division :: forall v x. Division v x -&gt; I v
</span><a href="#local-6989586621680025967"><span class="hs-identifier hs-var hs-var">numer</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025968"><span class="hs-identifier hs-var">denom</span></a></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; Set v -&gt; Set v
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`union`</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025967"><span class="hs-identifier hs-var">numer</span></a></span><span>
</span><span id="line-311"></span><span>    </span><span id="local-6989586621680025966"><span class="annot"><span class="annottext">outputs :: Division v x -&gt; Set v
</span><a href="#local-6989586621680025966"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span class="hs-special">{</span><span id="local-6989586621680025965"><span class="annot"><span class="annottext">O v
quotient :: O v
$sel:quotient:Division :: forall v x. Division v x -&gt; O v
</span><a href="#local-6989586621680025965"><span class="hs-identifier hs-var hs-var">quotient</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025964"><span class="annot"><span class="annottext">O v
remain :: O v
$sel:remain:Division :: forall v x. Division v x -&gt; O v
</span><a href="#local-6989586621680025964"><span class="hs-identifier hs-var hs-var">remain</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025965"><span class="hs-identifier hs-var">quotient</span></a></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; Set v -&gt; Set v
forall a. Ord a =&gt; Set a -&gt; Set a -&gt; Set a
</span><span class="hs-operator hs-var">`union`</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025964"><span class="hs-identifier hs-var">remain</span></a></span></span></span><span>
</span><span id="line-312"></span><span id="local-6989586621680025962"><span id="local-6989586621680025963"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025963"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025963"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025962"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680025963"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680025963"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-313"></span><span>    </span><span id="local-6989586621680025960"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Division v x -&gt; Division v x
</span><a href="#local-6989586621680025960"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680025959"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025959"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span> </span><span id="local-6989586621680025958"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025958"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680025957"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025957"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span id="local-6989586621680025956"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025956"><span class="hs-identifier hs-var">c</span></a></span></span><span> </span><span id="local-6989586621680025955"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025955"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; I v -&gt; O v -&gt; O v -&gt; Division v x
forall v x. I v -&gt; I v -&gt; O v -&gt; O v -&gt; Division v x
</span><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-var">Division</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025959"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025958"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025959"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025957"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025959"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025956"><span class="hs-identifier hs-var">c</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025959"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025955"><span class="hs-identifier hs-var">d</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-314"></span><span id="local-6989586621680025953"><span id="local-6989586621680025954"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025954"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025954"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025953"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025954"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-315"></span><span>    </span><span id="local-6989586621680025950"><span class="annot"><span class="annottext">locks :: Division v x -&gt; [Lock v]
</span><a href="#local-6989586621680025950"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Division v x -&gt; [Lock v]
forall f v. Function f v =&gt; f -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#inputsLockOutputs"><span class="hs-identifier hs-var">inputsLockOutputs</span></a></span></span></span><span>
</span><span id="line-316"></span><span id="local-6989586621680025948"><span id="local-6989586621680025949"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025949"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Integral</span></span><span> </span><span class="annot"><a href="#local-6989586621680025948"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025949"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025948"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025949"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025948"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-317"></span><span>    </span><span id="local-6989586621680025946"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Division v x -&gt; [(v, x)]
</span><a href="#local-6989586621680025946"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680025945"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025945"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Division"><span class="hs-identifier hs-type">Division</span></a></span><span class="hs-special">{</span><span class="annot"><span class="annottext">$sel:denom:Division :: forall v x. Division v x -&gt; I v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Adenom%3ADivision"><span class="hs-identifier hs-var">denom</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680025944"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025944"><span class="hs-identifier hs-var">d</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:numer:Division :: forall v x. Division v x -&gt; I v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Anumer%3ADivision"><span class="hs-identifier hs-var">numer</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680025943"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025943"><span class="hs-identifier hs-var">n</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:quotient:Division :: forall v x. Division v x -&gt; O v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Aquotient%3ADivision"><span class="hs-identifier hs-var">quotient</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680025942"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025942"><span class="hs-identifier hs-var">qs</span></a></span></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">$sel:remain:Division :: forall v x. Division v x -&gt; O v
</span><a href="NITTA.Intermediate.Functions.html#%24sel%3Aremain%3ADivision"><span class="hs-identifier hs-var">remain</span></a></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680025941"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025941"><span class="hs-identifier hs-var">rs</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-318"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680025940"><span class="annot"><span class="annottext">dx :: x
</span><a href="#local-6989586621680025940"><span class="hs-identifier hs-var hs-var">dx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025945"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025944"><span class="hs-identifier hs-var">d</span></a></span><span>
</span><span id="line-319"></span><span>            </span><span id="local-6989586621680025939"><span class="annot"><span class="annottext">nx :: x
</span><a href="#local-6989586621680025939"><span class="hs-identifier hs-var hs-var">nx</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025945"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025943"><span class="hs-identifier hs-var">n</span></a></span><span>
</span><span id="line-320"></span><span>            </span><span class="hs-special">(</span><span id="local-6989586621680025938"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025938"><span class="hs-identifier hs-var">qx</span></a></span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025937"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025937"><span class="hs-identifier hs-var">rx</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025940"><span class="hs-identifier hs-var">dx</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; x -&gt; (x, x)
forall a. Integral a =&gt; a -&gt; a -&gt; (a, a)
</span><span class="hs-operator hs-var">`quotRem`</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025939"><span class="hs-identifier hs-var">nx</span></a></span><span>
</span><span id="line-321"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025935"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025938"><span class="hs-identifier hs-var">qx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680025935"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025935"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025942"><span class="hs-identifier hs-var">qs</span></a></span><span class="hs-special">]</span><span> </span><span class="annot"><span class="annottext">[(v, x)] -&gt; [(v, x)] -&gt; [(v, x)]
forall a. [a] -&gt; [a] -&gt; [a]
</span><span class="hs-operator hs-var">++</span></span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025934"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025937"><span class="hs-identifier hs-var">rx</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680025934"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025934"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025941"><span class="hs-identifier hs-var">rs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-322"></span><span>
</span><span id="line-323"></span><span class="hs-keyword">data</span><span> </span><span id="Neg"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-var">Neg</span></a></span></span><span> </span><span id="local-6989586621680026570"><span class="annot"><a href="#local-6989586621680026570"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026569"><span class="annot"><a href="#local-6989586621680026569"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Neg"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-var">Neg</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026570"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026570"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025929"><span id="local-6989586621680025931"><span class="annot"><span class="annottext">Neg v x -&gt; Neg v x -&gt; Bool
(Neg v x -&gt; Neg v x -&gt; Bool)
-&gt; (Neg v x -&gt; Neg v x -&gt; Bool) -&gt; Eq (Neg v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; Neg v x -&gt; Neg v x -&gt; Bool
/= :: Neg v x -&gt; Neg v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; Neg v x -&gt; Neg v x -&gt; Bool
== :: Neg v x -&gt; Neg v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; Neg v x -&gt; Neg v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-324"></span><span id="local-6989586621680025927"><span id="local-6989586621680025928"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025928"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025927"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025925"><span class="annot"><span class="annottext">label :: Neg v x -&gt; String
</span><a href="#local-6989586621680025925"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;neg&quot;</span></span></span></span><span>
</span><span id="line-325"></span><span id="local-6989586621680025923"><span id="local-6989586621680025924"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025918"><span id="local-6989586621680025921"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025924"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025924"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025923"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-326"></span><span>    </span><span id="local-6989586621680025917"><span class="annot"><span class="annottext">show :: Neg v x -&gt; String
</span><a href="#local-6989586621680025917"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span id="local-6989586621680025916"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025916"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025915"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025915"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;-&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025916"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025915"><span class="hs-identifier hs-var">o</span></a></span></span></span><span>
</span><span id="line-327"></span><span>
</span><span id="line-328"></span><span id="local-6989586621680025913"><span id="local-6989586621680025914"><span class="annot"><a href="NITTA.Intermediate.Functions.html#neg"><span class="hs-identifier hs-type">neg</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025914"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025913"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680025914"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680025914"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025914"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025913"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-329"></span><span id="neg"><span class="annot"><span class="annottext">neg :: v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#neg"><span class="hs-identifier hs-var hs-var">neg</span></a></span></span><span> </span><span id="local-6989586621680025912"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025912"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025911"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025911"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Neg v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Neg v x -&gt; F v x) -&gt; Neg v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; O v -&gt; Neg v x
forall v x. I v -&gt; O v -&gt; Neg v x
</span><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-var">Neg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025912"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(O v -&gt; Neg v x) -&gt; O v -&gt; Neg v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025911"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-330"></span><span>
</span><span id="line-331"></span><span id="local-6989586621680025909"><span id="local-6989586621680025910"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025905"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680025910"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025910"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025909"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025910"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-332"></span><span>    </span><span id="local-6989586621680025904"><span class="annot"><span class="annottext">inputs :: Neg v x -&gt; Set v
</span><a href="#local-6989586621680025904"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span id="local-6989586621680025903"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025903"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">O v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025903"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-333"></span><span>    </span><span id="local-6989586621680025902"><span class="annot"><span class="annottext">outputs :: Neg v x -&gt; Set v
</span><a href="#local-6989586621680025902"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680025901"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025901"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025901"><span class="hs-identifier hs-var">o</span></a></span></span></span><span>
</span><span id="line-334"></span><span id="local-6989586621680025899"><span id="local-6989586621680025900"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Ord</span></span><span> </span><span class="annot"><a href="#local-6989586621680025900"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025900"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025899"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680025900"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680025900"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-335"></span><span>    </span><span id="local-6989586621680025897"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Neg v x -&gt; Neg v x
</span><a href="#local-6989586621680025897"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680025896"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025896"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span id="local-6989586621680025895"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025895"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025894"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025894"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; O v -&gt; Neg v x
forall v x. I v -&gt; O v -&gt; Neg v x
</span><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-var">Neg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025896"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025895"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025896"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025894"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-336"></span><span id="local-6989586621680025892"><span id="local-6989586621680025893"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025893"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025893"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025892"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025893"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-337"></span><span>    </span><span id="local-6989586621680025889"><span class="annot"><span class="annottext">locks :: Neg v x -&gt; [Lock v]
</span><a href="#local-6989586621680025889"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Neg v x -&gt; [Lock v]
forall f v. Function f v =&gt; f -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#inputsLockOutputs"><span class="hs-identifier hs-var">inputsLockOutputs</span></a></span></span></span><span>
</span><span id="line-338"></span><span id="local-6989586621680025887"><span id="local-6989586621680025888"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025888"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Num</span></span><span> </span><span class="annot"><a href="#local-6989586621680025887"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025888"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025887"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025888"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025887"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-339"></span><span>    </span><span id="local-6989586621680025885"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Neg v x -&gt; [(v, x)]
</span><a href="#local-6989586621680025885"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680025884"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025884"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Neg"><span class="hs-identifier hs-type">Neg</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680025883"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025883"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680025882"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025882"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-340"></span><span>        </span><span class="hs-keyword">let</span><span> </span><span id="local-6989586621680025881"><span class="annot"><span class="annottext">x1 :: x
</span><a href="#local-6989586621680025881"><span class="hs-identifier hs-var hs-var">x1</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025884"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025883"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-341"></span><span>            </span><span id="local-6989586621680025880"><span class="annot"><span class="annottext">y :: x
</span><a href="#local-6989586621680025880"><span class="hs-identifier hs-var hs-var">y</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-glyph">-</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025881"><span class="hs-identifier hs-var">x1</span></a></span><span>
</span><span id="line-342"></span><span>         </span><span class="hs-keyword">in</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025879"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025880"><span class="hs-identifier hs-var">y</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680025879"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025879"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025882"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-343"></span><span>
</span><span id="line-344"></span><span class="hs-keyword">data</span><span> </span><span id="Constant"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-var">Constant</span></a></span></span><span> </span><span id="local-6989586621680026550"><span class="annot"><a href="#local-6989586621680026550"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026551"><span class="annot"><a href="#local-6989586621680026551"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Constant"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-var">Constant</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026551"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026550"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025874"><span id="local-6989586621680025876"><span class="annot"><span class="annottext">Constant v x -&gt; Constant v x -&gt; Bool
(Constant v x -&gt; Constant v x -&gt; Bool)
-&gt; (Constant v x -&gt; Constant v x -&gt; Bool) -&gt; Eq (Constant v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. (Eq x, Eq v) =&gt; Constant v x -&gt; Constant v x -&gt; Bool
/= :: Constant v x -&gt; Constant v x -&gt; Bool
$c/= :: forall v x. (Eq x, Eq v) =&gt; Constant v x -&gt; Constant v x -&gt; Bool
== :: Constant v x -&gt; Constant v x -&gt; Bool
$c== :: forall v x. (Eq x, Eq v) =&gt; Constant v x -&gt; Constant v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-345"></span><span id="local-6989586621680025872"><span id="local-6989586621680025873"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680025873"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025872"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025873"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025870"><span class="annot"><span class="annottext">label :: Constant v x -&gt; String
</span><a href="#local-6989586621680025870"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span id="local-6989586621680025869"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025869"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">O v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">x -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025869"><span class="hs-identifier hs-var">x</span></a></span></span></span><span>
</span><span id="line-346"></span><span id="local-6989586621680025867"><span id="local-6989586621680025868"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025862"><span id="local-6989586621680025865"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025868"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680025867"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025868"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025867"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-347"></span><span>    </span><span id="local-6989586621680025861"><span class="annot"><span class="annottext">show :: Constant v x -&gt; String
</span><a href="#local-6989586621680025861"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span id="local-6989586621680025860"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025860"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span id="local-6989586621680025859"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025859"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;const(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">x -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025860"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;) = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025859"><span class="hs-identifier hs-var">os</span></a></span></span></span><span>
</span><span id="line-348"></span><span id="local-6989586621680025857"><span id="local-6989586621680025858"><span class="annot"><a href="NITTA.Intermediate.Functions.html#constant"><span class="hs-identifier hs-type">constant</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025858"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025857"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680025857"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680025858"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025858"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025857"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-349"></span><span id="constant"><span class="annot"><span class="annottext">constant :: x -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#constant"><span class="hs-identifier hs-var hs-var">constant</span></a></span></span><span> </span><span id="local-6989586621680025856"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025856"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680025855"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025855"><span class="hs-identifier hs-var">vs</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Constant v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Constant v x -&gt; F v x) -&gt; Constant v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">X x -&gt; O v -&gt; Constant v x
forall v x. X x -&gt; O v -&gt; Constant v x
</span><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-var">Constant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">x -&gt; X x
forall x. x -&gt; X x
</span><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-var">X</span></a></span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025856"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(O v -&gt; Constant v x) -&gt; O v -&gt; Constant v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025855"><span class="hs-identifier hs-var">vs</span></a></span><span>
</span><span id="line-350"></span><span>
</span><span id="line-351"></span><span id="local-6989586621680025853"><span id="local-6989586621680025854"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025848"><span id="local-6989586621680025851"><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="annot"><a href="#local-6989586621680025854"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Eq</span></span><span> </span><span class="annot"><a href="#local-6989586621680025854"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span> </span><span class="annot"><a href="#local-6989586621680025854"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025853"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025854"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025853"><span class="hs-identifier hs-type">v</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-352"></span><span>    </span><span id="local-6989586621680025847"><span class="annot"><span class="annottext">outputs :: Constant v x -&gt; Set v
</span><a href="#local-6989586621680025847"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="annot"><span class="annottext">X x
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680025846"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025846"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025846"><span class="hs-identifier hs-var">o</span></a></span></span></span><span>
</span><span id="line-353"></span><span id="local-6989586621680025844"><span id="local-6989586621680025845"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025845"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025845"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025844"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680025845"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680025845"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-354"></span><span>    </span><span id="local-6989586621680025842"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Constant v x -&gt; Constant v x
</span><a href="#local-6989586621680025842"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680025841"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025841"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span id="local-6989586621680025840"><span class="annot"><span class="annottext">X x
</span><a href="#local-6989586621680025840"><span class="hs-identifier hs-var">x</span></a></span></span><span> </span><span id="local-6989586621680025839"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025839"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">X x -&gt; O v -&gt; Constant v x
forall v x. X x -&gt; O v -&gt; Constant v x
</span><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-var">Constant</span></a></span><span> </span><span class="annot"><span class="annottext">X x
</span><a href="#local-6989586621680025840"><span class="hs-identifier hs-var">x</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025841"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025839"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-355"></span><span id="local-6989586621680025837"><span id="local-6989586621680025838"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025838"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025838"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025837"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025838"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025834"><span class="annot"><span class="annottext">locks :: Constant v x -&gt; [Lock v]
</span><a href="#local-6989586621680025834"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="annot"><span class="annottext">Constant v x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-356"></span><span id="local-6989586621680025832"><span id="local-6989586621680025833"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025833"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025832"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025833"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025832"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-357"></span><span>    </span><span id="local-6989586621680025830"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Constant v x -&gt; [(v, x)]
</span><a href="#local-6989586621680025830"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680025829"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025829"><span class="hs-identifier hs-var">_cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Constant"><span class="hs-identifier hs-type">Constant</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#X"><span class="hs-identifier hs-type">X</span></a></span><span> </span><span id="local-6989586621680025828"><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025828"><span class="hs-identifier hs-var">x</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680025827"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025827"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025826"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
</span><a href="#local-6989586621680025828"><span class="hs-identifier hs-var">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680025826"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025826"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025827"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-358"></span><span>
</span><span id="line-359"></span><span class="hs-comment">-- TODO: separete into two different functions</span><span>
</span><span id="line-360"></span><span>
</span><span id="line-361"></span><span class="hs-comment">-- |Functional unit that implements logic shift operations</span><span>
</span><span id="line-362"></span><span class="hs-keyword">data</span><span> </span><span id="ShiftLR"><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftLR"><span class="hs-identifier hs-var">ShiftLR</span></a></span></span><span> </span><span id="local-6989586621680026532"><span class="annot"><a href="#local-6989586621680026532"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026531"><span class="annot"><a href="#local-6989586621680026531"><span class="hs-identifier hs-type">x</span></a></span></span><span>
</span><span id="line-363"></span><span>    </span><span class="hs-glyph">=</span><span> </span><span id="ShiftL"><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftL"><span class="hs-identifier hs-var">ShiftL</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026532"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026532"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-364"></span><span>    </span><span class="hs-glyph">|</span><span> </span><span id="ShiftR"><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftR"><span class="hs-identifier hs-var">ShiftR</span></a></span></span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026532"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026532"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-365"></span><span>    </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025820"><span id="local-6989586621680025822"><span class="annot"><span class="annottext">ShiftLR v x -&gt; ShiftLR v x -&gt; Bool
(ShiftLR v x -&gt; ShiftLR v x -&gt; Bool)
-&gt; (ShiftLR v x -&gt; ShiftLR v x -&gt; Bool) -&gt; Eq (ShiftLR v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; ShiftLR v x -&gt; ShiftLR v x -&gt; Bool
/= :: ShiftLR v x -&gt; ShiftLR v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; ShiftLR v x -&gt; ShiftLR v x -&gt; Bool
== :: ShiftLR v x -&gt; ShiftLR v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; ShiftLR v x -&gt; ShiftLR v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-366"></span><span>
</span><span id="line-367"></span><span id="local-6989586621680025818"><span id="local-6989586621680025819"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025813"><span id="local-6989586621680025816"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025819"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftLR"><span class="hs-identifier hs-type">ShiftLR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025819"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025818"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-368"></span><span>    </span><span id="local-6989586621680025812"><span class="annot"><span class="annottext">show :: ShiftLR v x -&gt; String
</span><a href="#local-6989586621680025812"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftL"><span class="hs-identifier hs-type">ShiftL</span></a></span><span> </span><span id="local-6989586621680025811"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025811"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680025810"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025810"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025809"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025809"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025810"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &lt;&lt; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025811"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025809"><span class="hs-identifier hs-var">os</span></a></span><span>
</span><span id="line-369"></span><span>    </span><span class="annot"><span class="hs-identifier hs-var">show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftR"><span class="hs-identifier hs-type">ShiftR</span></a></span><span> </span><span id="local-6989586621680025808"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025808"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680025807"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025807"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025806"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025806"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025807"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; &gt;&gt; &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025808"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025806"><span class="hs-identifier hs-var">os</span></a></span></span></span><span>
</span><span id="line-370"></span><span id="local-6989586621680025804"><span id="local-6989586621680025805"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025805"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftLR"><span class="hs-identifier hs-type">ShiftLR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025805"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025804"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025802"><span class="annot"><span class="annottext">label :: ShiftLR v x -&gt; String
</span><a href="#local-6989586621680025802"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShiftLR v x -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span></span></span><span>
</span><span id="line-371"></span><span>
</span><span id="line-372"></span><span id="local-6989586621680025800"><span id="local-6989586621680025801"><span class="annot"><a href="NITTA.Intermediate.Functions.html#shiftL"><span class="hs-identifier hs-type">shiftL</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025801"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025800"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680025801"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680025801"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025801"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025800"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-373"></span><span id="shiftL"><span class="annot"><span class="annottext">shiftL :: Int -&gt; v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#shiftL"><span class="hs-identifier hs-var hs-var">shiftL</span></a></span></span><span> </span><span id="local-6989586621680025799"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025799"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680025798"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025798"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025797"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025797"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShiftLR v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(ShiftLR v x -&gt; F v x) -&gt; ShiftLR v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; I v -&gt; O v -&gt; ShiftLR v x
forall v x. Int -&gt; I v -&gt; O v -&gt; ShiftLR v x
</span><a href="NITTA.Intermediate.Functions.html#ShiftL"><span class="hs-identifier hs-var">ShiftL</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025799"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025798"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(O v -&gt; ShiftLR v x) -&gt; O v -&gt; ShiftLR v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025797"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-374"></span><span id="local-6989586621680025795"><span id="local-6989586621680025796"><span class="annot"><a href="NITTA.Intermediate.Functions.html#shiftR"><span class="hs-identifier hs-type">shiftR</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025796"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025795"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Int</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680025796"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680025796"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025796"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025795"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-375"></span><span id="shiftR"><span class="annot"><span class="annottext">shiftR :: Int -&gt; v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#shiftR"><span class="hs-identifier hs-var hs-var">shiftR</span></a></span></span><span> </span><span id="local-6989586621680025794"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025794"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680025793"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025793"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025792"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025792"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShiftLR v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(ShiftLR v x -&gt; F v x) -&gt; ShiftLR v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Int -&gt; I v -&gt; O v -&gt; ShiftLR v x
forall v x. Int -&gt; I v -&gt; O v -&gt; ShiftLR v x
</span><a href="NITTA.Intermediate.Functions.html#ShiftR"><span class="hs-identifier hs-var">ShiftR</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025794"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025793"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><span class="annottext">(O v -&gt; ShiftLR v x) -&gt; O v -&gt; ShiftLR v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025792"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-376"></span><span>
</span><span id="line-377"></span><span id="local-6989586621680025790"><span id="local-6989586621680025791"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025786"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025791"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftLR"><span class="hs-identifier hs-type">ShiftLR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025791"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025790"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025791"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-378"></span><span>    </span><span id="local-6989586621680025785"><span class="annot"><span class="annottext">inputs :: ShiftLR v x -&gt; Set v
</span><a href="#local-6989586621680025785"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftL"><span class="hs-identifier hs-type">ShiftL</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680025784"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025784"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">O v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025784"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-379"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Types.html#inputs"><span class="hs-identifier hs-var">inputs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftR"><span class="hs-identifier hs-type">ShiftR</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680025783"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025783"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span class="annot"><span class="annottext">O v
</span><span class="hs-identifier">_</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025783"><span class="hs-identifier hs-var">i</span></a></span><span>
</span><span id="line-380"></span><span>    </span><span id="local-6989586621680025782"><span class="annot"><span class="annottext">outputs :: ShiftLR v x -&gt; Set v
</span><a href="#local-6989586621680025782"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftL"><span class="hs-identifier hs-type">ShiftL</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680025781"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025781"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025781"><span class="hs-identifier hs-var">o</span></a></span><span>
</span><span id="line-381"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Types.html#outputs"><span class="hs-identifier hs-var">outputs</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftR"><span class="hs-identifier hs-type">ShiftR</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><span class="hs-identifier">_</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><span class="hs-identifier">_</span></span><span> </span><span id="local-6989586621680025780"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025780"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025780"><span class="hs-identifier hs-var">o</span></a></span></span></span><span>
</span><span id="line-382"></span><span id="local-6989586621680025778"><span id="local-6989586621680025779"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025779"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftLR"><span class="hs-identifier hs-type">ShiftLR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025779"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025778"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680025779"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680025779"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-383"></span><span>    </span><span id="local-6989586621680025776"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; ShiftLR v x -&gt; ShiftLR v x
</span><a href="#local-6989586621680025776"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680025775"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025775"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftL"><span class="hs-identifier hs-type">ShiftL</span></a></span><span> </span><span id="local-6989586621680025774"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025774"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680025773"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025773"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025772"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025772"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; I v -&gt; O v -&gt; ShiftLR v x
forall v x. Int -&gt; I v -&gt; O v -&gt; ShiftLR v x
</span><a href="NITTA.Intermediate.Functions.html#ShiftL"><span class="hs-identifier hs-var">ShiftL</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025774"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025775"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025773"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025775"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025772"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-384"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span id="local-6989586621680025771"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025771"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftR"><span class="hs-identifier hs-type">ShiftR</span></a></span><span> </span><span id="local-6989586621680025770"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025770"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span id="local-6989586621680025769"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025769"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025768"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025768"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Int -&gt; I v -&gt; O v -&gt; ShiftLR v x
forall v x. Int -&gt; I v -&gt; O v -&gt; ShiftLR v x
</span><a href="NITTA.Intermediate.Functions.html#ShiftR"><span class="hs-identifier hs-var">ShiftR</span></a></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025770"><span class="hs-identifier hs-var">s</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025771"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025769"><span class="hs-identifier hs-var">i</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025771"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025768"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-385"></span><span id="local-6989586621680025766"><span id="local-6989586621680025767"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025767"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftLR"><span class="hs-identifier hs-type">ShiftLR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025767"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025766"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025767"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-386"></span><span>    </span><span id="local-6989586621680025763"><span class="annot"><span class="annottext">locks :: ShiftLR v x -&gt; [Lock v]
</span><a href="#local-6989586621680025763"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">ShiftLR v x -&gt; [Lock v]
forall f v. Function f v =&gt; f -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#inputsLockOutputs"><span class="hs-identifier hs-var">inputsLockOutputs</span></a></span></span></span><span>
</span><span id="line-387"></span><span id="local-6989586621680025761"><span id="local-6989586621680025762"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025762"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="hs-identifier hs-type">B.Bits</span></span><span> </span><span class="annot"><a href="#local-6989586621680025761"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftLR"><span class="hs-identifier hs-type">ShiftLR</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025762"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025761"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025762"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025761"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-388"></span><span>    </span><span id="local-6989586621680025759"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; ShiftLR v x -&gt; [(v, x)]
</span><a href="#local-6989586621680025759"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680025758"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025758"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftL"><span class="hs-identifier hs-type">ShiftL</span></a></span><span> </span><span id="local-6989586621680025757"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025757"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680025756"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025756"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680025755"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025755"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-389"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025754"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-identifier hs-var">getCntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025758"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025756"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; Int -&gt; x
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`B.shiftL`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025757"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680025754"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025754"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025755"><span class="hs-identifier hs-var">os</span></a></span><span class="hs-special">]</span><span>
</span><span id="line-390"></span><span>    </span><span class="annot"><a href="NITTA.Intermediate.Types.html#simulate"><span class="hs-identifier hs-var">simulate</span></a></span><span> </span><span id="local-6989586621680025752"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025752"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#ShiftR"><span class="hs-identifier hs-type">ShiftR</span></a></span><span> </span><span id="local-6989586621680025751"><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025751"><span class="hs-identifier hs-var">s</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680025750"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025750"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680025749"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025749"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-keyword">do</span><span>
</span><span id="line-391"></span><span>        </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025748"><span class="hs-identifier hs-var">o</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-identifier hs-var">getCntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025752"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025750"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">x -&gt; Int -&gt; x
forall a. Bits a =&gt; a -&gt; Int -&gt; a
</span><span class="hs-operator hs-var">`B.shiftR`</span></span><span> </span><span class="annot"><span class="annottext">Int
</span><a href="#local-6989586621680025751"><span class="hs-identifier hs-var">s</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680025748"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025748"><span class="hs-identifier hs-var">o</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025749"><span class="hs-identifier hs-var">os</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-392"></span><span>
</span><span id="line-393"></span><span class="hs-keyword">newtype</span><span> </span><span id="Send"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-var">Send</span></a></span></span><span> </span><span id="local-6989586621680026509"><span class="annot"><a href="#local-6989586621680026509"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026508"><span class="annot"><a href="#local-6989586621680026508"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Send"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-var">Send</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026509"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025742"><span id="local-6989586621680025744"><span class="annot"><span class="annottext">Send v x -&gt; Send v x -&gt; Bool
(Send v x -&gt; Send v x -&gt; Bool)
-&gt; (Send v x -&gt; Send v x -&gt; Bool) -&gt; Eq (Send v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; Send v x -&gt; Send v x -&gt; Bool
/= :: Send v x -&gt; Send v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; Send v x -&gt; Send v x -&gt; Bool
== :: Send v x -&gt; Send v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; Send v x -&gt; Send v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-394"></span><span id="local-6989586621680025740"><span id="local-6989586621680025741"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025735"><span id="local-6989586621680025738"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025741"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025741"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025740"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-395"></span><span>    </span><span id="local-6989586621680025734"><span class="annot"><span class="annottext">show :: Send v x -&gt; String
</span><a href="#local-6989586621680025734"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span id="local-6989586621680025733"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025733"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;send(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025733"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span></span></span><span>
</span><span id="line-396"></span><span id="local-6989586621680025731"><span id="local-6989586621680025732"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025732"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025731"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025729"><span class="annot"><span class="annottext">label :: Send v x -&gt; String
</span><a href="#local-6989586621680025729"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;send&quot;</span></span></span></span><span>
</span><span id="line-397"></span><span id="local-6989586621680025727"><span id="local-6989586621680025728"><span class="annot"><a href="NITTA.Intermediate.Functions.html#send"><span class="hs-identifier hs-type">send</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025728"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025727"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680025728"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025728"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025727"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-398"></span><span id="send"><span class="annot"><span class="annottext">send :: v -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#send"><span class="hs-identifier hs-var hs-var">send</span></a></span></span><span> </span><span id="local-6989586621680025726"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025726"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Send v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Send v x -&gt; F v x) -&gt; Send v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; Send v x
forall v x. I v -&gt; Send v x
</span><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-var">Send</span></a></span><span> </span><span class="annot"><span class="annottext">(I v -&gt; Send v x) -&gt; I v -&gt; Send v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025726"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-399"></span><span id="local-6989586621680025724"><span id="local-6989586621680025725"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025719"><span id="local-6989586621680025721"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025725"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025725"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025724"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025725"><span class="hs-identifier hs-type">v</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-400"></span><span>    </span><span id="local-6989586621680025718"><span class="annot"><span class="annottext">inputs :: Send v x -&gt; Set v
</span><a href="#local-6989586621680025718"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span id="local-6989586621680025717"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025717"><span class="hs-identifier hs-var">i</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025717"><span class="hs-identifier hs-var">i</span></a></span></span></span><span>
</span><span id="line-401"></span><span id="local-6989586621680025715"><span id="local-6989586621680025716"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025716"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025715"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680025716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680025716"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-402"></span><span>    </span><span id="local-6989586621680025713"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Send v x -&gt; Send v x
</span><a href="#local-6989586621680025713"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680025712"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025712"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span id="local-6989586621680025711"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025711"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Send v x
forall v x. I v -&gt; Send v x
</span><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-var">Send</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025712"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025711"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-403"></span><span id="local-6989586621680025709"><span id="local-6989586621680025710"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025710"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025710"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025709"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025710"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025706"><span class="annot"><span class="annottext">locks :: Send v x -&gt; [Lock v]
</span><a href="#local-6989586621680025706"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="annot"><span class="annottext">Send v x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-404"></span><span id="local-6989586621680025704"><span id="local-6989586621680025705"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025705"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025704"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025705"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025704"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-405"></span><span>    </span><span id="local-6989586621680025702"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Send v x -&gt; [(v, x)]
</span><a href="#local-6989586621680025702"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680025701"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025701"><span class="hs-identifier hs-var">_cntx</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Send"><span class="hs-identifier hs-type">Send</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-406"></span><span>
</span><span id="line-407"></span><span class="hs-keyword">newtype</span><span> </span><span id="Receive"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-var">Receive</span></a></span></span><span> </span><span id="local-6989586621680026490"><span class="annot"><a href="#local-6989586621680026490"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026489"><span class="annot"><a href="#local-6989586621680026489"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="Receive"><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-var">Receive</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026490"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025696"><span id="local-6989586621680025698"><span class="annot"><span class="annottext">Receive v x -&gt; Receive v x -&gt; Bool
(Receive v x -&gt; Receive v x -&gt; Bool)
-&gt; (Receive v x -&gt; Receive v x -&gt; Bool) -&gt; Eq (Receive v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; Receive v x -&gt; Receive v x -&gt; Bool
/= :: Receive v x -&gt; Receive v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; Receive v x -&gt; Receive v x -&gt; Bool
== :: Receive v x -&gt; Receive v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; Receive v x -&gt; Receive v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-408"></span><span id="local-6989586621680025694"><span id="local-6989586621680025695"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025689"><span id="local-6989586621680025692"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025695"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025695"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025694"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-409"></span><span>    </span><span id="local-6989586621680025688"><span class="annot"><span class="annottext">show :: Receive v x -&gt; String
</span><a href="#local-6989586621680025688"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span id="local-6989586621680025687"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025687"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;receive() = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025687"><span class="hs-identifier hs-var">os</span></a></span></span></span><span>
</span><span id="line-410"></span><span id="local-6989586621680025685"><span id="local-6989586621680025686"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025686"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025685"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025683"><span class="annot"><span class="annottext">label :: Receive v x -&gt; String
</span><a href="#local-6989586621680025683"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;receive&quot;</span></span></span></span><span>
</span><span id="line-411"></span><span id="local-6989586621680025681"><span id="local-6989586621680025682"><span class="annot"><a href="NITTA.Intermediate.Functions.html#receive"><span class="hs-identifier hs-type">receive</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025682"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025681"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680025682"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025682"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025681"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-412"></span><span id="receive"><span class="annot"><span class="annottext">receive :: [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#receive"><span class="hs-identifier hs-var hs-var">receive</span></a></span></span><span> </span><span id="local-6989586621680025680"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025680"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">Receive v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(Receive v x -&gt; F v x) -&gt; Receive v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; Receive v x
forall v x. O v -&gt; Receive v x
</span><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-var">Receive</span></a></span><span> </span><span class="annot"><span class="annottext">(O v -&gt; Receive v x) -&gt; O v -&gt; Receive v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025680"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-413"></span><span id="local-6989586621680025678"><span id="local-6989586621680025679"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025673"><span id="local-6989586621680025676"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025679"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025679"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025678"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025679"><span class="hs-identifier hs-type">v</span></a></span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-414"></span><span>    </span><span id="local-6989586621680025672"><span class="annot"><span class="annottext">outputs :: Receive v x -&gt; Set v
</span><a href="#local-6989586621680025672"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span id="local-6989586621680025671"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025671"><span class="hs-identifier hs-var">o</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025671"><span class="hs-identifier hs-var">o</span></a></span></span></span><span>
</span><span id="line-415"></span><span id="local-6989586621680025669"><span id="local-6989586621680025670"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025670"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025670"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025669"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680025670"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680025670"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-416"></span><span>    </span><span id="local-6989586621680025667"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; Receive v x -&gt; Receive v x
</span><a href="#local-6989586621680025667"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680025666"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025666"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span id="local-6989586621680025665"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025665"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Receive v x
forall v x. O v -&gt; Receive v x
</span><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-var">Receive</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025666"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025665"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-417"></span><span id="local-6989586621680025663"><span id="local-6989586621680025664"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025664"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025664"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025663"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025664"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025660"><span class="annot"><span class="annottext">locks :: Receive v x -&gt; [Lock v]
</span><a href="#local-6989586621680025660"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="annot"><span class="annottext">Receive v x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span></span></span><span>
</span><span id="line-418"></span><span id="local-6989586621680025658"><span id="local-6989586621680025659"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025659"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025658"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025659"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025658"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025659"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025658"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-419"></span><span>    </span><span id="local-6989586621680025656"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; Receive v x -&gt; [(v, x)]
</span><a href="#local-6989586621680025656"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#CycleCntx"><span class="hs-identifier hs-type">CycleCntx</span></a></span><span class="hs-special">{</span><span id="local-6989586621680025655"><span class="annot"><span class="annottext">HashMap v x
cycleCntx :: HashMap v x
cycleCntx :: forall v x. CycleCntx v x -&gt; HashMap v x
</span><a href="#local-6989586621680025655"><span class="hs-identifier hs-var hs-var">cycleCntx</span></a></span></span><span class="hs-special">}</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#Receive"><span class="hs-identifier hs-type">Receive</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680025654"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025654"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span>
</span><span id="line-420"></span><span>        </span><span class="hs-keyword">case</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; v
forall c. Set c -&gt; c
</span><a href="NITTA.Utils.Base.html#oneOf"><span class="hs-identifier hs-var">oneOf</span></a></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025654"><span class="hs-identifier hs-var">vs</span></a></span><span> </span><span class="annot"><span class="annottext">v -&gt; HashMap v x -&gt; Maybe x
forall k v. (Eq k, Hashable k) =&gt; k -&gt; HashMap k v -&gt; Maybe v
</span><span class="hs-operator hs-var">`HM.lookup`</span></span><span> </span><span class="annot"><span class="annottext">HashMap v x
</span><a href="#local-6989586621680025655"><span class="hs-identifier hs-var">cycleCntx</span></a></span><span> </span><span class="hs-keyword">of</span><span>
</span><span id="line-421"></span><span>            </span><span class="hs-comment">-- if output variables are defined - nothing to do (values thrown on upper level)</span><span>
</span><span id="line-422"></span><span>            </span><span class="annot"><span class="hs-identifier hs-type">Just</span></span><span> </span><span class="annot"><span class="annottext">x
</span><span class="hs-identifier">_</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">]</span><span>
</span><span id="line-423"></span><span>            </span><span class="hs-comment">-- if output variables are not defined - set initial value</span><span>
</span><span id="line-424"></span><span>            </span><span class="annot"><span class="annottext">Maybe x
</span><span class="hs-identifier hs-var">Nothing</span></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025653"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">x
forall a. Default a =&gt; a
</span><span class="hs-identifier hs-var">def</span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680025653"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025653"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025654"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-425"></span><span>
</span><span id="line-426"></span><span class="hs-comment">-- |Special function for negative tests only.</span><span>
</span><span id="line-427"></span><span class="hs-keyword">data</span><span> </span><span id="BrokenBuffer"><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-var">BrokenBuffer</span></a></span></span><span> </span><span id="local-6989586621680026468"><span class="annot"><a href="#local-6989586621680026468"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span id="local-6989586621680026467"><span class="annot"><a href="#local-6989586621680026467"><span class="hs-identifier hs-type">x</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span id="BrokenBuffer"><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-var">BrokenBuffer</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026468"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680026468"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">deriving</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="hs-identifier hs-type">Typeable</span></span><span class="hs-special">,</span><span> </span><span id="local-6989586621680025647"><span id="local-6989586621680025649"><span class="annot"><span class="annottext">BrokenBuffer v x -&gt; BrokenBuffer v x -&gt; Bool
(BrokenBuffer v x -&gt; BrokenBuffer v x -&gt; Bool)
-&gt; (BrokenBuffer v x -&gt; BrokenBuffer v x -&gt; Bool)
-&gt; Eq (BrokenBuffer v x)
forall a. (a -&gt; a -&gt; Bool) -&gt; (a -&gt; a -&gt; Bool) -&gt; Eq a
forall v x. Eq v =&gt; BrokenBuffer v x -&gt; BrokenBuffer v x -&gt; Bool
/= :: BrokenBuffer v x -&gt; BrokenBuffer v x -&gt; Bool
$c/= :: forall v x. Eq v =&gt; BrokenBuffer v x -&gt; BrokenBuffer v x -&gt; Bool
== :: BrokenBuffer v x -&gt; BrokenBuffer v x -&gt; Bool
$c== :: forall v x. Eq v =&gt; BrokenBuffer v x -&gt; BrokenBuffer v x -&gt; Bool
</span><span class="hs-identifier hs-var hs-var hs-var hs-var hs-var hs-var">Eq</span></span></span></span><span class="hs-special">)</span><span>
</span><span id="line-428"></span><span>
</span><span id="line-429"></span><span id="local-6989586621680025645"><span id="local-6989586621680025646"><span class="hs-keyword">instance</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Label"><span class="hs-identifier hs-type">Label</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025646"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025645"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span> </span><span id="local-6989586621680025643"><span class="annot"><span class="annottext">label :: BrokenBuffer v x -&gt; String
</span><a href="#local-6989586621680025643"><span class="hs-keyword hs-var hs-var hs-var hs-var">label</span></a></span></span><span> </span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span class="hs-special">{</span><span class="hs-special">}</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;broken&quot;</span></span></span></span><span>
</span><span id="line-430"></span><span id="local-6989586621680025641"><span id="local-6989586621680025642"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025636"><span id="local-6989586621680025639"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025642"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><span class="hs-identifier hs-type">Show</span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025642"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025641"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-431"></span><span>    </span><span id="local-6989586621680025635"><span class="annot"><span class="annottext">show :: BrokenBuffer v x -&gt; String
</span><a href="#local-6989586621680025635"><span class="hs-identifier hs-var hs-var hs-var hs-var">show</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span id="local-6989586621680025634"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025634"><span class="hs-identifier hs-var">i</span></a></span></span><span> </span><span id="local-6989586621680025633"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025633"><span class="hs-identifier hs-var">os</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;brokenBuffer(&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025634"><span class="hs-identifier hs-var">i</span></a></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot;)&quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">String
</span><span class="hs-string">&quot; = &quot;</span></span><span> </span><span class="annot"><span class="annottext">String -&gt; ShowS
forall a. Semigroup a =&gt; a -&gt; a -&gt; a
</span><span class="hs-operator hs-var">&lt;&gt;</span></span><span> </span><span class="annot"><span class="annottext">O v -&gt; String
forall a. Show a =&gt; a -&gt; String
</span><span class="hs-identifier hs-var">show</span></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025633"><span class="hs-identifier hs-var">os</span></a></span></span></span><span>
</span><span id="line-432"></span><span id="local-6989586621680025631"><span id="local-6989586621680025632"><span class="annot"><a href="NITTA.Intermediate.Functions.html#brokenBuffer"><span class="hs-identifier hs-type">brokenBuffer</span></a></span><span> </span><span class="hs-glyph">::</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025632"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Value.html#Val"><span class="hs-identifier hs-type">Val</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025631"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="#local-6989586621680025632"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="hs-special">[</span><span class="annot"><a href="#local-6989586621680025632"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">]</span><span> </span><span class="hs-glyph">-&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#F"><span class="hs-identifier hs-type">F</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025632"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025631"><span class="hs-identifier hs-type">x</span></a></span></span></span><span>
</span><span id="line-433"></span><span id="brokenBuffer"><span class="annot"><span class="annottext">brokenBuffer :: v -&gt; [v] -&gt; F v x
</span><a href="NITTA.Intermediate.Functions.html#brokenBuffer"><span class="hs-identifier hs-var hs-var">brokenBuffer</span></a></span></span><span> </span><span id="local-6989586621680025630"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025630"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680025629"><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025629"><span class="hs-identifier hs-var">b</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BrokenBuffer v x -&gt; F v x
forall f v x.
(Function f v, Patch f (v, v), Locks f v, Show f, Label f,
 FunctionSimulation f v x, Typeable f, Eq f) =&gt;
f -&gt; F v x
</span><a href="NITTA.Intermediate.Types.html#packF"><span class="hs-identifier hs-var">packF</span></a></span><span> </span><span class="annot"><span class="annottext">(BrokenBuffer v x -&gt; F v x) -&gt; BrokenBuffer v x -&gt; F v x
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">I v -&gt; O v -&gt; BrokenBuffer v x
forall v x. I v -&gt; O v -&gt; BrokenBuffer v x
</span><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-var">BrokenBuffer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">v -&gt; I v
forall v. v -&gt; I v
</span><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-var">I</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025630"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">Set v -&gt; O v
forall v. Set v -&gt; O v
</span><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-var">O</span></a></span><span> </span><span class="annot"><span class="annottext">(Set v -&gt; O v) -&gt; Set v -&gt; O v
forall a b. (a -&gt; b) -&gt; a -&gt; b
</span><span class="hs-operator hs-var">$</span></span><span> </span><span class="annot"><span class="annottext">[v] -&gt; Set v
forall a. Ord a =&gt; [a] -&gt; Set a
</span><span class="hs-identifier hs-var">fromList</span></span><span> </span><span class="annot"><span class="annottext">[v]
</span><a href="#local-6989586621680025629"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span><span>
</span><span id="line-434"></span><span>
</span><span id="line-435"></span><span id="local-6989586621680025627"><span id="local-6989586621680025628"><span class="hs-keyword">instance</span><span> </span><span id="local-6989586621680025623"><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025628"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Function"><span class="hs-identifier hs-type">Function</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025628"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025627"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025628"><span class="hs-identifier hs-type">v</span></a></span></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-436"></span><span>    </span><span id="local-6989586621680025622"><span class="annot"><span class="annottext">inputs :: BrokenBuffer v x -&gt; Set v
</span><a href="#local-6989586621680025622"><span class="hs-identifier hs-var hs-var hs-var hs-var">inputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span id="local-6989586621680025621"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025621"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680025620"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025620"><span class="hs-identifier hs-var">_b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025621"><span class="hs-identifier hs-var">a</span></a></span><span>
</span><span id="line-437"></span><span>    </span><span id="local-6989586621680025619"><span class="annot"><span class="annottext">outputs :: BrokenBuffer v x -&gt; Set v
</span><a href="#local-6989586621680025619"><span class="hs-identifier hs-var hs-var hs-var hs-var">outputs</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span id="local-6989586621680025618"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025618"><span class="hs-identifier hs-var">_a</span></a></span></span><span> </span><span id="local-6989586621680025617"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025617"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">O v -&gt; Set v
forall a v. Variables a v =&gt; a -&gt; Set v
</span><a href="NITTA.Intermediate.Variable.html#variables"><span class="hs-identifier hs-var">variables</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025617"><span class="hs-identifier hs-var">b</span></a></span></span></span><span>
</span><span id="line-438"></span><span id="local-6989586621680025615"><span id="local-6989586621680025616"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025616"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Patch"><span class="hs-identifier hs-type">Patch</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025616"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025615"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="#local-6989586621680025616"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><a href="#local-6989586621680025616"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-439"></span><span>    </span><span id="local-6989586621680025613"><span class="annot"><span class="annottext">patch :: (v, v) -&gt; BrokenBuffer v x -&gt; BrokenBuffer v x
</span><a href="#local-6989586621680025613"><span class="hs-identifier hs-var hs-var hs-var hs-var">patch</span></a></span></span><span> </span><span id="local-6989586621680025612"><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025612"><span class="hs-identifier hs-var">diff</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span id="local-6989586621680025611"><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025611"><span class="hs-identifier hs-var">a</span></a></span></span><span> </span><span id="local-6989586621680025610"><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025610"><span class="hs-identifier hs-var">b</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">I v -&gt; O v -&gt; BrokenBuffer v x
forall v x. I v -&gt; O v -&gt; BrokenBuffer v x
</span><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-var">BrokenBuffer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; I v -&gt; I v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025612"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">I v
</span><a href="#local-6989586621680025611"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><span class="annottext">(v, v) -&gt; O v -&gt; O v
forall f diff. Patch f diff =&gt; diff -&gt; f -&gt; f
</span><a href="NITTA.Intermediate.Types.html#patch"><span class="hs-identifier hs-var">patch</span></a></span><span> </span><span class="annot"><span class="annottext">(v, v)
</span><a href="#local-6989586621680025612"><span class="hs-identifier hs-var">diff</span></a></span><span> </span><span class="annot"><span class="annottext">O v
</span><a href="#local-6989586621680025610"><span class="hs-identifier hs-var">b</span></a></span><span class="hs-special">)</span></span></span><span>
</span><span id="line-440"></span><span id="local-6989586621680025608"><span id="local-6989586621680025609"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025609"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#Locks"><span class="hs-identifier hs-type">Locks</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025609"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025608"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025609"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-441"></span><span>    </span><span id="local-6989586621680025605"><span class="annot"><span class="annottext">locks :: BrokenBuffer v x -&gt; [Lock v]
</span><a href="#local-6989586621680025605"><span class="hs-identifier hs-var hs-var hs-var hs-var">locks</span></a></span></span><span> </span><span class="hs-glyph">=</span><span> </span><span class="annot"><span class="annottext">BrokenBuffer v x -&gt; [Lock v]
forall f v. Function f v =&gt; f -&gt; [Lock v]
</span><a href="NITTA.Intermediate.Types.html#inputsLockOutputs"><span class="hs-identifier hs-var">inputsLockOutputs</span></a></span></span></span><span>
</span><span id="line-442"></span><span id="local-6989586621680025603"><span id="local-6989586621680025604"><span class="hs-keyword">instance</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Variable.html#Var"><span class="hs-identifier hs-type">Var</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025604"><span class="hs-identifier hs-type">v</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=&gt;</span><span> </span><span class="annot"><a href="NITTA.Intermediate.Types.html#FunctionSimulation"><span class="hs-identifier hs-type">FunctionSimulation</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025604"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025603"><span class="hs-identifier hs-type">x</span></a></span><span class="hs-special">)</span><span> </span><span class="annot"><a href="#local-6989586621680025604"><span class="hs-identifier hs-type">v</span></a></span><span> </span><span class="annot"><a href="#local-6989586621680025603"><span class="hs-identifier hs-type">x</span></a></span><span> </span><span class="hs-keyword">where</span><span>
</span><span id="line-443"></span><span>    </span><span id="local-6989586621680025601"><span class="annot"><span class="annottext">simulate :: CycleCntx v x -&gt; BrokenBuffer v x -&gt; [(v, x)]
</span><a href="#local-6989586621680025601"><span class="hs-identifier hs-var hs-var hs-var hs-var">simulate</span></a></span></span><span> </span><span id="local-6989586621680025600"><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025600"><span class="hs-identifier hs-var">cntx</span></a></span></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Functions.html#BrokenBuffer"><span class="hs-identifier hs-type">BrokenBuffer</span></a></span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#I"><span class="hs-identifier hs-type">I</span></a></span><span> </span><span id="local-6989586621680025599"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025599"><span class="hs-identifier hs-var">a</span></a></span></span><span class="hs-special">)</span><span> </span><span class="hs-special">(</span><span class="annot"><a href="NITTA.Intermediate.Types.html#O"><span class="hs-identifier hs-type">O</span></a></span><span> </span><span id="local-6989586621680025598"><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025598"><span class="hs-identifier hs-var">vs</span></a></span></span><span class="hs-special">)</span><span class="hs-special">)</span><span> </span><span class="hs-glyph">=</span><span> </span><span class="hs-special">[</span><span class="hs-special">(</span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025597"><span class="hs-identifier hs-var">v</span></a></span><span class="hs-special">,</span><span> </span><span class="annot"><span class="annottext">CycleCntx v x
</span><a href="#local-6989586621680025600"><span class="hs-identifier hs-var">cntx</span></a></span><span> </span><span class="annot"><span class="annottext">CycleCntx v x -&gt; v -&gt; x
forall a p.
(Eq a, Hashable a, ToString a) =&gt;
CycleCntx a p -&gt; a -&gt; p
</span><a href="NITTA.Intermediate.Types.html#getCntx"><span class="hs-operator hs-var">`getCntx`</span></a></span><span> </span><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025599"><span class="hs-identifier hs-var">a</span></a></span><span class="hs-special">)</span><span> </span><span class="hs-glyph">|</span><span> </span><span id="local-6989586621680025597"><span class="annot"><span class="annottext">v
</span><a href="#local-6989586621680025597"><span class="hs-identifier hs-var">v</span></a></span></span><span> </span><span class="hs-glyph">&lt;-</span><span> </span><span class="annot"><span class="annottext">Set v -&gt; [v]
forall a. Set a -&gt; [a]
</span><span class="hs-identifier hs-var">elems</span></span><span> </span><span class="annot"><span class="annottext">Set v
</span><a href="#local-6989586621680025598"><span class="hs-identifier hs-var">vs</span></a></span><span class="hs-special">]</span></span></span><span>
</span><span id="line-444"></span></pre></body></html>